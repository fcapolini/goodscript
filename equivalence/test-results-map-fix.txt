Loading equivalence tests...

Running 161 equivalence test(s)...


============================================================
EQUIVALENCE TEST RESULTS
============================================================

‚úÖ Integer addition
‚úÖ Integer subtraction
‚úÖ Integer multiplication
‚úÖ Floating-point division
‚úÖ Modulo operation
‚úÖ Negative numbers
‚úÖ Order of operations
‚úÖ Integer overflow boundary (integer53)
‚úÖ Array literal
‚úÖ Array push
‚úÖ Array indexing
‚úÖ Array for-of loop
‚úÖ Empty array
‚úÖ Array with reserve optimization
‚úÖ Simple class instantiation
‚úÖ Class with methods
‚úÖ Class with string fields
‚úÖ Multiple instances

‚ùå Class field initialization
   [gc] Failed (2121ms)
   Expected: "5000\n3\n"
   Got:      "67108368\n7245992\n"
   [ownership] Failed (2177ms)
   Expected: "5000\n3\n"
   Got:      "1130390040\n48372896\n"

‚ùå Class with boolean field
   [gc] Failed (780ms)
   Error: Command failed: /Users/bilbo/Devel/oss/goodscript/goodscript/compiler/bin/gsc --gsTarget cpp --gsMemory gc -o /var/folders/dm/rpn_c6_13k167t8p_0dqr5gm0000gn/T/goodscript-equiv-1765410067090/test-gc /var/folders/dm/rpn_c6_13k167t8p_0dqr5gm0000gn/T/goodscript-equiv-1765410067090/test-gs.ts

‚ùå Errors:
  /var/folders/dm/rpn_c6_13k167t8p_0dqr5gm0000gn/T/goodscript-equiv-1765410067090/test-gs.ts:10:26 - GS110: Use explicit comparisons instead of truthy/falsy checks
  Binary compilation failed
    Using cached mps.o
    Compiling cppcoro...
    Linking...
    Command failed: zig c++ dist/build/.cache/vendor/mps.o dist/build/.cache/vendor/lightweight_manual_reset_event.o dist/build/.cache/vendor/spin_wait.o dist/build/.cache/vendor/spin_mutex.o -o /var/folders/dm/rpn_c6_13k167t8p_0dqr5gm0000gn/T/goodscript-equiv-1765410067090/test-gc
Exit code: 1
stderr: error: undefined symbol: _main
    note: referenced with linker flag -e

stdout: 

   Expected: "true\nfalse\n"
   Got:      "üì¶ Compiling 1 file(s)...\n\nüî® Compiling to native binary...\n"
   [ownership] Failed (773ms)
   Error: Command failed: /Users/bilbo/Devel/oss/goodscript/goodscript/compiler/bin/gsc --gsTarget cpp --gsMemory ownership -o /var/folders/dm/rpn_c6_13k167t8p_0dqr5gm0000gn/T/goodscript-equiv-1765410067090/test-ownership /var/folders/dm/rpn_c6_13k167t8p_0dqr5gm0000gn/T/goodscript-equiv-1765410067090/test-gs.ts

‚ùå Errors:
  /var/folders/dm/rpn_c6_13k167t8p_0dqr5gm0000gn/T/goodscript-equiv-1765410067090/test-gs.ts:10:26 - GS110: Use explicit comparisons instead of truthy/falsy checks
  Binary compilation failed
    Compiling cppcoro...
    Linking...
    Command failed: zig c++ dist/build/.cache/vendor/lightweight_manual_reset_event.o dist/build/.cache/vendor/spin_wait.o dist/build/.cache/vendor/spin_mutex.o -o /var/folders/dm/rpn_c6_13k167t8p_0dqr5gm0000gn/T/goodscript-equiv-1765410067090/test-ownership
Exit code: 1
stderr: error: undefined symbol: _main
    note: referenced with linker flag -e

stdout: 

   Expected: "true\nfalse\n"
   Got:      "üì¶ Compiling 1 file(s)...\n\nüî® Compiling to native binary...\n"
‚úÖ Simple if statement
‚úÖ If-else statement
‚úÖ If-else-if chain

‚ùå While loop
   [gc] Failed (2133ms)
   Expected: "0\n1\n2\n3\n4\n"
   Got:      ""
   [ownership] Failed (2131ms)
   Expected: "0\n1\n2\n3\n4\n"
   Got:      ""
‚úÖ Traditional for loop
‚úÖ For loop with step
‚úÖ For-of loop with array
‚úÖ Break statement
‚úÖ Continue statement
‚úÖ Nested loops

‚ùå Switch statement
   [gc] Failed (2032ms)
   Expected: "weekend\nweekday\nweekend\ninvalid\n"
   Got:      ""
   [ownership] Failed (2120ms)
   Expected: "weekend\nweekday\nweekend\ninvalid\n"
   Got:      ""

‚ùå Simple try-catch
   [gc] Failed (1578ms)
   Error: Command failed: /Users/bilbo/Devel/oss/goodscript/goodscript/compiler/bin/gsc --gsTarget cpp --gsMemory gc -o /var/folders/dm/rpn_c6_13k167t8p_0dqr5gm0000gn/T/goodscript-equiv-1765410118359/test-gc /var/folders/dm/rpn_c6_13k167t8p_0dqr5gm0000gn/T/goodscript-equiv-1765410118359/test-gs.ts

‚ùå Errors:
  Binary compilation failed
    Using cached mps.o
    Compiling cppcoro...
    Compiling test.cpp...
    Command failed: zig c++ -std=c++20 -O3 -c -I dist/build -I /Users/bilbo/Devel/oss/goodscript/goodscript/compiler/vendor/mps/src -I /Users/bilbo/Devel/oss/goodscript/goodscript/compiler/vendor/cpp-httplib -I /Users/bilbo/Devel/oss/goodscript/goodscript/compiler -I /Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp -I /Users/bilbo/Devel/oss/goodscript/goodscript/compiler/vendor/cppcoro/include dist/build/test.cpp -o dist/build/test.o
Exit code: 1
stderr: dist/build/test.cpp:26:48: error: no matching function for call to 'from'
   26 |     gs::console::log((gs::String("caught: ") + gs::String::from(e)));
      |                                                ^~~~~~~~~~~~~~~~
/Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/gc/string.hpp:600:19: note: candidate function not viable: no known conversion from 'const gs::Error' to 'const String' for 1st argument
  600 |     static String from(const String& s) {
      |                   ^    ~~~~~~~~~~~~~~~
/Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/gc/string.hpp:604:19: note: candidate function not viable: no known conversion from 'const gs::Error' to 'const char *' for 1st argument
  604 |     static String from(const char* s) {
      |                   ^    ~~~~~~~~~~~~~
/Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/gc/string.hpp:608:19: note: candidate function not viable: no known conversion from 'const gs::Error' to 'const std::string' (aka 'const basic_string<char>') for 1st argument
  608 |     static String from(const std::string& s) {
      |                   ^    ~~~~~~~~~~~~~~~~~~~~
/Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/gc/string.hpp:612:19: note: candidate function not viable: no known conversion from 'const gs::Error' to 'double' for 1st argument
  612 |     static String from(double value) {
      |                   ^    ~~~~~~~~~~~~
/Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/gc/string.hpp:622:19: note: candidate function not viable: no known conversion from 'const gs::Error' to 'int' for 1st argument
  622 |     static String from(int value) {
      |                   ^    ~~~~~~~~~
/Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/gc/string.hpp:628:19: note: candidate function not viable: no known conversion from 'const gs::Error' to 'long' for 1st argument
  628 |     static String from(long value) {
      |                   ^    ~~~~~~~~~~
/Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/gc/string.hpp:634:19: note: candidate function not viable: no known conversion from 'const gs::Error' to 'long long' for 1st argument
  634 |     static String from(long long value) {
      |                   ^    ~~~~~~~~~~~~~~~
/Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/gc/string.hpp:640:19: note: candidate function not viable: no known conversion from 'const gs::Error' to 'size_t' (aka 'unsigned long') for 1st argument
  640 |     static String from(size_t value) {
      |                   ^    ~~~~~~~~~~~~
/Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/gc/string.hpp:646:19: note: candidate function not viable: no known conversion from 'const gs::Error' to 'bool' for 1st argument
  646 |     static String from(bool value) {
      |                   ^    ~~~~~~~~~~
/Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/gc/string.hpp:650:19: note: candidate function not viable: no known conversion from 'const gs::Error' to 'const std::optional<double>' for 1st argument
  650 |     static String from(const std::optional<double>& opt) {
      |                   ^    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
/Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/gc/string.hpp:654:19: note: candidate function not viable: no known conversion from 'const gs::Error' to 'const std::optional<int>' for 1st argument
  654 |     static String from(const std::optional<int>& opt) {
      |                   ^    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
/Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/gc/string.hpp:658:19: note: candidate function not viable: no known conversion from 'const gs::Error' to 'const std::optional<bool>' for 1st argument
  658 |     static String from(const std::optional<bool>& opt) {
      |                   ^    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
/Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/gc/string.hpp:662:19: note: candidate function not viable: no known conversion from 'const gs::Error' to 'const std::optional<String>' for 1st argument
  662 |     static String from(const std::optional<String>& opt) {
      |                   ^    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
In file included from dist/build/test.cpp:1:
In file included from dist/build/test.hpp:5:
In file included from /Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/gc/gs_gc_runtime.hpp:24:
/Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/gc/array.hpp:52:29: warning: first argument in call to 'memcpy' is a pointer to non-trivially copyable type 'gs::String' [-Wnontrivial-memcall]
   52 |                 std::memcpy(new_data, data_, length_ * sizeof(T));
      |                             ^
/Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/gc/array.hpp:191:13: note: in instantiation of member function 'gs::Array<gs::String>::resize_capacity' requested here
  191 |             resize_capacity(calculate_growth(capacity_));
      |             ^
/Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/gc/array.hpp:499:20: note: in instantiation of member function 'gs::Array<gs::String>::push' requested here
  499 |             result.push(charAt(i));
      |                    ^
/Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/gc/array.hpp:52:29: note: explicitly cast the pointer to silence this warning
   52 |                 std::memcpy(new_data, data_, length_ * sizeof(T));
      |                             ^
      |                             (void*)
1 warning and 1 error generated.

stdout: 

   Expected: "before throw\ncaught: error message\nafter catch\n"
   Got:      "üì¶ Compiling 1 file(s)...\n  ‚úì test.hpp\n  ‚úì test.cpp\n\nüî® Compiling to native binary...\n"
   [ownership] Failed (1662ms)
   Error: Command failed: /Users/bilbo/Devel/oss/goodscript/goodscript/compiler/bin/gsc --gsTarget cpp --gsMemory ownership -o /var/folders/dm/rpn_c6_13k167t8p_0dqr5gm0000gn/T/goodscript-equiv-1765410118359/test-ownership /var/folders/dm/rpn_c6_13k167t8p_0dqr5gm0000gn/T/goodscript-equiv-1765410118359/test-gs.ts

‚ùå Errors:
  Binary compilation failed
    Compiling cppcoro...
    Compiling test.cpp...
    Command failed: zig c++ -std=c++20 -O3 -c -I dist/build -I /Users/bilbo/Devel/oss/goodscript/goodscript/compiler/vendor/cpp-httplib -I /Users/bilbo/Devel/oss/goodscript/goodscript/compiler -I /Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp -I /Users/bilbo/Devel/oss/goodscript/goodscript/compiler/vendor/cppcoro/include dist/build/test.cpp -o dist/build/test.o
Exit code: 1
stderr: dist/build/test.cpp:26:48: error: no matching function for call to 'from'
   26 |     gs::console::log((gs::String("caught: ") + gs::String::from(e)));
      |                                                ^~~~~~~~~~~~~~~~
/Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/ownership/gs_string.hpp:46:17: note: candidate function not viable: no known conversion from 'const gs::Error' to 'const String' for 1st argument
   46 |   static String from(const String& s) {
      |                 ^    ~~~~~~~~~~~~~~~
/Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/ownership/gs_string.hpp:50:17: note: candidate function not viable: no known conversion from 'const gs::Error' to 'const char *' for 1st argument
   50 |   static String from(const char* s) {
      |                 ^    ~~~~~~~~~~~~~
/Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/ownership/gs_string.hpp:54:17: note: candidate function not viable: no known conversion from 'const gs::Error' to 'const std::string' (aka 'const basic_string<char>') for 1st argument
   54 |   static String from(const std::string& s) {
      |                 ^    ~~~~~~~~~~~~~~~~~~~~
/Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/ownership/gs_string.hpp:58:17: note: candidate function not viable: no known conversion from 'const gs::Error' to 'double' for 1st argument
   58 |   static String from(double value) {
      |                 ^    ~~~~~~~~~~~~
/Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/ownership/gs_string.hpp:73:17: note: candidate function not viable: no known conversion from 'const gs::Error' to 'int' for 1st argument
   73 |   static String from(int value) {
      |                 ^    ~~~~~~~~~
/Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/ownership/gs_string.hpp:77:17: note: candidate function not viable: no known conversion from 'const gs::Error' to 'long' for 1st argument
   77 |   static String from(long value) {
      |                 ^    ~~~~~~~~~~
/Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/ownership/gs_string.hpp:81:17: note: candidate function not viable: no known conversion from 'const gs::Error' to 'long long' for 1st argument
   81 |   static String from(long long value) {
      |                 ^    ~~~~~~~~~~~~~~~
/Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/ownership/gs_string.hpp:85:17: note: candidate function not viable: no known conversion from 'const gs::Error' to 'bool' for 1st argument
   85 |   static String from(bool value) {
      |                 ^    ~~~~~~~~~~
/Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/ownership/gs_string.hpp:90:17: note: candidate function not viable: no known conversion from 'const gs::Error' to 'const std::optional<double>' for 1st argument
   90 |   static String from(const std::optional<double>& opt) {
      |                 ^    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
/Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/ownership/gs_string.hpp:94:17: note: candidate function not viable: no known conversion from 'const gs::Error' to 'const std::optional<int>' for 1st argument
   94 |   static String from(const std::optional<int>& opt) {
      |                 ^    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
/Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/ownership/gs_string.hpp:98:17: note: candidate function not viable: no known conversion from 'const gs::Error' to 'const std::optional<bool>' for 1st argument
   98 |   static String from(const std::optional<bool>& opt) {
      |                 ^    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
/Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/ownership/gs_string.hpp:102:17: note: candidate function not viable: no known conversion from 'const gs::Error' to 'const std::optional<String>' for 1st argument
  102 |   static String from(const std::optional<String>& opt) {
      |                 ^    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
1 error generated.

stdout: 

   Expected: "before throw\ncaught: error message\nafter catch\n"
   Got:      "üì¶ Compiling 1 file(s)...\n  ‚úì test.hpp\n  ‚úì test.cpp\n\nüî® Compiling to native binary...\n"

‚ùå Try-finally
   [gc] Failed (1618ms)
   Error: Command failed: /Users/bilbo/Devel/oss/goodscript/goodscript/compiler/bin/gsc --gsTarget cpp --gsMemory gc -o /var/folders/dm/rpn_c6_13k167t8p_0dqr5gm0000gn/T/goodscript-equiv-1765410121826/test-gc /var/folders/dm/rpn_c6_13k167t8p_0dqr5gm0000gn/T/goodscript-equiv-1765410121826/test-gs.ts

‚ùå Errors:
  Binary compilation failed
    Using cached mps.o
    Compiling cppcoro...
    Compiling test.cpp...
    Command failed: zig c++ -std=c++20 -O3 -c -I dist/build -I /Users/bilbo/Devel/oss/goodscript/goodscript/compiler/vendor/mps/src -I /Users/bilbo/Devel/oss/goodscript/goodscript/compiler/vendor/cpp-httplib -I /Users/bilbo/Devel/oss/goodscript/goodscript/compiler -I /Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp -I /Users/bilbo/Devel/oss/goodscript/goodscript/compiler/vendor/cppcoro/include dist/build/test.cpp -o dist/build/test.o
Exit code: 1
stderr: dist/build/test.cpp:24:3: error: expected catch
   24 |   {
      |   ^
In file included from dist/build/test.cpp:1:
In file included from dist/build/test.hpp:5:
In file included from /Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/gc/gs_gc_runtime.hpp:24:
/Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/gc/array.hpp:52:29: warning: first argument in call to 'memcpy' is a pointer to non-trivially copyable type 'gs::String' [-Wnontrivial-memcall]
   52 |                 std::memcpy(new_data, data_, length_ * sizeof(T));
      |                             ^
/Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/gc/array.hpp:191:13: note: in instantiation of member function 'gs::Array<gs::String>::resize_capacity' requested here
  191 |             resize_capacity(calculate_growth(capacity_));
      |             ^
/Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/gc/array.hpp:499:20: note: in instantiation of member function 'gs::Array<gs::String>::push' requested here
  499 |             result.push(charAt(i));
      |                    ^
/Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/gc/array.hpp:52:29: note: explicitly cast the pointer to silence this warning
   52 |                 std::memcpy(new_data, data_, length_ * sizeof(T));
      |                             ^
      |                             (void*)
1 warning and 1 error generated.

stdout: 

   Expected: "try block\nfinally block\nafter try-finally\n"
   Got:      "üì¶ Compiling 1 file(s)...\n  ‚úì test.hpp\n  ‚úì test.cpp\n\nüî® Compiling to native binary...\n"
   [ownership] Failed (1721ms)
   Error: Command failed: /Users/bilbo/Devel/oss/goodscript/goodscript/compiler/bin/gsc --gsTarget cpp --gsMemory ownership -o /var/folders/dm/rpn_c6_13k167t8p_0dqr5gm0000gn/T/goodscript-equiv-1765410121826/test-ownership /var/folders/dm/rpn_c6_13k167t8p_0dqr5gm0000gn/T/goodscript-equiv-1765410121826/test-gs.ts

‚ùå Errors:
  Binary compilation failed
    Compiling cppcoro...
    Compiling test.cpp...
    Command failed: zig c++ -std=c++20 -O3 -c -I dist/build -I /Users/bilbo/Devel/oss/goodscript/goodscript/compiler/vendor/cpp-httplib -I /Users/bilbo/Devel/oss/goodscript/goodscript/compiler -I /Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp -I /Users/bilbo/Devel/oss/goodscript/goodscript/compiler/vendor/cppcoro/include dist/build/test.cpp -o dist/build/test.o
Exit code: 1
stderr: dist/build/test.cpp:24:3: error: expected catch
   24 |   {
      |   ^
1 error generated.

stdout: 

   Expected: "try block\nfinally block\nafter try-finally\n"
   Got:      "üì¶ Compiling 1 file(s)...\n  ‚úì test.hpp\n  ‚úì test.cpp\n\nüî® Compiling to native binary...\n"

‚ùå Try-catch-finally
   [gc] Failed (1580ms)
   Error: Command failed: /Users/bilbo/Devel/oss/goodscript/goodscript/compiler/bin/gsc --gsTarget cpp --gsMemory gc -o /var/folders/dm/rpn_c6_13k167t8p_0dqr5gm0000gn/T/goodscript-equiv-1765410125390/test-gc /var/folders/dm/rpn_c6_13k167t8p_0dqr5gm0000gn/T/goodscript-equiv-1765410125390/test-gs.ts

‚ùå Errors:
  Binary compilation failed
    Using cached mps.o
    Compiling cppcoro...
    Compiling test.cpp...
    Command failed: zig c++ -std=c++20 -O3 -c -I dist/build -I /Users/bilbo/Devel/oss/goodscript/goodscript/compiler/vendor/mps/src -I /Users/bilbo/Devel/oss/goodscript/goodscript/compiler/vendor/cpp-httplib -I /Users/bilbo/Devel/oss/goodscript/goodscript/compiler -I /Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp -I /Users/bilbo/Devel/oss/goodscript/goodscript/compiler/vendor/cppcoro/include dist/build/test.cpp -o dist/build/test.o
Exit code: 1
stderr: dist/build/test.cpp:25:47: error: no matching function for call to 'from'
   25 |     gs::console::log((gs::String("catch: ") + gs::String::from(e)));
      |                                               ^~~~~~~~~~~~~~~~
/Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/gc/string.hpp:600:19: note: candidate function not viable: no known conversion from 'const gs::Error' to 'const String' for 1st argument
  600 |     static String from(const String& s) {
      |                   ^    ~~~~~~~~~~~~~~~
/Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/gc/string.hpp:604:19: note: candidate function not viable: no known conversion from 'const gs::Error' to 'const char *' for 1st argument
  604 |     static String from(const char* s) {
      |                   ^    ~~~~~~~~~~~~~
/Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/gc/string.hpp:608:19: note: candidate function not viable: no known conversion from 'const gs::Error' to 'const std::string' (aka 'const basic_string<char>') for 1st argument
  608 |     static String from(const std::string& s) {
      |                   ^    ~~~~~~~~~~~~~~~~~~~~
/Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/gc/string.hpp:612:19: note: candidate function not viable: no known conversion from 'const gs::Error' to 'double' for 1st argument
  612 |     static String from(double value) {
      |                   ^    ~~~~~~~~~~~~
/Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/gc/string.hpp:622:19: note: candidate function not viable: no known conversion from 'const gs::Error' to 'int' for 1st argument
  622 |     static String from(int value) {
      |                   ^    ~~~~~~~~~
/Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/gc/string.hpp:628:19: note: candidate function not viable: no known conversion from 'const gs::Error' to 'long' for 1st argument
  628 |     static String from(long value) {
      |                   ^    ~~~~~~~~~~
/Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/gc/string.hpp:634:19: note: candidate function not viable: no known conversion from 'const gs::Error' to 'long long' for 1st argument
  634 |     static String from(long long value) {
      |                   ^    ~~~~~~~~~~~~~~~
/Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/gc/string.hpp:640:19: note: candidate function not viable: no known conversion from 'const gs::Error' to 'size_t' (aka 'unsigned long') for 1st argument
  640 |     static String from(size_t value) {
      |                   ^    ~~~~~~~~~~~~
/Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/gc/string.hpp:646:19: note: candidate function not viable: no known conversion from 'const gs::Error' to 'bool' for 1st argument
  646 |     static String from(bool value) {
      |                   ^    ~~~~~~~~~~
/Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/gc/string.hpp:650:19: note: candidate function not viable: no known conversion from 'const gs::Error' to 'const std::optional<double>' for 1st argument
  650 |     static String from(const std::optional<double>& opt) {
      |                   ^    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
/Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/gc/string.hpp:654:19: note: candidate function not viable: no known conversion from 'const gs::Error' to 'const std::optional<int>' for 1st argument
  654 |     static String from(const std::optional<int>& opt) {
      |                   ^    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
/Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/gc/string.hpp:658:19: note: candidate function not viable: no known conversion from 'const gs::Error' to 'const std::optional<bool>' for 1st argument
  658 |     static String from(const std::optional<bool>& opt) {
      |                   ^    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
/Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/gc/string.hpp:662:19: note: candidate function not viable: no known conversion from 'const gs::Error' to 'const std::optional<String>' for 1st argument
  662 |     static String from(const std::optional<String>& opt) {
      |                   ^    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
In file included from dist/build/test.cpp:1:
In file included from dist/build/test.hpp:5:
In file included from /Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/gc/gs_gc_runtime.hpp:24:
/Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/gc/array.hpp:52:29: warning: first argument in call to 'memcpy' is a pointer to non-trivially copyable type 'gs::String' [-Wnontrivial-memcall]
   52 |                 std::memcpy(new_data, data_, length_ * sizeof(T));
      |                             ^
/Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/gc/array.hpp:191:13: note: in instantiation of member function 'gs::Array<gs::String>::resize_capacity' requested here
  191 |             resize_capacity(calculate_growth(capacity_));
      |             ^
/Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/gc/array.hpp:499:20: note: in instantiation of member function 'gs::Array<gs::String>::push' requested here
  499 |             result.push(charAt(i));
      |                    ^
/Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/gc/array.hpp:52:29: note: explicitly cast the pointer to silence this warning
   52 |                 std::memcpy(new_data, data_, length_ * sizeof(T));
      |                             ^
      |                             (void*)
1 warning and 1 error generated.

stdout: 

   Expected: "try\ncatch: error\nfinally\ndone\n"
   Got:      "üì¶ Compiling 1 file(s)...\n  ‚úì test.hpp\n  ‚úì test.cpp\n\nüî® Compiling to native binary...\n"
   [ownership] Failed (1695ms)
   Error: Command failed: /Users/bilbo/Devel/oss/goodscript/goodscript/compiler/bin/gsc --gsTarget cpp --gsMemory ownership -o /var/folders/dm/rpn_c6_13k167t8p_0dqr5gm0000gn/T/goodscript-equiv-1765410125390/test-ownership /var/folders/dm/rpn_c6_13k167t8p_0dqr5gm0000gn/T/goodscript-equiv-1765410125390/test-gs.ts

‚ùå Errors:
  Binary compilation failed
    Compiling cppcoro...
    Compiling test.cpp...
    Command failed: zig c++ -std=c++20 -O3 -c -I dist/build -I /Users/bilbo/Devel/oss/goodscript/goodscript/compiler/vendor/cpp-httplib -I /Users/bilbo/Devel/oss/goodscript/goodscript/compiler -I /Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp -I /Users/bilbo/Devel/oss/goodscript/goodscript/compiler/vendor/cppcoro/include dist/build/test.cpp -o dist/build/test.o
Exit code: 1
stderr: dist/build/test.cpp:25:47: error: no matching function for call to 'from'
   25 |     gs::console::log((gs::String("catch: ") + gs::String::from(e)));
      |                                               ^~~~~~~~~~~~~~~~
/Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/ownership/gs_string.hpp:46:17: note: candidate function not viable: no known conversion from 'const gs::Error' to 'const String' for 1st argument
   46 |   static String from(const String& s) {
      |                 ^    ~~~~~~~~~~~~~~~
/Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/ownership/gs_string.hpp:50:17: note: candidate function not viable: no known conversion from 'const gs::Error' to 'const char *' for 1st argument
   50 |   static String from(const char* s) {
      |                 ^    ~~~~~~~~~~~~~
/Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/ownership/gs_string.hpp:54:17: note: candidate function not viable: no known conversion from 'const gs::Error' to 'const std::string' (aka 'const basic_string<char>') for 1st argument
   54 |   static String from(const std::string& s) {
      |                 ^    ~~~~~~~~~~~~~~~~~~~~
/Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/ownership/gs_string.hpp:58:17: note: candidate function not viable: no known conversion from 'const gs::Error' to 'double' for 1st argument
   58 |   static String from(double value) {
      |                 ^    ~~~~~~~~~~~~
/Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/ownership/gs_string.hpp:73:17: note: candidate function not viable: no known conversion from 'const gs::Error' to 'int' for 1st argument
   73 |   static String from(int value) {
      |                 ^    ~~~~~~~~~
/Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/ownership/gs_string.hpp:77:17: note: candidate function not viable: no known conversion from 'const gs::Error' to 'long' for 1st argument
   77 |   static String from(long value) {
      |                 ^    ~~~~~~~~~~
/Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/ownership/gs_string.hpp:81:17: note: candidate function not viable: no known conversion from 'const gs::Error' to 'long long' for 1st argument
   81 |   static String from(long long value) {
      |                 ^    ~~~~~~~~~~~~~~~
/Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/ownership/gs_string.hpp:85:17: note: candidate function not viable: no known conversion from 'const gs::Error' to 'bool' for 1st argument
   85 |   static String from(bool value) {
      |                 ^    ~~~~~~~~~~
/Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/ownership/gs_string.hpp:90:17: note: candidate function not viable: no known conversion from 'const gs::Error' to 'const std::optional<double>' for 1st argument
   90 |   static String from(const std::optional<double>& opt) {
      |                 ^    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
/Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/ownership/gs_string.hpp:94:17: note: candidate function not viable: no known conversion from 'const gs::Error' to 'const std::optional<int>' for 1st argument
   94 |   static String from(const std::optional<int>& opt) {
      |                 ^    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
/Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/ownership/gs_string.hpp:98:17: note: candidate function not viable: no known conversion from 'const gs::Error' to 'const std::optional<bool>' for 1st argument
   98 |   static String from(const std::optional<bool>& opt) {
      |                 ^    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
/Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/ownership/gs_string.hpp:102:17: note: candidate function not viable: no known conversion from 'const gs::Error' to 'const std::optional<String>' for 1st argument
  102 |   static String from(const std::optional<String>& opt) {
      |                 ^    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
1 error generated.

stdout: 

   Expected: "try\ncatch: error\nfinally\ndone\n"
   Got:      "üì¶ Compiling 1 file(s)...\n  ‚úì test.hpp\n  ‚úì test.cpp\n\nüî® Compiling to native binary...\n"

‚ùå Nested try-catch
   [gc] Failed (1582ms)
   Error: Command failed: /Users/bilbo/Devel/oss/goodscript/goodscript/compiler/bin/gsc --gsTarget cpp --gsMemory gc -o /var/folders/dm/rpn_c6_13k167t8p_0dqr5gm0000gn/T/goodscript-equiv-1765410128887/test-gc /var/folders/dm/rpn_c6_13k167t8p_0dqr5gm0000gn/T/goodscript-equiv-1765410128887/test-gs.ts

‚ùå Errors:
  Binary compilation failed
    Using cached mps.o
    Compiling cppcoro...
    Compiling test.cpp...
    Command failed: zig c++ -std=c++20 -O3 -c -I dist/build -I /Users/bilbo/Devel/oss/goodscript/goodscript/compiler/vendor/mps/src -I /Users/bilbo/Devel/oss/goodscript/goodscript/compiler/vendor/cpp-httplib -I /Users/bilbo/Devel/oss/goodscript/goodscript/compiler -I /Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp -I /Users/bilbo/Devel/oss/goodscript/goodscript/compiler/vendor/cppcoro/include dist/build/test.cpp -o dist/build/test.o
Exit code: 1
stderr: dist/build/test.cpp:27:55: error: no matching function for call to 'from'
   27 |       gs::console::log((gs::String("inner catch: ") + gs::String::from(e)));
      |                                                       ^~~~~~~~~~~~~~~~
/Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/gc/string.hpp:600:19: note: candidate function not viable: no known conversion from 'const gs::Error' to 'const String' for 1st argument
  600 |     static String from(const String& s) {
      |                   ^    ~~~~~~~~~~~~~~~
/Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/gc/string.hpp:604:19: note: candidate function not viable: no known conversion from 'const gs::Error' to 'const char *' for 1st argument
  604 |     static String from(const char* s) {
      |                   ^    ~~~~~~~~~~~~~
/Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/gc/string.hpp:608:19: note: candidate function not viable: no known conversion from 'const gs::Error' to 'const std::string' (aka 'const basic_string<char>') for 1st argument
  608 |     static String from(const std::string& s) {
      |                   ^    ~~~~~~~~~~~~~~~~~~~~
/Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/gc/string.hpp:612:19: note: candidate function not viable: no known conversion from 'const gs::Error' to 'double' for 1st argument
  612 |     static String from(double value) {
      |                   ^    ~~~~~~~~~~~~
/Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/gc/string.hpp:622:19: note: candidate function not viable: no known conversion from 'const gs::Error' to 'int' for 1st argument
  622 |     static String from(int value) {
      |                   ^    ~~~~~~~~~
/Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/gc/string.hpp:628:19: note: candidate function not viable: no known conversion from 'const gs::Error' to 'long' for 1st argument
  628 |     static String from(long value) {
      |                   ^    ~~~~~~~~~~
/Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/gc/string.hpp:634:19: note: candidate function not viable: no known conversion from 'const gs::Error' to 'long long' for 1st argument
  634 |     static String from(long long value) {
      |                   ^    ~~~~~~~~~~~~~~~
/Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/gc/string.hpp:640:19: note: candidate function not viable: no known conversion from 'const gs::Error' to 'size_t' (aka 'unsigned long') for 1st argument
  640 |     static String from(size_t value) {
      |                   ^    ~~~~~~~~~~~~
/Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/gc/string.hpp:646:19: note: candidate function not viable: no known conversion from 'const gs::Error' to 'bool' for 1st argument
  646 |     static String from(bool value) {
      |                   ^    ~~~~~~~~~~
/Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/gc/string.hpp:650:19: note: candidate function not viable: no known conversion from 'const gs::Error' to 'const std::optional<double>' for 1st argument
  650 |     static String from(const std::optional<double>& opt) {
      |                   ^    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
/Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/gc/string.hpp:654:19: note: candidate function not viable: no known conversion from 'const gs::Error' to 'const std::optional<int>' for 1st argument
  654 |     static String from(const std::optional<int>& opt) {
      |                   ^    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
/Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/gc/string.hpp:658:19: note: candidate function not viable: no known conversion from 'const gs::Error' to 'const std::optional<bool>' for 1st argument
  658 |     static String from(const std::optional<bool>& opt) {
      |                   ^    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
/Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/gc/string.hpp:662:19: note: candidate function not viable: no known conversion from 'const gs::Error' to 'const std::optional<String>' for 1st argument
  662 |     static String from(const std::optional<String>& opt) {
      |                   ^    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
In file included from dist/build/test.cpp:1:
In file included from dist/build/test.hpp:5:
In file included from /Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/gc/gs_gc_runtime.hpp:24:
/Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/gc/array.hpp:52:29: warning: first argument in call to 'memcpy' is a pointer to non-trivially copyable type 'gs::String' [-Wnontrivial-memcall]
   52 |                 std::memcpy(new_data, data_, length_ * sizeof(T));
      |                             ^
/Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/gc/array.hpp:191:13: note: in instantiation of member function 'gs::Array<gs::String>::resize_capacity' requested here
  191 |             resize_capacity(calculate_growth(capacity_));
      |             ^
/Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/gc/array.hpp:499:20: note: in instantiation of member function 'gs::Array<gs::String>::push' requested here
  499 |             result.push(charAt(i));
      |                    ^
/Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/gc/array.hpp:52:29: note: explicitly cast the pointer to silence this warning
   52 |                 std::memcpy(new_data, data_, length_ * sizeof(T));
      |                             ^
      |                             (void*)
1 warning and 1 error generated.

stdout: 

   Expected: "outer try\ninner try\ninner catch: inner error\nafter inner\n"
   Got:      "üì¶ Compiling 1 file(s)...\n  ‚úì test.hpp\n  ‚úì test.cpp\n\nüî® Compiling to native binary...\n"
   [ownership] Failed (1676ms)
   Error: Command failed: /Users/bilbo/Devel/oss/goodscript/goodscript/compiler/bin/gsc --gsTarget cpp --gsMemory ownership -o /var/folders/dm/rpn_c6_13k167t8p_0dqr5gm0000gn/T/goodscript-equiv-1765410128887/test-ownership /var/folders/dm/rpn_c6_13k167t8p_0dqr5gm0000gn/T/goodscript-equiv-1765410128887/test-gs.ts

‚ùå Errors:
  Binary compilation failed
    Compiling cppcoro...
    Compiling test.cpp...
    Command failed: zig c++ -std=c++20 -O3 -c -I dist/build -I /Users/bilbo/Devel/oss/goodscript/goodscript/compiler/vendor/cpp-httplib -I /Users/bilbo/Devel/oss/goodscript/goodscript/compiler -I /Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp -I /Users/bilbo/Devel/oss/goodscript/goodscript/compiler/vendor/cppcoro/include dist/build/test.cpp -o dist/build/test.o
Exit code: 1
stderr: dist/build/test.cpp:27:55: error: no matching function for call to 'from'
   27 |       gs::console::log((gs::String("inner catch: ") + gs::String::from(e)));
      |                                                       ^~~~~~~~~~~~~~~~
/Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/ownership/gs_string.hpp:46:17: note: candidate function not viable: no known conversion from 'const gs::Error' to 'const String' for 1st argument
   46 |   static String from(const String& s) {
      |                 ^    ~~~~~~~~~~~~~~~
/Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/ownership/gs_string.hpp:50:17: note: candidate function not viable: no known conversion from 'const gs::Error' to 'const char *' for 1st argument
   50 |   static String from(const char* s) {
      |                 ^    ~~~~~~~~~~~~~
/Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/ownership/gs_string.hpp:54:17: note: candidate function not viable: no known conversion from 'const gs::Error' to 'const std::string' (aka 'const basic_string<char>') for 1st argument
   54 |   static String from(const std::string& s) {
      |                 ^    ~~~~~~~~~~~~~~~~~~~~
/Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/ownership/gs_string.hpp:58:17: note: candidate function not viable: no known conversion from 'const gs::Error' to 'double' for 1st argument
   58 |   static String from(double value) {
      |                 ^    ~~~~~~~~~~~~
/Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/ownership/gs_string.hpp:73:17: note: candidate function not viable: no known conversion from 'const gs::Error' to 'int' for 1st argument
   73 |   static String from(int value) {
      |                 ^    ~~~~~~~~~
/Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/ownership/gs_string.hpp:77:17: note: candidate function not viable: no known conversion from 'const gs::Error' to 'long' for 1st argument
   77 |   static String from(long value) {
      |                 ^    ~~~~~~~~~~
/Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/ownership/gs_string.hpp:81:17: note: candidate function not viable: no known conversion from 'const gs::Error' to 'long long' for 1st argument
   81 |   static String from(long long value) {
      |                 ^    ~~~~~~~~~~~~~~~
/Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/ownership/gs_string.hpp:85:17: note: candidate function not viable: no known conversion from 'const gs::Error' to 'bool' for 1st argument
   85 |   static String from(bool value) {
      |                 ^    ~~~~~~~~~~
/Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/ownership/gs_string.hpp:90:17: note: candidate function not viable: no known conversion from 'const gs::Error' to 'const std::optional<double>' for 1st argument
   90 |   static String from(const std::optional<double>& opt) {
      |                 ^    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
/Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/ownership/gs_string.hpp:94:17: note: candidate function not viable: no known conversion from 'const gs::Error' to 'const std::optional<int>' for 1st argument
   94 |   static String from(const std::optional<int>& opt) {
      |                 ^    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
/Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/ownership/gs_string.hpp:98:17: note: candidate function not viable: no known conversion from 'const gs::Error' to 'const std::optional<bool>' for 1st argument
   98 |   static String from(const std::optional<bool>& opt) {
      |                 ^    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
/Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/ownership/gs_string.hpp:102:17: note: candidate function not viable: no known conversion from 'const gs::Error' to 'const std::optional<String>' for 1st argument
  102 |   static String from(const std::optional<String>& opt) {
      |                 ^    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
1 error generated.

stdout: 

   Expected: "outer try\ninner try\ninner catch: inner error\nafter inner\n"
   Got:      "üì¶ Compiling 1 file(s)...\n  ‚úì test.hpp\n  ‚úì test.cpp\n\nüî® Compiling to native binary...\n"

‚ùå Exception in function
   [gc] Failed (777ms)
   Error: Command failed: /Users/bilbo/Devel/oss/goodscript/goodscript/compiler/bin/gsc --gsTarget cpp --gsMemory gc -o /var/folders/dm/rpn_c6_13k167t8p_0dqr5gm0000gn/T/goodscript-equiv-1765410132372/test-gc /var/folders/dm/rpn_c6_13k167t8p_0dqr5gm0000gn/T/goodscript-equiv-1765410132372/test-gs.ts

‚ùå Errors:
  /var/folders/dm/rpn_c6_13k167t8p_0dqr5gm0000gn/T/goodscript-equiv-1765410132372/test-gs.ts:3:13 - GS110: Use explicit comparisons instead of truthy/falsy checks
  Binary compilation failed
    Using cached mps.o
    Compiling cppcoro...
    Linking...
    Command failed: zig c++ dist/build/.cache/vendor/mps.o dist/build/.cache/vendor/lightweight_manual_reset_event.o dist/build/.cache/vendor/spin_wait.o dist/build/.cache/vendor/spin_mutex.o -o /var/folders/dm/rpn_c6_13k167t8p_0dqr5gm0000gn/T/goodscript-equiv-1765410132372/test-gc
Exit code: 1
stderr: error: undefined symbol: _main
    note: referenced with linker flag -e

stdout: 

   Expected: "no error\ncaught: function error\n"
   Got:      "üì¶ Compiling 1 file(s)...\n\nüî® Compiling to native binary...\n"
   [ownership] Failed (816ms)
   Error: Command failed: /Users/bilbo/Devel/oss/goodscript/goodscript/compiler/bin/gsc --gsTarget cpp --gsMemory ownership -o /var/folders/dm/rpn_c6_13k167t8p_0dqr5gm0000gn/T/goodscript-equiv-1765410132372/test-ownership /var/folders/dm/rpn_c6_13k167t8p_0dqr5gm0000gn/T/goodscript-equiv-1765410132372/test-gs.ts

‚ùå Errors:
  /var/folders/dm/rpn_c6_13k167t8p_0dqr5gm0000gn/T/goodscript-equiv-1765410132372/test-gs.ts:3:13 - GS110: Use explicit comparisons instead of truthy/falsy checks
  Binary compilation failed
    Compiling cppcoro...
    Linking...
    Command failed: zig c++ dist/build/.cache/vendor/lightweight_manual_reset_event.o dist/build/.cache/vendor/spin_wait.o dist/build/.cache/vendor/spin_mutex.o -o /var/folders/dm/rpn_c6_13k167t8p_0dqr5gm0000gn/T/goodscript-equiv-1765410132372/test-ownership
Exit code: 1
stderr: error: undefined symbol: _main
    note: referenced with linker flag -e

stdout: 

   Expected: "no error\ncaught: function error\n"
   Got:      "üì¶ Compiling 1 file(s)...\n\nüî® Compiling to native binary...\n"

‚ùå Finally executes on throw
   [gc] Failed (1584ms)
   Error: Command failed: /Users/bilbo/Devel/oss/goodscript/goodscript/compiler/bin/gsc --gsTarget cpp --gsMemory gc -o /var/folders/dm/rpn_c6_13k167t8p_0dqr5gm0000gn/T/goodscript-equiv-1765410134185/test-gc /var/folders/dm/rpn_c6_13k167t8p_0dqr5gm0000gn/T/goodscript-equiv-1765410134185/test-gs.ts

‚ùå Errors:
  Binary compilation failed
    Using cached mps.o
    Compiling cppcoro...
    Compiling test.cpp...
    Command failed: zig c++ -std=c++20 -O3 -c -I dist/build -I /Users/bilbo/Devel/oss/goodscript/goodscript/compiler/vendor/mps/src -I /Users/bilbo/Devel/oss/goodscript/goodscript/compiler/vendor/cpp-httplib -I /Users/bilbo/Devel/oss/goodscript/goodscript/compiler -I /Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp -I /Users/bilbo/Devel/oss/goodscript/goodscript/compiler/vendor/cppcoro/include dist/build/test.cpp -o dist/build/test.o
Exit code: 1
stderr: dist/build/test.cpp:25:48: error: no matching function for call to 'from'
   25 |     gs::console::log((gs::String("caught: ") + gs::String::from(e)));
      |                                                ^~~~~~~~~~~~~~~~
/Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/gc/string.hpp:600:19: note: candidate function not viable: no known conversion from 'const gs::Error' to 'const String' for 1st argument
  600 |     static String from(const String& s) {
      |                   ^    ~~~~~~~~~~~~~~~
/Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/gc/string.hpp:604:19: note: candidate function not viable: no known conversion from 'const gs::Error' to 'const char *' for 1st argument
  604 |     static String from(const char* s) {
      |                   ^    ~~~~~~~~~~~~~
/Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/gc/string.hpp:608:19: note: candidate function not viable: no known conversion from 'const gs::Error' to 'const std::string' (aka 'const basic_string<char>') for 1st argument
  608 |     static String from(const std::string& s) {
      |                   ^    ~~~~~~~~~~~~~~~~~~~~
/Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/gc/string.hpp:612:19: note: candidate function not viable: no known conversion from 'const gs::Error' to 'double' for 1st argument
  612 |     static String from(double value) {
      |                   ^    ~~~~~~~~~~~~
/Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/gc/string.hpp:622:19: note: candidate function not viable: no known conversion from 'const gs::Error' to 'int' for 1st argument
  622 |     static String from(int value) {
      |                   ^    ~~~~~~~~~
/Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/gc/string.hpp:628:19: note: candidate function not viable: no known conversion from 'const gs::Error' to 'long' for 1st argument
  628 |     static String from(long value) {
      |                   ^    ~~~~~~~~~~
/Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/gc/string.hpp:634:19: note: candidate function not viable: no known conversion from 'const gs::Error' to 'long long' for 1st argument
  634 |     static String from(long long value) {
      |                   ^    ~~~~~~~~~~~~~~~
/Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/gc/string.hpp:640:19: note: candidate function not viable: no known conversion from 'const gs::Error' to 'size_t' (aka 'unsigned long') for 1st argument
  640 |     static String from(size_t value) {
      |                   ^    ~~~~~~~~~~~~
/Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/gc/string.hpp:646:19: note: candidate function not viable: no known conversion from 'const gs::Error' to 'bool' for 1st argument
  646 |     static String from(bool value) {
      |                   ^    ~~~~~~~~~~
/Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/gc/string.hpp:650:19: note: candidate function not viable: no known conversion from 'const gs::Error' to 'const std::optional<double>' for 1st argument
  650 |     static String from(const std::optional<double>& opt) {
      |                   ^    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
/Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/gc/string.hpp:654:19: note: candidate function not viable: no known conversion from 'const gs::Error' to 'const std::optional<int>' for 1st argument
  654 |     static String from(const std::optional<int>& opt) {
      |                   ^    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
/Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/gc/string.hpp:658:19: note: candidate function not viable: no known conversion from 'const gs::Error' to 'const std::optional<bool>' for 1st argument
  658 |     static String from(const std::optional<bool>& opt) {
      |                   ^    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
/Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/gc/string.hpp:662:19: note: candidate function not viable: no known conversion from 'const gs::Error' to 'const std::optional<String>' for 1st argument
  662 |     static String from(const std::optional<String>& opt) {
      |                   ^    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
In file included from dist/build/test.cpp:1:
In file included from dist/build/test.hpp:5:
In file included from /Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/gc/gs_gc_runtime.hpp:24:
/Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/gc/array.hpp:52:29: warning: first argument in call to 'memcpy' is a pointer to non-trivially copyable type 'gs::String' [-Wnontrivial-memcall]
   52 |                 std::memcpy(new_data, data_, length_ * sizeof(T));
      |                             ^
/Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/gc/array.hpp:191:13: note: in instantiation of member function 'gs::Array<gs::String>::resize_capacity' requested here
  191 |             resize_capacity(calculate_growth(capacity_));
      |             ^
/Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/gc/array.hpp:499:20: note: in instantiation of member function 'gs::Array<gs::String>::push' requested here
  499 |             result.push(charAt(i));
      |                    ^
/Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/gc/array.hpp:52:29: note: explicitly cast the pointer to silence this warning
   52 |                 std::memcpy(new_data, data_, length_ * sizeof(T));
      |                             ^
      |                             (void*)
1 warning and 1 error generated.

stdout: 

   Expected: "caught: error\ncleaned up\ntrue\n"
   Got:      "üì¶ Compiling 1 file(s)...\n  ‚úì test.hpp\n  ‚úì test.cpp\n\nüî® Compiling to native binary...\n"
   [ownership] Failed (1657ms)
   Error: Command failed: /Users/bilbo/Devel/oss/goodscript/goodscript/compiler/bin/gsc --gsTarget cpp --gsMemory ownership -o /var/folders/dm/rpn_c6_13k167t8p_0dqr5gm0000gn/T/goodscript-equiv-1765410134185/test-ownership /var/folders/dm/rpn_c6_13k167t8p_0dqr5gm0000gn/T/goodscript-equiv-1765410134185/test-gs.ts

‚ùå Errors:
  Binary compilation failed
    Compiling cppcoro...
    Compiling test.cpp...
    Command failed: zig c++ -std=c++20 -O3 -c -I dist/build -I /Users/bilbo/Devel/oss/goodscript/goodscript/compiler/vendor/cpp-httplib -I /Users/bilbo/Devel/oss/goodscript/goodscript/compiler -I /Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp -I /Users/bilbo/Devel/oss/goodscript/goodscript/compiler/vendor/cppcoro/include dist/build/test.cpp -o dist/build/test.o
Exit code: 1
stderr: dist/build/test.cpp:25:48: error: no matching function for call to 'from'
   25 |     gs::console::log((gs::String("caught: ") + gs::String::from(e)));
      |                                                ^~~~~~~~~~~~~~~~
/Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/ownership/gs_string.hpp:46:17: note: candidate function not viable: no known conversion from 'const gs::Error' to 'const String' for 1st argument
   46 |   static String from(const String& s) {
      |                 ^    ~~~~~~~~~~~~~~~
/Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/ownership/gs_string.hpp:50:17: note: candidate function not viable: no known conversion from 'const gs::Error' to 'const char *' for 1st argument
   50 |   static String from(const char* s) {
      |                 ^    ~~~~~~~~~~~~~
/Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/ownership/gs_string.hpp:54:17: note: candidate function not viable: no known conversion from 'const gs::Error' to 'const std::string' (aka 'const basic_string<char>') for 1st argument
   54 |   static String from(const std::string& s) {
      |                 ^    ~~~~~~~~~~~~~~~~~~~~
/Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/ownership/gs_string.hpp:58:17: note: candidate function not viable: no known conversion from 'const gs::Error' to 'double' for 1st argument
   58 |   static String from(double value) {
      |                 ^    ~~~~~~~~~~~~
/Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/ownership/gs_string.hpp:73:17: note: candidate function not viable: no known conversion from 'const gs::Error' to 'int' for 1st argument
   73 |   static String from(int value) {
      |                 ^    ~~~~~~~~~
/Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/ownership/gs_string.hpp:77:17: note: candidate function not viable: no known conversion from 'const gs::Error' to 'long' for 1st argument
   77 |   static String from(long value) {
      |                 ^    ~~~~~~~~~~
/Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/ownership/gs_string.hpp:81:17: note: candidate function not viable: no known conversion from 'const gs::Error' to 'long long' for 1st argument
   81 |   static String from(long long value) {
      |                 ^    ~~~~~~~~~~~~~~~
/Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/ownership/gs_string.hpp:85:17: note: candidate function not viable: no known conversion from 'const gs::Error' to 'bool' for 1st argument
   85 |   static String from(bool value) {
      |                 ^    ~~~~~~~~~~
/Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/ownership/gs_string.hpp:90:17: note: candidate function not viable: no known conversion from 'const gs::Error' to 'const std::optional<double>' for 1st argument
   90 |   static String from(const std::optional<double>& opt) {
      |                 ^    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
/Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/ownership/gs_string.hpp:94:17: note: candidate function not viable: no known conversion from 'const gs::Error' to 'const std::optional<int>' for 1st argument
   94 |   static String from(const std::optional<int>& opt) {
      |                 ^    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
/Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/ownership/gs_string.hpp:98:17: note: candidate function not viable: no known conversion from 'const gs::Error' to 'const std::optional<bool>' for 1st argument
   98 |   static String from(const std::optional<bool>& opt) {
      |                 ^    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
/Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/ownership/gs_string.hpp:102:17: note: candidate function not viable: no known conversion from 'const gs::Error' to 'const std::optional<String>' for 1st argument
  102 |   static String from(const std::optional<String>& opt) {
      |                 ^    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
1 error generated.

stdout: 

   Expected: "caught: error\ncleaned up\ntrue\n"
   Got:      "üì¶ Compiling 1 file(s)...\n  ‚úì test.hpp\n  ‚úì test.cpp\n\nüî® Compiling to native binary...\n"
‚úÖ Simple function call
‚úÖ Function with multiple parameters
‚úÖ Arrow function
‚úÖ Arrow function with block body
‚úÖ Nested function calls
‚úÖ Function returning function
‚úÖ Recursive function
‚úÖ Void function
‚úÖ Function with default behavior
‚úÖ Function hoisting with recursion
‚úÖ Multiplication before addition
‚úÖ Parentheses override precedence
‚úÖ Division before subtraction
‚úÖ Left-to-right associativity
‚úÖ Comparison and logical operators
‚úÖ Comparison before logical AND
‚úÖ Logical OR precedence
‚úÖ Unary minus precedence
‚úÖ Complex expression
‚úÖ Modulo with multiplication
‚úÖ String concatenation
‚úÖ String length
‚úÖ Empty string
‚úÖ Template literals
‚úÖ String slice
‚úÖ String toLowerCase/toUpperCase
‚úÖ Unicode string
‚úÖ Simple template literal
‚úÖ Template literal with numbers
‚úÖ Template literal with expression
‚úÖ Nested template literals
‚úÖ Template literal with boolean
‚úÖ Multi-line template literal
‚úÖ Empty interpolation

‚ùå typeof operator
   [gc] Failed (1569ms)
   Error: Command failed: /Users/bilbo/Devel/oss/goodscript/goodscript/compiler/bin/gsc --gsTarget cpp --gsMemory gc -o /var/folders/dm/rpn_c6_13k167t8p_0dqr5gm0000gn/T/goodscript-equiv-1765410287448/test-gc /var/folders/dm/rpn_c6_13k167t8p_0dqr5gm0000gn/T/goodscript-equiv-1765410287448/test-gs.ts

‚ùå Errors:
  Binary compilation failed
    Using cached mps.o
    Compiling cppcoro...
    Compiling test.cpp...
    Command failed: zig c++ -std=c++20 -O3 -c -I dist/build -I /Users/bilbo/Devel/oss/goodscript/goodscript/compiler/vendor/mps/src -I /Users/bilbo/Devel/oss/goodscript/goodscript/compiler/vendor/cpp-httplib -I /Users/bilbo/Devel/oss/goodscript/goodscript/compiler -I /Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp -I /Users/bilbo/Devel/oss/goodscript/goodscript/compiler/vendor/cppcoro/include dist/build/test.cpp -o dist/build/test.o
Exit code: 1
stderr: dist/build/test.cpp:26:24: error: no member named 'typeOf' in namespace 'gs'
   26 |   gs::console::log(gs::typeOf(num));
      |                    ~~~~^
dist/build/test.cpp:27:24: error: no member named 'typeOf' in namespace 'gs'
   27 |   gs::console::log(gs::typeOf(str));
      |                    ~~~~^
dist/build/test.cpp:28:24: error: no member named 'typeOf' in namespace 'gs'
   28 |   gs::console::log(gs::typeOf(bool_));
      |                    ~~~~^
In file included from dist/build/test.cpp:1:
In file included from dist/build/test.hpp:5:
In file included from /Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/gc/gs_gc_runtime.hpp:24:
/Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/gc/array.hpp:52:29: warning: first argument in call to 'memcpy' is a pointer to non-trivially copyable type 'gs::String' [-Wnontrivial-memcall]
   52 |                 std::memcpy(new_data, data_, length_ * sizeof(T));
      |                             ^
/Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/gc/array.hpp:191:13: note: in instantiation of member function 'gs::Array<gs::String>::resize_capacity' requested here
  191 |             resize_capacity(calculate_growth(capacity_));
      |             ^
/Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/gc/array.hpp:499:20: note: in instantiation of member function 'gs::Array<gs::String>::push' requested here
  499 |             result.push(charAt(i));
      |                    ^
/Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/gc/array.hpp:52:29: note: explicitly cast the pointer to silence this warning
   52 |                 std::memcpy(new_data, data_, length_ * sizeof(T));
      |                             ^
      |                             (void*)
1 warning and 3 errors generated.

stdout: 

   Expected: "number\nstring\nboolean\n"
   Got:      "üì¶ Compiling 1 file(s)...\n  ‚úì test.hpp\n  ‚úì test.cpp\n\nüî® Compiling to native binary...\n"
   [ownership] Failed (1704ms)
   Error: Command failed: /Users/bilbo/Devel/oss/goodscript/goodscript/compiler/bin/gsc --gsTarget cpp --gsMemory ownership -o /var/folders/dm/rpn_c6_13k167t8p_0dqr5gm0000gn/T/goodscript-equiv-1765410287448/test-ownership /var/folders/dm/rpn_c6_13k167t8p_0dqr5gm0000gn/T/goodscript-equiv-1765410287448/test-gs.ts

‚ùå Errors:
  Binary compilation failed
    Compiling cppcoro...
    Compiling test.cpp...
    Command failed: zig c++ -std=c++20 -O3 -c -I dist/build -I /Users/bilbo/Devel/oss/goodscript/goodscript/compiler/vendor/cpp-httplib -I /Users/bilbo/Devel/oss/goodscript/goodscript/compiler -I /Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp -I /Users/bilbo/Devel/oss/goodscript/goodscript/compiler/vendor/cppcoro/include dist/build/test.cpp -o dist/build/test.o
Exit code: 1
stderr: dist/build/test.cpp:26:24: error: no member named 'typeOf' in namespace 'gs'
   26 |   gs::console::log(gs::typeOf(num));
      |                    ~~~~^
dist/build/test.cpp:27:24: error: no member named 'typeOf' in namespace 'gs'
   27 |   gs::console::log(gs::typeOf(str));
      |                    ~~~~^
dist/build/test.cpp:28:24: error: no member named 'typeOf' in namespace 'gs'
   28 |   gs::console::log(gs::typeOf(bool_));
      |                    ~~~~^
3 errors generated.

stdout: 

   Expected: "number\nstring\nboolean\n"
   Got:      "üì¶ Compiling 1 file(s)...\n  ‚úì test.hpp\n  ‚úì test.cpp\n\nüî® Compiling to native binary...\n"
‚úÖ Number instance methods - toFixed
‚úÖ Number instance methods - toString
‚úÖ Integer vs Number
‚úÖ Type coercion in concatenation
‚úÖ Array type preservation
‚úÖ const declaration
‚úÖ let declaration
‚úÖ Block scoping
‚úÖ Function parameter scope
‚úÖ Loop variable scope
‚úÖ Multiple declarations
‚úÖ Reassignment in loop
‚úÖ Boolean AND
‚úÖ Boolean OR
‚úÖ Boolean NOT
‚úÖ Boolean comparison operators
‚úÖ Strict equality

‚ùå Boolean in conditionals
   [gc] Failed (780ms)
   Error: Command failed: /Users/bilbo/Devel/oss/goodscript/goodscript/compiler/bin/gsc --gsTarget cpp --gsMemory gc -o /var/folders/dm/rpn_c6_13k167t8p_0dqr5gm0000gn/T/goodscript-equiv-1765410367876/test-gc /var/folders/dm/rpn_c6_13k167t8p_0dqr5gm0000gn/T/goodscript-equiv-1765410367876/test-gs.ts

‚ùå Errors:
  /var/folders/dm/rpn_c6_13k167t8p_0dqr5gm0000gn/T/goodscript-equiv-1765410367876/test-gs.ts:4:16 - GS110: Use explicit comparisons instead of truthy/falsy checks
  Binary compilation failed
    Using cached mps.o
    Compiling cppcoro...
    Linking...
    Command failed: zig c++ dist/build/.cache/vendor/mps.o dist/build/.cache/vendor/lightweight_manual_reset_event.o dist/build/.cache/vendor/spin_wait.o dist/build/.cache/vendor/spin_mutex.o -o /var/folders/dm/rpn_c6_13k167t8p_0dqr5gm0000gn/T/goodscript-equiv-1765410367876/test-gc
Exit code: 1
stderr: error: undefined symbol: _main
    note: referenced with linker flag -e

stdout: 

   Expected: "correct\n"
   Got:      "üì¶ Compiling 1 file(s)...\n\nüî® Compiling to native binary...\n"
   [ownership] Failed (773ms)
   Error: Command failed: /Users/bilbo/Devel/oss/goodscript/goodscript/compiler/bin/gsc --gsTarget cpp --gsMemory ownership -o /var/folders/dm/rpn_c6_13k167t8p_0dqr5gm0000gn/T/goodscript-equiv-1765410367876/test-ownership /var/folders/dm/rpn_c6_13k167t8p_0dqr5gm0000gn/T/goodscript-equiv-1765410367876/test-gs.ts

‚ùå Errors:
  /var/folders/dm/rpn_c6_13k167t8p_0dqr5gm0000gn/T/goodscript-equiv-1765410367876/test-gs.ts:4:16 - GS110: Use explicit comparisons instead of truthy/falsy checks
  Binary compilation failed
    Compiling cppcoro...
    Linking...
    Command failed: zig c++ dist/build/.cache/vendor/lightweight_manual_reset_event.o dist/build/.cache/vendor/spin_wait.o dist/build/.cache/vendor/spin_mutex.o -o /var/folders/dm/rpn_c6_13k167t8p_0dqr5gm0000gn/T/goodscript-equiv-1765410367876/test-ownership
Exit code: 1
stderr: error: undefined symbol: _main
    note: referenced with linker flag -e

stdout: 

   Expected: "correct\n"
   Got:      "üì¶ Compiling 1 file(s)...\n\nüî® Compiling to native binary...\n"
‚úÖ Short-circuit AND
‚úÖ Short-circuit OR
‚úÖ Complex boolean expression
‚úÖ Empty array length
‚úÖ Empty array for-of
‚úÖ Empty string operations

‚ùå Empty Map
   [gc] Failed (1641ms)
   Error: Command failed: /Users/bilbo/Devel/oss/goodscript/goodscript/compiler/bin/gsc --gsTarget cpp --gsMemory gc -o /var/folders/dm/rpn_c6_13k167t8p_0dqr5gm0000gn/T/goodscript-equiv-1765410396649/test-gc /var/folders/dm/rpn_c6_13k167t8p_0dqr5gm0000gn/T/goodscript-equiv-1765410396649/test-gs.ts

‚ùå Errors:
  Binary compilation failed
    Using cached mps.o
    Compiling cppcoro...
    Compiling test.cpp...
    Command failed: zig c++ -std=c++20 -O3 -c -I dist/build -I /Users/bilbo/Devel/oss/goodscript/goodscript/compiler/vendor/mps/src -I /Users/bilbo/Devel/oss/goodscript/goodscript/compiler/vendor/cpp-httplib -I /Users/bilbo/Devel/oss/goodscript/goodscript/compiler -I /Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp -I /Users/bilbo/Devel/oss/goodscript/goodscript/compiler/vendor/cppcoro/include dist/build/test.cpp -o dist/build/test.o
Exit code: 1
stderr: In file included from dist/build/test.cpp:1:
In file included from dist/build/test.hpp:5:
In file included from /Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/gc/gs_gc_runtime.hpp:25:
/Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/gc/map.hpp:158:35: error: cannot form a reference to 'void'
  158 |     void set(const K& key, const V& value) {
      |                                   ^
dist/build/test.cpp:20:15: note: in instantiation of template class 'gs::Map<gs::String, void>' requested here
   20 |   auto map_ = gs::Map<gs::String, void>();
      |               ^
In file included from dist/build/test.cpp:1:
In file included from dist/build/test.hpp:5:
In file included from /Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/gc/gs_gc_runtime.hpp:13:
In file included from /Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/gc/allocator.hpp:6:
In file included from /opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/utility:257:
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/__utility/pair.h:72:7: error: field has incomplete type 'void'
   72 |   _T2 second;
      |       ^
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/__vector/vector.h:385:48: note: in instantiation of template class 'std::pair<gs::String, void>' requested here
  385 |     return static_cast<size_type>(this->__end_ - this->__begin_);
      |                                                ^
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/__vector/vector.h:530:28: note: in instantiation of member function 'std::vector<std::pair<gs::String, void>>::size' requested here
  530 |     size_type __old_size = size();
      |                            ^
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/__vector/vector.h:248:16: note: in instantiation of member function 'std::vector<std::pair<gs::String, void>>::clear' requested here
  248 |         __vec_.clear();
      |                ^
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/__vector/vector.h:259:67: note: in instantiation of member function 'std::vector<std::pair<gs::String, void>>::__destroy_vector::operator()' requested here
  259 |   _LIBCPP_CONSTEXPR_SINCE_CXX20 _LIBCPP_HIDE_FROM_ABI ~vector() { __destroy_vector (*this)(); }
      |                                                                   ^
/Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/gc/map.hpp:143:5: note: in instantiation of member function 'std::vector<std::pair<gs::String, void>>::~vector' requested here
  143 |     Map() = default;
      |     ^
dist/build/test.cpp:20:15: note: in defaulted default constructor for 'gs::Map<gs::String, void>' first required here
   20 |   auto map_ = gs::Map<gs::String, void>();
      |               ^
In file included from dist/build/test.cpp:1:
In file included from dist/build/test.hpp:5:
In file included from /Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/gc/gs_gc_runtime.hpp:13:
In file included from /Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/gc/allocator.hpp:6:
In file included from /opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/utility:257:
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/__utility/pair.h:141:104: error: cannot form a reference to 'void'
  141 |             __enable_if_t<_CheckArgsDep<_Dummy>::template __is_pair_constructible<_T1 const&, _T2 const&>(), int> = 0>
      |                                                                                                        ^
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/__utility/pair.h:247:95: error: cannot form a reference to 'void'
  247 |       __enable_if_t<is_assignable<first_type&, _U1 const&>::value && is_assignable<second_type&, _U2 const&>::value,
      |                                                                                               ^
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/__utility/pair.h:257:94: error: cannot form a reference to 'void'
  257 |             __enable_if_t<is_assignable<first_type&, _U1>::value && is_assignable<second_type&, _U2>::value, int> = 0>
      |                                                                                              ^
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/__utility/pair.h:358:86: error: cannot form a reference to 'void'
  358 |             __enable_if_t<is_assignable<_T1&, _U1 const&>::value && is_assignable<_T2&, _U2 const&>::value, int> = 0>
      |                                                                                      ^
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/__utility/pair.h:367:81: error: cannot form a reference to 'void'
  367 |             __enable_if_t<is_assignable<_T1&, _U1&&>::value && is_assignable<_T2&, _U2&&>::value, int> = 0>
      |                                                                                 ^
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/__utility/pair.h:398:86: error: cannot form a reference to 'void'
  398 |             __enable_if_t<is_assignable<_T1&, _Up const&>::value && is_assignable<_T2&, _Up const&>::value, int> = 0>
      |                                                                                      ^
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/__utility/pair.h:405:90: error: cannot form a reference to 'void'
  405 |   template <class _Up, __enable_if_t<is_assignable<_T1&, _Up>::value && is_assignable<_T2&, _Up>::value, int> = 0>
      |                                                                                          ^
In file included from dist/build/test.cpp:1:
In file included from dist/build/test.hpp:5:
In file included from /Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/gc/gs_gc_runtime.hpp:24:
/Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/gc/array.hpp:52:29: warning: first argument in call to 'memcpy' is a pointer to non-trivially copyable type 'gs::String' [-Wnontrivial-memcall]
   52 |                 std::memcpy(new_data, data_, length_ * sizeof(T));
      |                             ^
/Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/gc/array.hpp:191:13: note: in instantiation of member function 'gs::Array<gs::String>::resize_capacity' requested here
  191 |             resize_capacity(calculate_growth(capacity_));
      |             ^
/Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/gc/array.hpp:499:20: note: in instantiation of member function 'gs::Array<gs::String>::push' requested here
  499 |             result.push(charAt(i));
      |                    ^
/Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/gc/array.hpp:52:29: note: explicitly cast the pointer to silence this warning
   52 |                 std::memcpy(new_data, data_, length_ * sizeof(T));
      |                             ^
      |                             (void*)
1 warning and 9 errors generated.

stdout: 

   Expected: "0\nfalse\n"
   Got:      "üì¶ Compiling 1 file(s)...\n  ‚úì test.hpp\n  ‚úì test.cpp\n\nüî® Compiling to native binary...\n"
   [ownership] Failed (1692ms)
   Error: Command failed: /Users/bilbo/Devel/oss/goodscript/goodscript/compiler/bin/gsc --gsTarget cpp --gsMemory ownership -o /var/folders/dm/rpn_c6_13k167t8p_0dqr5gm0000gn/T/goodscript-equiv-1765410396649/test-ownership /var/folders/dm/rpn_c6_13k167t8p_0dqr5gm0000gn/T/goodscript-equiv-1765410396649/test-gs.ts

‚ùå Errors:
  Binary compilation failed
    Compiling cppcoro...
    Compiling test.cpp...
    Command failed: zig c++ -std=c++20 -O3 -c -I dist/build -I /Users/bilbo/Devel/oss/goodscript/goodscript/compiler/vendor/cpp-httplib -I /Users/bilbo/Devel/oss/goodscript/goodscript/compiler -I /Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp -I /Users/bilbo/Devel/oss/goodscript/goodscript/compiler/vendor/cppcoro/include dist/build/test.cpp -o dist/build/test.o
Exit code: 1
stderr: In file included from dist/build/test.cpp:1:
In file included from dist/build/test.hpp:5:
In file included from /Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/ownership/gs_runtime.hpp:42:
/Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/ownership/gs_map.hpp:180:39: error: cannot form a reference to 'void'
  180 |   Map<K, V>& set(const K& key, const V& value) {
      |                                       ^
dist/build/test.cpp:20:15: note: in instantiation of template class 'gs::Map<gs::String, void>' requested here
   20 |   auto map_ = gs::Map<gs::String, void>();
      |               ^
In file included from dist/build/test.cpp:1:
In file included from dist/build/test.hpp:5:
In file included from /Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/ownership/gs_runtime.hpp:42:
/Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/ownership/gs_map.hpp:193:33: error: cannot form a reference to 'void'
  193 |   Map<K, V>& set(const K& key, V&& value) {
      |                                 ^
/Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/ownership/gs_map.hpp:204:34: error: cannot form a reference to 'void'
  204 |   Map<K, V>& set(K&& key, const V& value) {
      |                                  ^
/Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/ownership/gs_map.hpp:216:28: error: cannot form a reference to 'void'
  216 |   Map<K, V>& set(K&& key, V&& value) {
      |                            ^
/Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/ownership/gs_map.hpp:246:41: error: cannot form a reference to 'void'
  246 |   V get_or_default(const K& key, const V& defaultValue) const {
      |                                         ^
In file included from dist/build/test.cpp:1:
In file included from dist/build/test.hpp:5:
In file included from /Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/ownership/gs_runtime.hpp:36:
In file included from /opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/functional:539:
In file included from /opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/__functional/bind.h:20:
In file included from /opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/tuple:1438:
In file included from /opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/utility:257:
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/__utility/pair.h:72:7: error: field has incomplete type 'void'
   72 |   _T2 second;
      |       ^
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/__vector/vector.h:385:48: note: in instantiation of template class 'std::pair<gs::String, void>' requested here
  385 |     return static_cast<size_type>(this->__end_ - this->__begin_);
      |                                                ^
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/__vector/vector.h:530:28: note: in instantiation of member function 'std::vector<std::pair<gs::String, void>>::size' requested here
  530 |     size_type __old_size = size();
      |                            ^
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/__vector/vector.h:248:16: note: in instantiation of member function 'std::vector<std::pair<gs::String, void>>::clear' requested here
  248 |         __vec_.clear();
      |                ^
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/__vector/vector.h:259:67: note: in instantiation of member function 'std::vector<std::pair<gs::String, void>>::__destroy_vector::operator()' requested here
  259 |   _LIBCPP_CONSTEXPR_SINCE_CXX20 _LIBCPP_HIDE_FROM_ABI ~vector() { __destroy_vector (*this)(); }
      |                                                                   ^
/Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/ownership/gs_map.hpp:137:3: note: in instantiation of member function 'std::vector<std::pair<gs::String, void>>::~vector' requested here
  137 |   Map() = default;
      |   ^
dist/build/test.cpp:20:15: note: in defaulted default constructor for 'gs::Map<gs::String, void>' first required here
   20 |   auto map_ = gs::Map<gs::String, void>();
      |               ^
In file included from dist/build/test.cpp:1:
In file included from dist/build/test.hpp:5:
In file included from /Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/ownership/gs_runtime.hpp:36:
In file included from /opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/functional:539:
In file included from /opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/__functional/bind.h:20:
In file included from /opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/tuple:1438:
In file included from /opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/utility:257:
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/__utility/pair.h:141:104: error: cannot form a reference to 'void'
  141 |             __enable_if_t<_CheckArgsDep<_Dummy>::template __is_pair_constructible<_T1 const&, _T2 const&>(), int> = 0>
      |                                                                                                        ^
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/__utility/pair.h:247:95: error: cannot form a reference to 'void'
  247 |       __enable_if_t<is_assignable<first_type&, _U1 const&>::value && is_assignable<second_type&, _U2 const&>::value,
      |                                                                                               ^
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/__utility/pair.h:257:94: error: cannot form a reference to 'void'
  257 |             __enable_if_t<is_assignable<first_type&, _U1>::value && is_assignable<second_type&, _U2>::value, int> = 0>
      |                                                                                              ^
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/__utility/pair.h:358:86: error: cannot form a reference to 'void'
  358 |             __enable_if_t<is_assignable<_T1&, _U1 const&>::value && is_assignable<_T2&, _U2 const&>::value, int> = 0>
      |                                                                                      ^
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/__utility/pair.h:367:81: error: cannot form a reference to 'void'
  367 |             __enable_if_t<is_assignable<_T1&, _U1&&>::value && is_assignable<_T2&, _U2&&>::value, int> = 0>
      |                                                                                 ^
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/__utility/pair.h:398:86: error: cannot form a reference to 'void'
  398 |             __enable_if_t<is_assignable<_T1&, _Up const&>::value && is_assignable<_T2&, _Up const&>::value, int> = 0>
      |                                                                                      ^
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/__utility/pair.h:405:90: error: cannot form a reference to 'void'
  405 |   template <class _Up, __enable_if_t<is_assignable<_T1&, _Up>::value && is_assignable<_T2&, _Up>::value, int> = 0>
      |                                                                                          ^
13 errors generated.

stdout: 

   Expected: "0\nfalse\n"
   Got:      "üì¶ Compiling 1 file(s)...\n  ‚úì test.hpp\n  ‚úì test.cpp\n\nüî® Compiling to native binary...\n"

‚ùå Empty Map iteration
   [gc] Failed (1602ms)
   Error: Command failed: /Users/bilbo/Devel/oss/goodscript/goodscript/compiler/bin/gsc --gsTarget cpp --gsMemory gc -o /var/folders/dm/rpn_c6_13k167t8p_0dqr5gm0000gn/T/goodscript-equiv-1765410400208/test-gc /var/folders/dm/rpn_c6_13k167t8p_0dqr5gm0000gn/T/goodscript-equiv-1765410400208/test-gs.ts

‚ùå Errors:
  Binary compilation failed
    Using cached mps.o
    Compiling cppcoro...
    Compiling test.cpp...
    Command failed: zig c++ -std=c++20 -O3 -c -I dist/build -I /Users/bilbo/Devel/oss/goodscript/goodscript/compiler/vendor/mps/src -I /Users/bilbo/Devel/oss/goodscript/goodscript/compiler/vendor/cpp-httplib -I /Users/bilbo/Devel/oss/goodscript/goodscript/compiler -I /Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp -I /Users/bilbo/Devel/oss/goodscript/goodscript/compiler/vendor/cppcoro/include dist/build/test.cpp -o dist/build/test.o
Exit code: 1
stderr: In file included from dist/build/test.cpp:1:
In file included from dist/build/test.hpp:5:
In file included from /Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/gc/gs_gc_runtime.hpp:25:
/Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/gc/map.hpp:158:35: error: cannot form a reference to 'void'
  158 |     void set(const K& key, const V& value) {
      |                                   ^
dist/build/test.cpp:20:15: note: in instantiation of template class 'gs::Map<gs::String, void>' requested here
   20 |   auto map_ = gs::Map<gs::String, void>();
      |               ^
In file included from dist/build/test.cpp:1:
In file included from dist/build/test.hpp:5:
In file included from /Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/gc/gs_gc_runtime.hpp:13:
In file included from /Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/gc/allocator.hpp:6:
In file included from /opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/utility:257:
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/__utility/pair.h:72:7: error: field has incomplete type 'void'
   72 |   _T2 second;
      |       ^
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/__vector/vector.h:385:48: note: in instantiation of template class 'std::pair<gs::String, void>' requested here
  385 |     return static_cast<size_type>(this->__end_ - this->__begin_);
      |                                                ^
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/__vector/vector.h:530:28: note: in instantiation of member function 'std::vector<std::pair<gs::String, void>>::size' requested here
  530 |     size_type __old_size = size();
      |                            ^
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/__vector/vector.h:248:16: note: in instantiation of member function 'std::vector<std::pair<gs::String, void>>::clear' requested here
  248 |         __vec_.clear();
      |                ^
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/__vector/vector.h:259:67: note: in instantiation of member function 'std::vector<std::pair<gs::String, void>>::__destroy_vector::operator()' requested here
  259 |   _LIBCPP_CONSTEXPR_SINCE_CXX20 _LIBCPP_HIDE_FROM_ABI ~vector() { __destroy_vector (*this)(); }
      |                                                                   ^
/Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/gc/map.hpp:143:5: note: in instantiation of member function 'std::vector<std::pair<gs::String, void>>::~vector' requested here
  143 |     Map() = default;
      |     ^
dist/build/test.cpp:20:15: note: in defaulted default constructor for 'gs::Map<gs::String, void>' first required here
   20 |   auto map_ = gs::Map<gs::String, void>();
      |               ^
In file included from dist/build/test.cpp:1:
In file included from dist/build/test.hpp:5:
In file included from /Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/gc/gs_gc_runtime.hpp:13:
In file included from /Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/gc/allocator.hpp:6:
In file included from /opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/utility:257:
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/__utility/pair.h:141:104: error: cannot form a reference to 'void'
  141 |             __enable_if_t<_CheckArgsDep<_Dummy>::template __is_pair_constructible<_T1 const&, _T2 const&>(), int> = 0>
      |                                                                                                        ^
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/__utility/pair.h:247:95: error: cannot form a reference to 'void'
  247 |       __enable_if_t<is_assignable<first_type&, _U1 const&>::value && is_assignable<second_type&, _U2 const&>::value,
      |                                                                                               ^
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/__utility/pair.h:257:94: error: cannot form a reference to 'void'
  257 |             __enable_if_t<is_assignable<first_type&, _U1>::value && is_assignable<second_type&, _U2>::value, int> = 0>
      |                                                                                              ^
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/__utility/pair.h:358:86: error: cannot form a reference to 'void'
  358 |             __enable_if_t<is_assignable<_T1&, _U1 const&>::value && is_assignable<_T2&, _U2 const&>::value, int> = 0>
      |                                                                                      ^
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/__utility/pair.h:367:81: error: cannot form a reference to 'void'
  367 |             __enable_if_t<is_assignable<_T1&, _U1&&>::value && is_assignable<_T2&, _U2&&>::value, int> = 0>
      |                                                                                 ^
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/__utility/pair.h:398:86: error: cannot form a reference to 'void'
  398 |             __enable_if_t<is_assignable<_T1&, _Up const&>::value && is_assignable<_T2&, _Up const&>::value, int> = 0>
      |                                                                                      ^
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/__utility/pair.h:405:90: error: cannot form a reference to 'void'
  405 |   template <class _Up, __enable_if_t<is_assignable<_T1&, _Up>::value && is_assignable<_T2&, _Up>::value, int> = 0>
      |                                                                                          ^
In file included from dist/build/test.cpp:1:
In file included from dist/build/test.hpp:5:
In file included from /Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/gc/gs_gc_runtime.hpp:24:
/Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/gc/array.hpp:52:29: warning: first argument in call to 'memcpy' is a pointer to non-trivially copyable type 'gs::String' [-Wnontrivial-memcall]
   52 |                 std::memcpy(new_data, data_, length_ * sizeof(T));
      |                             ^
/Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/gc/array.hpp:191:13: note: in instantiation of member function 'gs::Array<gs::String>::resize_capacity' requested here
  191 |             resize_capacity(calculate_growth(capacity_));
      |             ^
/Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/gc/array.hpp:499:20: note: in instantiation of member function 'gs::Array<gs::String>::push' requested here
  499 |             result.push(charAt(i));
      |                    ^
/Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/gc/array.hpp:52:29: note: explicitly cast the pointer to silence this warning
   52 |                 std::memcpy(new_data, data_, length_ * sizeof(T));
      |                             ^
      |                             (void*)
In file included from dist/build/test.cpp:1:
In file included from dist/build/test.hpp:5:
In file included from /Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/gc/gs_gc_runtime.hpp:25:
/Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/gc/map.hpp:247:28: error: no matching function for call to 'get'
  247 |     for (const auto& [key, value] : *this) {
      |                            ^~~~~
/Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/gc/map.hpp:247:28: note: in implicit initialization of binding declaration 'value'
dist/build/test.cpp:21:24: note: in instantiation of member function 'gs::Map<gs::String, void>::keys' requested here
   21 |   for (auto key : map_.keys()) {
      |                        ^
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/__utility/pair.h:609:1: note: candidate template ignored: substitution failure [with _Ip = 1, _T1 = gs::String, _T2 = void]: cannot form a reference to 'void'
  608 | inline _LIBCPP_HIDE_FROM_ABI _LIBCPP_CONSTEXPR_SINCE_CXX14 typename tuple_element<_Ip, pair<_T1, _T2> >::type&
      |                                                                                                              ~
  609 | get(pair<_T1, _T2>& __p) _NOEXCEPT {
      | ^
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/__utility/pair.h:615:1: note: candidate template ignored: substitution failure [with _Ip = 1, _T1 = gs::String, _T2 = void]: cannot form a reference to 'void'
  614 | inline _LIBCPP_HIDE_FROM_ABI _LIBCPP_CONSTEXPR_SINCE_CXX14 const typename tuple_element<_Ip, pair<_T1, _T2> >::type&
      |                                                                                                                    ~
  615 | get(const pair<_T1, _T2>& __p) _NOEXCEPT {
      | ^
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/__utility/pair.h:621:1: note: candidate template ignored: substitution failure [with _Ip = 1, _T1 = gs::String, _T2 = void]: cannot form a reference to 'void'
  620 | inline _LIBCPP_HIDE_FROM_ABI _LIBCPP_CONSTEXPR_SINCE_CXX14 typename tuple_element<_Ip, pair<_T1, _T2> >::type&&
      |                                                                                                              ~~
  621 | get(pair<_T1, _T2>&& __p) _NOEXCEPT {
      | ^
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/__utility/pair.h:627:1: note: candidate template ignored: substitution failure [with _Ip = 1, _T1 = gs::String, _T2 = void]: cannot form a reference to 'void'
  626 | inline _LIBCPP_HIDE_FROM_ABI _LIBCPP_CONSTEXPR_SINCE_CXX14 const typename tuple_element<_Ip, pair<_T1, _T2> >::type&&
      |                                                                                                                    ~~
  627 | get(const pair<_T1, _T2>&& __p) _NOEXCEPT {
      | ^
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/__ranges/subrange.h:216:38: note: candidate template ignored: could not match 'subrange' against 'std::pair'
  216 | _LIBCPP_HIDE_FROM_ABI constexpr auto get(const subrange<_Iter, _Sent, _Kind>& __subrange) {
      |                                      ^
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/__ranges/subrange.h:225:38: note: candidate template ignored: could not match 'subrange' against 'std::pair'
  225 | _LIBCPP_HIDE_FROM_ABI constexpr auto get(subrange<_Iter, _Sent, _Kind>&& __subrange) {
      |                                      ^
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/variant:1352:1: note: candidate template ignored: could not match 'variant' against 'std::pair'
 1352 | get(variant<_Types...>& __v) {
      | ^
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/variant:1361:1: note: candidate template ignored: could not match 'variant' against 'std::pair'
 1361 | get(variant<_Types...>&& __v) {
      | ^
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/variant:1370:1: note: candidate template ignored: could not match 'variant' against 'std::pair'
 1370 | get(const variant<_Types...>& __v) {
      | ^
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/variant:1379:1: note: candidate template ignored: could not match 'variant' against 'std::pair'
 1379 | get(const variant<_Types...>&& __v) {
      | ^
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/tuple:1072:1: note: candidate template ignored: could not match 'tuple' against 'std::pair'
 1072 | get(tuple<_Tp...>& __t) _NOEXCEPT {
      | ^
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/tuple:1079:1: note: candidate template ignored: could not match 'tuple' against 'std::pair'
 1079 | get(const tuple<_Tp...>& __t) _NOEXCEPT {
      | ^
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/tuple:1086:1: note: candidate template ignored: could not match 'tuple' against 'std::pair'
 1086 | get(tuple<_Tp...>&& __t) _NOEXCEPT {
      | ^
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/tuple:1093:1: note: candidate template ignored: could not match 'tuple' against 'std::pair'
 1093 | get(const tuple<_Tp...>&& __t) _NOEXCEPT {
      | ^
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/array:504:65: note: candidate template ignored: could not match 'array' against 'std::pair'
  504 | inline _LIBCPP_HIDE_FROM_ABI _LIBCPP_CONSTEXPR_SINCE_CXX14 _Tp& get(array<_Tp, _Size>& __a) _NOEXCEPT {
      |                                                                 ^
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/array:510:71: note: candidate template ignored: could not match 'array' against 'std::pair'
  510 | inline _LIBCPP_HIDE_FROM_ABI _LIBCPP_CONSTEXPR_SINCE_CXX14 const _Tp& get(const array<_Tp, _Size>& __a) _NOEXCEPT {
      |                                                                       ^
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/array:516:66: note: candidate template ignored: could not match 'array' against 'std::pair'
  516 | inline _LIBCPP_HIDE_FROM_ABI _LIBCPP_CONSTEXPR_SINCE_CXX14 _Tp&& get(array<_Tp, _Size>&& __a) _NOEXCEPT {
      |                                                                  ^
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/array:522:72: note: candidate template ignored: could not match 'array' against 'std::pair'
  522 | inline _LIBCPP_HIDE_FROM_ABI _LIBCPP_CONSTEXPR_SINCE_CXX14 const _Tp&& get(const array<_Tp, _Size>&& __a) _NOEXCEPT {
      |                                                                        ^
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/__utility/pair.h:633:45: note: candidate template ignored: invalid explicitly-specified argument for template parameter '_T1'
  633 | inline _LIBCPP_HIDE_FROM_ABI constexpr _T1& get(pair<_T1, _T2>& __p) _NOEXCEPT {
      |                                             ^
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/__utility/pair.h:638:51: note: candidate template ignored: invalid explicitly-specified argument for template parameter '_T1'
  638 | inline _LIBCPP_HIDE_FROM_ABI constexpr _T1 const& get(pair<_T1, _T2> const& __p) _NOEXCEPT {
      |                                                   ^
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/__utility/pair.h:643:46: note: candidate template ignored: invalid explicitly-specified argument for template parameter '_T1'
  643 | inline _LIBCPP_HIDE_FROM_ABI constexpr _T1&& get(pair<_T1, _T2>&& __p) _NOEXCEPT {
      |                                              ^
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/__utility/pair.h:648:52: note: candidate template ignored: invalid explicitly-specified argument for template parameter '_T1'
  648 | inline _LIBCPP_HIDE_FROM_ABI constexpr _T1 const&& get(pair<_T1, _T2> const&& __p) _NOEXCEPT {
      |                                                    ^
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/__utility/pair.h:653:45: note: candidate template ignored: invalid explicitly-specified argument for template parameter '_T1'
  653 | inline _LIBCPP_HIDE_FROM_ABI constexpr _T1& get(pair<_T2, _T1>& __p) _NOEXCEPT {
      |                                             ^
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/__utility/pair.h:658:51: note: candidate template ignored: invalid explicitly-specified argument for template parameter '_T1'
  658 | inline _LIBCPP_HIDE_FROM_ABI constexpr _T1 const& get(pair<_T2, _T1> const& __p) _NOEXCEPT {
      |                                                   ^
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/__utility/pair.h:663:46: note: candidate template ignored: invalid explicitly-specified argument for template parameter '_T1'
  663 | inline _LIBCPP_HIDE_FROM_ABI constexpr _T1&& get(pair<_T2, _T1>&& __p) _NOEXCEPT {
      |                                              ^
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/__utility/pair.h:668:52: note: candidate template ignored: invalid explicitly-specified argument for template parameter '_T1'
  668 | inline _LIBCPP_HIDE_FROM_ABI constexpr _T1 const&& get(pair<_T2, _T1> const&& __p) _NOEXCEPT {
      |                                                    ^
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/variant:1386:84: note: candidate template ignored: invalid explicitly-specified argument for template parameter '_Tp'
 1386 | _LIBCPP_HIDE_FROM_ABI _LIBCPP_AVAILABILITY_THROW_BAD_VARIANT_ACCESS constexpr _Tp& get(variant<_Types...>& __v) {
      |                                                                                    ^
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/variant:1392:85: note: candidate template ignored: invalid explicitly-specified argument for template parameter '_Tp'
 1392 | _LIBCPP_HIDE_FROM_ABI _LIBCPP_AVAILABILITY_THROW_BAD_VARIANT_ACCESS constexpr _Tp&& get(variant<_Types...>&& __v) {
      |                                                                                     ^
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/variant:1399:1: note: candidate template ignored: invalid explicitly-specified argument for template parameter '_Tp'
 1399 | get(const variant<_Types...>& __v) {
      | ^
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/variant:1406:1: note: candidate template ignored: invalid explicitly-specified argument for template parameter '_Tp'
 1406 | get(const variant<_Types...>&& __v) {
      | ^
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/tuple:1101:45: note: candidate template ignored: invalid explicitly-specified argument for template parameter '_T1'
 1101 | inline _LIBCPP_HIDE_FROM_ABI constexpr _T1& get(tuple<_Args...>& __tup) noexcept {
      |                                             ^
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/tuple:1106:51: note: candidate template ignored: invalid explicitly-specified argument for template parameter '_T1'
 1106 | inline _LIBCPP_HIDE_FROM_ABI constexpr _T1 const& get(tuple<_Args...> const& __tup) noexcept {
      |                                                   ^
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/tuple:1111:46: note: candidate template ignored: invalid explicitly-specified argument for template parameter '_T1'
 1111 | inline _LIBCPP_HIDE_FROM_ABI constexpr _T1&& get(tuple<_Args...>&& __tup) noexcept {
      |                                              ^
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/tuple:1116:52: note: candidate template ignored: invalid explicitly-specified argument for template parameter '_T1'
 1116 | inline _LIBCPP_HIDE_FROM_ABI constexpr _T1 const&& get(tuple<_Args...> const&& __tup) noexcept {
      |                                                    ^
In file included from dist/build/test.cpp:1:
In file included from dist/build/test.hpp:5:
In file included from /Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/gc/gs_gc_runtime.hpp:25:
/Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/gc/map.hpp:247:28: error: cannot form a reference to 'void'
  247 |     for (const auto& [key, value] : *this) {
      |                            ^
/Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/gc/map.hpp:227:20: note: selected 'begin' function with iterator type 'const_iterator'
  227 |     const_iterator begin() const { return const_iterator(items_.begin(), items_.end(), &index_); }
      |                    ^
1 warning and 11 errors generated.

stdout: 

   Expected: "done\n"
   Got:      "üì¶ Compiling 1 file(s)...\n  ‚úì test.hpp\n  ‚úì test.cpp\n\nüî® Compiling to native binary...\n"
   [ownership] Failed (1720ms)
   Error: Command failed: /Users/bilbo/Devel/oss/goodscript/goodscript/compiler/bin/gsc --gsTarget cpp --gsMemory ownership -o /var/folders/dm/rpn_c6_13k167t8p_0dqr5gm0000gn/T/goodscript-equiv-1765410400208/test-ownership /var/folders/dm/rpn_c6_13k167t8p_0dqr5gm0000gn/T/goodscript-equiv-1765410400208/test-gs.ts

‚ùå Errors:
  Binary compilation failed
    Compiling cppcoro...
    Compiling test.cpp...
    Command failed: zig c++ -std=c++20 -O3 -c -I dist/build -I /Users/bilbo/Devel/oss/goodscript/goodscript/compiler/vendor/cpp-httplib -I /Users/bilbo/Devel/oss/goodscript/goodscript/compiler -I /Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp -I /Users/bilbo/Devel/oss/goodscript/goodscript/compiler/vendor/cppcoro/include dist/build/test.cpp -o dist/build/test.o
Exit code: 1
stderr: In file included from dist/build/test.cpp:1:
In file included from dist/build/test.hpp:5:
In file included from /Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/ownership/gs_runtime.hpp:42:
/Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/ownership/gs_map.hpp:180:39: error: cannot form a reference to 'void'
  180 |   Map<K, V>& set(const K& key, const V& value) {
      |                                       ^
dist/build/test.cpp:20:15: note: in instantiation of template class 'gs::Map<gs::String, void>' requested here
   20 |   auto map_ = gs::Map<gs::String, void>();
      |               ^
In file included from dist/build/test.cpp:1:
In file included from dist/build/test.hpp:5:
In file included from /Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/ownership/gs_runtime.hpp:42:
/Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/ownership/gs_map.hpp:193:33: error: cannot form a reference to 'void'
  193 |   Map<K, V>& set(const K& key, V&& value) {
      |                                 ^
/Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/ownership/gs_map.hpp:204:34: error: cannot form a reference to 'void'
  204 |   Map<K, V>& set(K&& key, const V& value) {
      |                                  ^
/Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/ownership/gs_map.hpp:216:28: error: cannot form a reference to 'void'
  216 |   Map<K, V>& set(K&& key, V&& value) {
      |                            ^
/Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/ownership/gs_map.hpp:246:41: error: cannot form a reference to 'void'
  246 |   V get_or_default(const K& key, const V& defaultValue) const {
      |                                         ^
In file included from dist/build/test.cpp:1:
In file included from dist/build/test.hpp:5:
In file included from /Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/ownership/gs_runtime.hpp:36:
In file included from /opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/functional:539:
In file included from /opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/__functional/bind.h:20:
In file included from /opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/tuple:1438:
In file included from /opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/utility:257:
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/__utility/pair.h:72:7: error: field has incomplete type 'void'
   72 |   _T2 second;
      |       ^
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/__vector/vector.h:385:48: note: in instantiation of template class 'std::pair<gs::String, void>' requested here
  385 |     return static_cast<size_type>(this->__end_ - this->__begin_);
      |                                                ^
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/__vector/vector.h:530:28: note: in instantiation of member function 'std::vector<std::pair<gs::String, void>>::size' requested here
  530 |     size_type __old_size = size();
      |                            ^
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/__vector/vector.h:248:16: note: in instantiation of member function 'std::vector<std::pair<gs::String, void>>::clear' requested here
  248 |         __vec_.clear();
      |                ^
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/__vector/vector.h:259:67: note: in instantiation of member function 'std::vector<std::pair<gs::String, void>>::__destroy_vector::operator()' requested here
  259 |   _LIBCPP_CONSTEXPR_SINCE_CXX20 _LIBCPP_HIDE_FROM_ABI ~vector() { __destroy_vector (*this)(); }
      |                                                                   ^
/Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/ownership/gs_map.hpp:137:3: note: in instantiation of member function 'std::vector<std::pair<gs::String, void>>::~vector' requested here
  137 |   Map() = default;
      |   ^
dist/build/test.cpp:20:15: note: in defaulted default constructor for 'gs::Map<gs::String, void>' first required here
   20 |   auto map_ = gs::Map<gs::String, void>();
      |               ^
In file included from dist/build/test.cpp:1:
In file included from dist/build/test.hpp:5:
In file included from /Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/ownership/gs_runtime.hpp:36:
In file included from /opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/functional:539:
In file included from /opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/__functional/bind.h:20:
In file included from /opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/tuple:1438:
In file included from /opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/utility:257:
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/__utility/pair.h:141:104: error: cannot form a reference to 'void'
  141 |             __enable_if_t<_CheckArgsDep<_Dummy>::template __is_pair_constructible<_T1 const&, _T2 const&>(), int> = 0>
      |                                                                                                        ^
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/__utility/pair.h:247:95: error: cannot form a reference to 'void'
  247 |       __enable_if_t<is_assignable<first_type&, _U1 const&>::value && is_assignable<second_type&, _U2 const&>::value,
      |                                                                                               ^
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/__utility/pair.h:257:94: error: cannot form a reference to 'void'
  257 |             __enable_if_t<is_assignable<first_type&, _U1>::value && is_assignable<second_type&, _U2>::value, int> = 0>
      |                                                                                              ^
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/__utility/pair.h:358:86: error: cannot form a reference to 'void'
  358 |             __enable_if_t<is_assignable<_T1&, _U1 const&>::value && is_assignable<_T2&, _U2 const&>::value, int> = 0>
      |                                                                                      ^
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/__utility/pair.h:367:81: error: cannot form a reference to 'void'
  367 |             __enable_if_t<is_assignable<_T1&, _U1&&>::value && is_assignable<_T2&, _U2&&>::value, int> = 0>
      |                                                                                 ^
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/__utility/pair.h:398:86: error: cannot form a reference to 'void'
  398 |             __enable_if_t<is_assignable<_T1&, _Up const&>::value && is_assignable<_T2&, _Up const&>::value, int> = 0>
      |                                                                                      ^
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/__utility/pair.h:405:90: error: cannot form a reference to 'void'
  405 |   template <class _Up, __enable_if_t<is_assignable<_T1&, _Up>::value && is_assignable<_T2&, _Up>::value, int> = 0>
      |                                                                                          ^
In file included from dist/build/test.cpp:1:
In file included from dist/build/test.hpp:5:
In file included from /Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/ownership/gs_runtime.hpp:42:
/Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/ownership/gs_map.hpp:376:28: error: no matching function for call to 'get'
  376 |     for (const auto& [key, value] : *this) {
      |                            ^~~~~
/Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/ownership/gs_map.hpp:376:28: note: in implicit initialization of binding declaration 'value'
dist/build/test.cpp:21:24: note: in instantiation of member function 'gs::Map<gs::String, void>::keys' requested here
   21 |   for (auto key : map_.keys()) {
      |                        ^
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/tuple:1072:1: note: candidate template ignored: could not match 'tuple' against 'std::pair'
 1072 | get(tuple<_Tp...>& __t) _NOEXCEPT {
      | ^
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/tuple:1079:1: note: candidate template ignored: could not match 'tuple' against 'std::pair'
 1079 | get(const tuple<_Tp...>& __t) _NOEXCEPT {
      | ^
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/tuple:1086:1: note: candidate template ignored: could not match 'tuple' against 'std::pair'
 1086 | get(tuple<_Tp...>&& __t) _NOEXCEPT {
      | ^
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/tuple:1093:1: note: candidate template ignored: could not match 'tuple' against 'std::pair'
 1093 | get(const tuple<_Tp...>&& __t) _NOEXCEPT {
      | ^
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/__utility/pair.h:609:1: note: candidate template ignored: substitution failure [with _Ip = 1, _T1 = gs::String, _T2 = void]: cannot form a reference to 'void'
  608 | inline _LIBCPP_HIDE_FROM_ABI _LIBCPP_CONSTEXPR_SINCE_CXX14 typename tuple_element<_Ip, pair<_T1, _T2> >::type&
      |                                                                                                              ~
  609 | get(pair<_T1, _T2>& __p) _NOEXCEPT {
      | ^
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/__utility/pair.h:615:1: note: candidate template ignored: substitution failure [with _Ip = 1, _T1 = gs::String, _T2 = void]: cannot form a reference to 'void'
  614 | inline _LIBCPP_HIDE_FROM_ABI _LIBCPP_CONSTEXPR_SINCE_CXX14 const typename tuple_element<_Ip, pair<_T1, _T2> >::type&
      |                                                                                                                    ~
  615 | get(const pair<_T1, _T2>& __p) _NOEXCEPT {
      | ^
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/__utility/pair.h:621:1: note: candidate template ignored: substitution failure [with _Ip = 1, _T1 = gs::String, _T2 = void]: cannot form a reference to 'void'
  620 | inline _LIBCPP_HIDE_FROM_ABI _LIBCPP_CONSTEXPR_SINCE_CXX14 typename tuple_element<_Ip, pair<_T1, _T2> >::type&&
      |                                                                                                              ~~
  621 | get(pair<_T1, _T2>&& __p) _NOEXCEPT {
      | ^
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/__utility/pair.h:627:1: note: candidate template ignored: substitution failure [with _Ip = 1, _T1 = gs::String, _T2 = void]: cannot form a reference to 'void'
  626 | inline _LIBCPP_HIDE_FROM_ABI _LIBCPP_CONSTEXPR_SINCE_CXX14 const typename tuple_element<_Ip, pair<_T1, _T2> >::type&&
      |                                                                                                                    ~~
  627 | get(const pair<_T1, _T2>&& __p) _NOEXCEPT {
      | ^
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/__ranges/subrange.h:216:38: note: candidate template ignored: could not match 'subrange' against 'std::pair'
  216 | _LIBCPP_HIDE_FROM_ABI constexpr auto get(const subrange<_Iter, _Sent, _Kind>& __subrange) {
      |                                      ^
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/__ranges/subrange.h:225:38: note: candidate template ignored: could not match 'subrange' against 'std::pair'
  225 | _LIBCPP_HIDE_FROM_ABI constexpr auto get(subrange<_Iter, _Sent, _Kind>&& __subrange) {
      |                                      ^
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/array:504:65: note: candidate template ignored: could not match 'array' against 'std::pair'
  504 | inline _LIBCPP_HIDE_FROM_ABI _LIBCPP_CONSTEXPR_SINCE_CXX14 _Tp& get(array<_Tp, _Size>& __a) _NOEXCEPT {
      |                                                                 ^
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/array:510:71: note: candidate template ignored: could not match 'array' against 'std::pair'
  510 | inline _LIBCPP_HIDE_FROM_ABI _LIBCPP_CONSTEXPR_SINCE_CXX14 const _Tp& get(const array<_Tp, _Size>& __a) _NOEXCEPT {
      |                                                                       ^
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/array:516:66: note: candidate template ignored: could not match 'array' against 'std::pair'
  516 | inline _LIBCPP_HIDE_FROM_ABI _LIBCPP_CONSTEXPR_SINCE_CXX14 _Tp&& get(array<_Tp, _Size>&& __a) _NOEXCEPT {
      |                                                                  ^
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/array:522:72: note: candidate template ignored: could not match 'array' against 'std::pair'
  522 | inline _LIBCPP_HIDE_FROM_ABI _LIBCPP_CONSTEXPR_SINCE_CXX14 const _Tp&& get(const array<_Tp, _Size>&& __a) _NOEXCEPT {
      |                                                                        ^
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/variant:1352:1: note: candidate template ignored: could not match 'variant' against 'std::pair'
 1352 | get(variant<_Types...>& __v) {
      | ^
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/variant:1361:1: note: candidate template ignored: could not match 'variant' against 'std::pair'
 1361 | get(variant<_Types...>&& __v) {
      | ^
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/variant:1370:1: note: candidate template ignored: could not match 'variant' against 'std::pair'
 1370 | get(const variant<_Types...>& __v) {
      | ^
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/variant:1379:1: note: candidate template ignored: could not match 'variant' against 'std::pair'
 1379 | get(const variant<_Types...>&& __v) {
      | ^
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/tuple:1101:45: note: candidate template ignored: invalid explicitly-specified argument for template parameter '_T1'
 1101 | inline _LIBCPP_HIDE_FROM_ABI constexpr _T1& get(tuple<_Args...>& __tup) noexcept {
      |                                             ^
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/tuple:1106:51: note: candidate template ignored: invalid explicitly-specified argument for template parameter '_T1'
 1106 | inline _LIBCPP_HIDE_FROM_ABI constexpr _T1 const& get(tuple<_Args...> const& __tup) noexcept {
      |                                                   ^
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/tuple:1111:46: note: candidate template ignored: invalid explicitly-specified argument for template parameter '_T1'
 1111 | inline _LIBCPP_HIDE_FROM_ABI constexpr _T1&& get(tuple<_Args...>&& __tup) noexcept {
      |                                              ^
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/tuple:1116:52: note: candidate template ignored: invalid explicitly-specified argument for template parameter '_T1'
 1116 | inline _LIBCPP_HIDE_FROM_ABI constexpr _T1 const&& get(tuple<_Args...> const&& __tup) noexcept {
      |                                                    ^
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/__utility/pair.h:633:45: note: candidate template ignored: invalid explicitly-specified argument for template parameter '_T1'
  633 | inline _LIBCPP_HIDE_FROM_ABI constexpr _T1& get(pair<_T1, _T2>& __p) _NOEXCEPT {
      |                                             ^
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/__utility/pair.h:638:51: note: candidate template ignored: invalid explicitly-specified argument for template parameter '_T1'
  638 | inline _LIBCPP_HIDE_FROM_ABI constexpr _T1 const& get(pair<_T1, _T2> const& __p) _NOEXCEPT {
      |                                                   ^
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/__utility/pair.h:643:46: note: candidate template ignored: invalid explicitly-specified argument for template parameter '_T1'
  643 | inline _LIBCPP_HIDE_FROM_ABI constexpr _T1&& get(pair<_T1, _T2>&& __p) _NOEXCEPT {
      |                                              ^
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/__utility/pair.h:648:52: note: candidate template ignored: invalid explicitly-specified argument for template parameter '_T1'
  648 | inline _LIBCPP_HIDE_FROM_ABI constexpr _T1 const&& get(pair<_T1, _T2> const&& __p) _NOEXCEPT {
      |                                                    ^
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/__utility/pair.h:653:45: note: candidate template ignored: invalid explicitly-specified argument for template parameter '_T1'
  653 | inline _LIBCPP_HIDE_FROM_ABI constexpr _T1& get(pair<_T2, _T1>& __p) _NOEXCEPT {
      |                                             ^
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/__utility/pair.h:658:51: note: candidate template ignored: invalid explicitly-specified argument for template parameter '_T1'
  658 | inline _LIBCPP_HIDE_FROM_ABI constexpr _T1 const& get(pair<_T2, _T1> const& __p) _NOEXCEPT {
      |                                                   ^
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/__utility/pair.h:663:46: note: candidate template ignored: invalid explicitly-specified argument for template parameter '_T1'
  663 | inline _LIBCPP_HIDE_FROM_ABI constexpr _T1&& get(pair<_T2, _T1>&& __p) _NOEXCEPT {
      |                                              ^
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/__utility/pair.h:668:52: note: candidate template ignored: invalid explicitly-specified argument for template parameter '_T1'
  668 | inline _LIBCPP_HIDE_FROM_ABI constexpr _T1 const&& get(pair<_T2, _T1> const&& __p) _NOEXCEPT {
      |                                                    ^
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/variant:1386:84: note: candidate template ignored: invalid explicitly-specified argument for template parameter '_Tp'
 1386 | _LIBCPP_HIDE_FROM_ABI _LIBCPP_AVAILABILITY_THROW_BAD_VARIANT_ACCESS constexpr _Tp& get(variant<_Types...>& __v) {
      |                                                                                    ^
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/variant:1392:85: note: candidate template ignored: invalid explicitly-specified argument for template parameter '_Tp'
 1392 | _LIBCPP_HIDE_FROM_ABI _LIBCPP_AVAILABILITY_THROW_BAD_VARIANT_ACCESS constexpr _Tp&& get(variant<_Types...>&& __v) {
      |                                                                                     ^
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/variant:1399:1: note: candidate template ignored: invalid explicitly-specified argument for template parameter '_Tp'
 1399 | get(const variant<_Types...>& __v) {
      | ^
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/variant:1406:1: note: candidate template ignored: invalid explicitly-specified argument for template parameter '_Tp'
 1406 | get(const variant<_Types...>&& __v) {
      | ^
In file included from dist/build/test.cpp:1:
In file included from dist/build/test.hpp:5:
In file included from /Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/ownership/gs_runtime.hpp:42:
/Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/ownership/gs_map.hpp:376:28: error: cannot form a reference to 'void'
  376 |     for (const auto& [key, value] : *this) {
      |                            ^
/Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/ownership/gs_map.hpp:412:18: note: selected 'begin' function with iterator type 'const_iterator'
  412 |   const_iterator begin() const { return const_iterator(items_.begin(), items_.end(), &index_); }
      |                  ^
15 errors generated.

stdout: 

   Expected: "done\n"
   Got:      "üì¶ Compiling 1 file(s)...\n  ‚úì test.hpp\n  ‚úì test.cpp\n\nüî® Compiling to native binary...\n"
‚úÖ Array push to empty
‚úÖ Map set on empty
‚úÖ Zero arithmetic
‚úÖ Negative numbers
‚úÖ Integer overflow safe
‚úÖ Float precision

‚ùå Integer division truncation
   [gc] Failed (2016ms)
   Expected: "3.5\n"
   Got:      "3\n"
   [ownership] Failed (2193ms)
   Expected: "3.5\n"
   Got:      "3\n"
‚úÖ Modulo with negatives
‚úÖ Number comparison
‚úÖ Boolean arithmetic context
‚úÖ Optional chaining with null
‚úÖ Optional chaining with value
‚úÖ String with special characters
‚úÖ String with quotes
‚úÖ String concatenation chain
‚úÖ String slice edge cases
‚úÖ String indexOf not found
‚úÖ String split edge cases
‚úÖ String split empty delimiter
‚úÖ String trim whitespace
‚úÖ String case conversion
‚úÖ String includes
‚úÖ Array push and pop
‚úÖ Array map
‚úÖ Array filter
‚úÖ Array forEach
‚úÖ Array slice
‚úÖ Array join
‚úÖ Array reverse

‚ùå Array concat
   [gc] Failed (1598ms)
   Error: Command failed: /Users/bilbo/Devel/oss/goodscript/goodscript/compiler/bin/gsc --gsTarget cpp --gsMemory gc -o /var/folders/dm/rpn_c6_13k167t8p_0dqr5gm0000gn/T/goodscript-equiv-1765410526655/test-gc /var/folders/dm/rpn_c6_13k167t8p_0dqr5gm0000gn/T/goodscript-equiv-1765410526655/test-gs.ts

‚ùå Errors:
  Binary compilation failed
    Using cached mps.o
    Compiling cppcoro...
    Compiling test.cpp...
    Command failed: zig c++ -std=c++20 -O3 -c -I dist/build -I /Users/bilbo/Devel/oss/goodscript/goodscript/compiler/vendor/mps/src -I /Users/bilbo/Devel/oss/goodscript/goodscript/compiler/vendor/cpp-httplib -I /Users/bilbo/Devel/oss/goodscript/goodscript/compiler -I /Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp -I /Users/bilbo/Devel/oss/goodscript/goodscript/compiler/vendor/cppcoro/include dist/build/test.cpp -o dist/build/test.o
Exit code: 1
stderr: dist/build/test.cpp:24:14: error: no member named 'concat' in 'gs::Array<int>'
   24 |   auto c = a.concat(b);
      |            ~ ^
In file included from dist/build/test.cpp:1:
In file included from dist/build/test.hpp:5:
In file included from /Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/gc/gs_gc_runtime.hpp:24:
/Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/gc/array.hpp:52:29: warning: first argument in call to 'memcpy' is a pointer to non-trivially copyable type 'gs::String' [-Wnontrivial-memcall]
   52 |                 std::memcpy(new_data, data_, length_ * sizeof(T));
      |                             ^
/Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/gc/array.hpp:191:13: note: in instantiation of member function 'gs::Array<gs::String>::resize_capacity' requested here
  191 |             resize_capacity(calculate_growth(capacity_));
      |             ^
/Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/gc/array.hpp:499:20: note: in instantiation of member function 'gs::Array<gs::String>::push' requested here
  499 |             result.push(charAt(i));
      |                    ^
/Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/gc/array.hpp:52:29: note: explicitly cast the pointer to silence this warning
   52 |                 std::memcpy(new_data, data_, length_ * sizeof(T));
      |                             ^
      |                             (void*)
1 warning and 1 error generated.

stdout: 

   Expected: "4\n1\n2\n3\n4\n"
   Got:      "üì¶ Compiling 1 file(s)...\n  ‚úì test.hpp\n  ‚úì test.cpp\n\nüî® Compiling to native binary...\n"
   [ownership] Failed (1717ms)
   Error: Command failed: /Users/bilbo/Devel/oss/goodscript/goodscript/compiler/bin/gsc --gsTarget cpp --gsMemory ownership -o /var/folders/dm/rpn_c6_13k167t8p_0dqr5gm0000gn/T/goodscript-equiv-1765410526655/test-ownership /var/folders/dm/rpn_c6_13k167t8p_0dqr5gm0000gn/T/goodscript-equiv-1765410526655/test-gs.ts

‚ùå Errors:
  Binary compilation failed
    Compiling cppcoro...
    Compiling test.cpp...
    Command failed: zig c++ -std=c++20 -O3 -c -I dist/build -I /Users/bilbo/Devel/oss/goodscript/goodscript/compiler/vendor/cpp-httplib -I /Users/bilbo/Devel/oss/goodscript/goodscript/compiler -I /Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp -I /Users/bilbo/Devel/oss/goodscript/goodscript/compiler/vendor/cppcoro/include dist/build/test.cpp -o dist/build/test.o
Exit code: 1
stderr: dist/build/test.cpp:24:14: error: no member named 'concat' in 'gs::Array<int>'
   24 |   auto c = a.concat(b);
      |            ~ ^
1 error generated.

stdout: 

   Expected: "4\n1\n2\n3\n4\n"
   Got:      "üì¶ Compiling 1 file(s)...\n  ‚úì test.hpp\n  ‚úì test.cpp\n\nüî® Compiling to native binary...\n"
‚úÖ Array includes
‚úÖ Array indexOf

‚ùå Date.now returns a number
   [gc] Failed (1594ms)
   Error: Command failed: /Users/bilbo/Devel/oss/goodscript/goodscript/compiler/bin/gsc --gsTarget cpp --gsMemory gc -o /var/folders/dm/rpn_c6_13k167t8p_0dqr5gm0000gn/T/goodscript-equiv-1765410539350/test-gc /var/folders/dm/rpn_c6_13k167t8p_0dqr5gm0000gn/T/goodscript-equiv-1765410539350/test-gs.ts

‚ùå Errors:
  Binary compilation failed
    Using cached mps.o
    Compiling cppcoro...
    Compiling test.cpp...
    Command failed: zig c++ -std=c++20 -O3 -c -I dist/build -I /Users/bilbo/Devel/oss/goodscript/goodscript/compiler/vendor/mps/src -I /Users/bilbo/Devel/oss/goodscript/goodscript/compiler/vendor/cpp-httplib -I /Users/bilbo/Devel/oss/goodscript/goodscript/compiler -I /Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp -I /Users/bilbo/Devel/oss/goodscript/goodscript/compiler/vendor/cppcoro/include dist/build/test.cpp -o dist/build/test.o
Exit code: 1
stderr: dist/build/test.cpp:21:24: error: no member named 'typeOf' in namespace 'gs'
   21 |   gs::console::log(gs::typeOf(timestamp));
      |                    ~~~~^
In file included from dist/build/test.cpp:1:
In file included from dist/build/test.hpp:5:
In file included from /Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/gc/gs_gc_runtime.hpp:24:
/Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/gc/array.hpp:52:29: warning: first argument in call to 'memcpy' is a pointer to non-trivially copyable type 'gs::String' [-Wnontrivial-memcall]
   52 |                 std::memcpy(new_data, data_, length_ * sizeof(T));
      |                             ^
/Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/gc/array.hpp:191:13: note: in instantiation of member function 'gs::Array<gs::String>::resize_capacity' requested here
  191 |             resize_capacity(calculate_growth(capacity_));
      |             ^
/Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/gc/array.hpp:499:20: note: in instantiation of member function 'gs::Array<gs::String>::push' requested here
  499 |             result.push(charAt(i));
      |                    ^
/Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/gc/array.hpp:52:29: note: explicitly cast the pointer to silence this warning
   52 |                 std::memcpy(new_data, data_, length_ * sizeof(T));
      |                             ^
      |                             (void*)
1 warning and 1 error generated.

stdout: 

   Expected: "number\n"
   Got:      "üì¶ Compiling 1 file(s)...\n  ‚úì test.hpp\n  ‚úì test.cpp\n\nüî® Compiling to native binary...\n"
   [ownership] Failed (1676ms)
   Error: Command failed: /Users/bilbo/Devel/oss/goodscript/goodscript/compiler/bin/gsc --gsTarget cpp --gsMemory ownership -o /var/folders/dm/rpn_c6_13k167t8p_0dqr5gm0000gn/T/goodscript-equiv-1765410539350/test-ownership /var/folders/dm/rpn_c6_13k167t8p_0dqr5gm0000gn/T/goodscript-equiv-1765410539350/test-gs.ts

‚ùå Errors:
  Binary compilation failed
    Compiling cppcoro...
    Compiling test.cpp...
    Command failed: zig c++ -std=c++20 -O3 -c -I dist/build -I /Users/bilbo/Devel/oss/goodscript/goodscript/compiler/vendor/cpp-httplib -I /Users/bilbo/Devel/oss/goodscript/goodscript/compiler -I /Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp -I /Users/bilbo/Devel/oss/goodscript/goodscript/compiler/vendor/cppcoro/include dist/build/test.cpp -o dist/build/test.o
Exit code: 1
stderr: dist/build/test.cpp:21:24: error: no member named 'typeOf' in namespace 'gs'
   21 |   gs::console::log(gs::typeOf(timestamp));
      |                    ~~~~^
1 error generated.

stdout: 

   Expected: "number\n"
   Got:      "üì¶ Compiling 1 file(s)...\n  ‚úì test.hpp\n  ‚úì test.cpp\n\nüî® Compiling to native binary...\n"
‚úÖ Date.now is positive
‚úÖ Date.now measures elapsed time
‚úÖ Date.now in expressions
‚úÖ JSON.stringify number
‚úÖ JSON.stringify string
‚úÖ JSON.stringify boolean
‚úÖ JSON.stringify empty string
‚úÖ JSON.stringify zero
‚úÖ JSON.stringify negative number

‚ùå Map creation and size
   [gc] Failed (1649ms)
   Error: Command failed: /Users/bilbo/Devel/oss/goodscript/goodscript/compiler/bin/gsc --gsTarget cpp --gsMemory gc -o /var/folders/dm/rpn_c6_13k167t8p_0dqr5gm0000gn/T/goodscript-equiv-1765410584882/test-gc /var/folders/dm/rpn_c6_13k167t8p_0dqr5gm0000gn/T/goodscript-equiv-1765410584882/test-gs.ts

‚ùå Errors:
  Binary compilation failed
    Using cached mps.o
    Compiling cppcoro...
    Compiling test.cpp...
    Command failed: zig c++ -std=c++20 -O3 -c -I dist/build -I /Users/bilbo/Devel/oss/goodscript/goodscript/compiler/vendor/mps/src -I /Users/bilbo/Devel/oss/goodscript/goodscript/compiler/vendor/cpp-httplib -I /Users/bilbo/Devel/oss/goodscript/goodscript/compiler -I /Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp -I /Users/bilbo/Devel/oss/goodscript/goodscript/compiler/vendor/cppcoro/include dist/build/test.cpp -o dist/build/test.o
Exit code: 1
stderr: In file included from dist/build/test.cpp:1:
In file included from dist/build/test.hpp:5:
In file included from /Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/gc/gs_gc_runtime.hpp:25:
/Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/gc/map.hpp:158:35: error: cannot form a reference to 'void'
  158 |     void set(const K& key, const V& value) {
      |                                   ^
dist/build/test.cpp:20:15: note: in instantiation of template class 'gs::Map<gs::String, void>' requested here
   20 |   auto map_ = gs::Map<gs::String, void>();
      |               ^
In file included from dist/build/test.cpp:1:
In file included from dist/build/test.hpp:5:
In file included from /Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/gc/gs_gc_runtime.hpp:13:
In file included from /Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/gc/allocator.hpp:6:
In file included from /opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/utility:257:
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/__utility/pair.h:72:7: error: field has incomplete type 'void'
   72 |   _T2 second;
      |       ^
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/__vector/vector.h:385:48: note: in instantiation of template class 'std::pair<gs::String, void>' requested here
  385 |     return static_cast<size_type>(this->__end_ - this->__begin_);
      |                                                ^
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/__vector/vector.h:530:28: note: in instantiation of member function 'std::vector<std::pair<gs::String, void>>::size' requested here
  530 |     size_type __old_size = size();
      |                            ^
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/__vector/vector.h:248:16: note: in instantiation of member function 'std::vector<std::pair<gs::String, void>>::clear' requested here
  248 |         __vec_.clear();
      |                ^
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/__vector/vector.h:259:67: note: in instantiation of member function 'std::vector<std::pair<gs::String, void>>::__destroy_vector::operator()' requested here
  259 |   _LIBCPP_CONSTEXPR_SINCE_CXX20 _LIBCPP_HIDE_FROM_ABI ~vector() { __destroy_vector (*this)(); }
      |                                                                   ^
/Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/gc/map.hpp:143:5: note: in instantiation of member function 'std::vector<std::pair<gs::String, void>>::~vector' requested here
  143 |     Map() = default;
      |     ^
dist/build/test.cpp:20:15: note: in defaulted default constructor for 'gs::Map<gs::String, void>' first required here
   20 |   auto map_ = gs::Map<gs::String, void>();
      |               ^
In file included from dist/build/test.cpp:1:
In file included from dist/build/test.hpp:5:
In file included from /Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/gc/gs_gc_runtime.hpp:13:
In file included from /Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/gc/allocator.hpp:6:
In file included from /opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/utility:257:
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/__utility/pair.h:141:104: error: cannot form a reference to 'void'
  141 |             __enable_if_t<_CheckArgsDep<_Dummy>::template __is_pair_constructible<_T1 const&, _T2 const&>(), int> = 0>
      |                                                                                                        ^
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/__utility/pair.h:247:95: error: cannot form a reference to 'void'
  247 |       __enable_if_t<is_assignable<first_type&, _U1 const&>::value && is_assignable<second_type&, _U2 const&>::value,
      |                                                                                               ^
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/__utility/pair.h:257:94: error: cannot form a reference to 'void'
  257 |             __enable_if_t<is_assignable<first_type&, _U1>::value && is_assignable<second_type&, _U2>::value, int> = 0>
      |                                                                                              ^
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/__utility/pair.h:358:86: error: cannot form a reference to 'void'
  358 |             __enable_if_t<is_assignable<_T1&, _U1 const&>::value && is_assignable<_T2&, _U2 const&>::value, int> = 0>
      |                                                                                      ^
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/__utility/pair.h:367:81: error: cannot form a reference to 'void'
  367 |             __enable_if_t<is_assignable<_T1&, _U1&&>::value && is_assignable<_T2&, _U2&&>::value, int> = 0>
      |                                                                                 ^
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/__utility/pair.h:398:86: error: cannot form a reference to 'void'
  398 |             __enable_if_t<is_assignable<_T1&, _Up const&>::value && is_assignable<_T2&, _Up const&>::value, int> = 0>
      |                                                                                      ^
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/__utility/pair.h:405:90: error: cannot form a reference to 'void'
  405 |   template <class _Up, __enable_if_t<is_assignable<_T1&, _Up>::value && is_assignable<_T2&, _Up>::value, int> = 0>
      |                                                                                          ^
In file included from dist/build/test.cpp:1:
In file included from dist/build/test.hpp:5:
In file included from /Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/gc/gs_gc_runtime.hpp:24:
/Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/gc/array.hpp:52:29: warning: first argument in call to 'memcpy' is a pointer to non-trivially copyable type 'gs::String' [-Wnontrivial-memcall]
   52 |                 std::memcpy(new_data, data_, length_ * sizeof(T));
      |                             ^
/Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/gc/array.hpp:191:13: note: in instantiation of member function 'gs::Array<gs::String>::resize_capacity' requested here
  191 |             resize_capacity(calculate_growth(capacity_));
      |             ^
/Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/gc/array.hpp:499:20: note: in instantiation of member function 'gs::Array<gs::String>::push' requested here
  499 |             result.push(charAt(i));
      |                    ^
/Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/gc/array.hpp:52:29: note: explicitly cast the pointer to silence this warning
   52 |                 std::memcpy(new_data, data_, length_ * sizeof(T));
      |                             ^
      |                             (void*)
1 warning and 9 errors generated.

stdout: 

   Expected: "0\n"
   Got:      "üì¶ Compiling 1 file(s)...\n  ‚úì test.hpp\n  ‚úì test.cpp\n\nüî® Compiling to native binary...\n"
   [ownership] Failed (1705ms)
   Error: Command failed: /Users/bilbo/Devel/oss/goodscript/goodscript/compiler/bin/gsc --gsTarget cpp --gsMemory ownership -o /var/folders/dm/rpn_c6_13k167t8p_0dqr5gm0000gn/T/goodscript-equiv-1765410584882/test-ownership /var/folders/dm/rpn_c6_13k167t8p_0dqr5gm0000gn/T/goodscript-equiv-1765410584882/test-gs.ts

‚ùå Errors:
  Binary compilation failed
    Compiling cppcoro...
    Compiling test.cpp...
    Command failed: zig c++ -std=c++20 -O3 -c -I dist/build -I /Users/bilbo/Devel/oss/goodscript/goodscript/compiler/vendor/cpp-httplib -I /Users/bilbo/Devel/oss/goodscript/goodscript/compiler -I /Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp -I /Users/bilbo/Devel/oss/goodscript/goodscript/compiler/vendor/cppcoro/include dist/build/test.cpp -o dist/build/test.o
Exit code: 1
stderr: In file included from dist/build/test.cpp:1:
In file included from dist/build/test.hpp:5:
In file included from /Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/ownership/gs_runtime.hpp:42:
/Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/ownership/gs_map.hpp:180:39: error: cannot form a reference to 'void'
  180 |   Map<K, V>& set(const K& key, const V& value) {
      |                                       ^
dist/build/test.cpp:20:15: note: in instantiation of template class 'gs::Map<gs::String, void>' requested here
   20 |   auto map_ = gs::Map<gs::String, void>();
      |               ^
In file included from dist/build/test.cpp:1:
In file included from dist/build/test.hpp:5:
In file included from /Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/ownership/gs_runtime.hpp:42:
/Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/ownership/gs_map.hpp:193:33: error: cannot form a reference to 'void'
  193 |   Map<K, V>& set(const K& key, V&& value) {
      |                                 ^
/Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/ownership/gs_map.hpp:204:34: error: cannot form a reference to 'void'
  204 |   Map<K, V>& set(K&& key, const V& value) {
      |                                  ^
/Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/ownership/gs_map.hpp:216:28: error: cannot form a reference to 'void'
  216 |   Map<K, V>& set(K&& key, V&& value) {
      |                            ^
/Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/ownership/gs_map.hpp:246:41: error: cannot form a reference to 'void'
  246 |   V get_or_default(const K& key, const V& defaultValue) const {
      |                                         ^
In file included from dist/build/test.cpp:1:
In file included from dist/build/test.hpp:5:
In file included from /Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/ownership/gs_runtime.hpp:36:
In file included from /opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/functional:539:
In file included from /opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/__functional/bind.h:20:
In file included from /opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/tuple:1438:
In file included from /opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/utility:257:
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/__utility/pair.h:72:7: error: field has incomplete type 'void'
   72 |   _T2 second;
      |       ^
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/__vector/vector.h:385:48: note: in instantiation of template class 'std::pair<gs::String, void>' requested here
  385 |     return static_cast<size_type>(this->__end_ - this->__begin_);
      |                                                ^
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/__vector/vector.h:530:28: note: in instantiation of member function 'std::vector<std::pair<gs::String, void>>::size' requested here
  530 |     size_type __old_size = size();
      |                            ^
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/__vector/vector.h:248:16: note: in instantiation of member function 'std::vector<std::pair<gs::String, void>>::clear' requested here
  248 |         __vec_.clear();
      |                ^
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/__vector/vector.h:259:67: note: in instantiation of member function 'std::vector<std::pair<gs::String, void>>::__destroy_vector::operator()' requested here
  259 |   _LIBCPP_CONSTEXPR_SINCE_CXX20 _LIBCPP_HIDE_FROM_ABI ~vector() { __destroy_vector (*this)(); }
      |                                                                   ^
/Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/ownership/gs_map.hpp:137:3: note: in instantiation of member function 'std::vector<std::pair<gs::String, void>>::~vector' requested here
  137 |   Map() = default;
      |   ^
dist/build/test.cpp:20:15: note: in defaulted default constructor for 'gs::Map<gs::String, void>' first required here
   20 |   auto map_ = gs::Map<gs::String, void>();
      |               ^
In file included from dist/build/test.cpp:1:
In file included from dist/build/test.hpp:5:
In file included from /Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/ownership/gs_runtime.hpp:36:
In file included from /opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/functional:539:
In file included from /opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/__functional/bind.h:20:
In file included from /opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/tuple:1438:
In file included from /opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/utility:257:
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/__utility/pair.h:141:104: error: cannot form a reference to 'void'
  141 |             __enable_if_t<_CheckArgsDep<_Dummy>::template __is_pair_constructible<_T1 const&, _T2 const&>(), int> = 0>
      |                                                                                                        ^
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/__utility/pair.h:247:95: error: cannot form a reference to 'void'
  247 |       __enable_if_t<is_assignable<first_type&, _U1 const&>::value && is_assignable<second_type&, _U2 const&>::value,
      |                                                                                               ^
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/__utility/pair.h:257:94: error: cannot form a reference to 'void'
  257 |             __enable_if_t<is_assignable<first_type&, _U1>::value && is_assignable<second_type&, _U2>::value, int> = 0>
      |                                                                                              ^
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/__utility/pair.h:358:86: error: cannot form a reference to 'void'
  358 |             __enable_if_t<is_assignable<_T1&, _U1 const&>::value && is_assignable<_T2&, _U2 const&>::value, int> = 0>
      |                                                                                      ^
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/__utility/pair.h:367:81: error: cannot form a reference to 'void'
  367 |             __enable_if_t<is_assignable<_T1&, _U1&&>::value && is_assignable<_T2&, _U2&&>::value, int> = 0>
      |                                                                                 ^
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/__utility/pair.h:398:86: error: cannot form a reference to 'void'
  398 |             __enable_if_t<is_assignable<_T1&, _Up const&>::value && is_assignable<_T2&, _Up const&>::value, int> = 0>
      |                                                                                      ^
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/__utility/pair.h:405:90: error: cannot form a reference to 'void'
  405 |   template <class _Up, __enable_if_t<is_assignable<_T1&, _Up>::value && is_assignable<_T2&, _Up>::value, int> = 0>
      |                                                                                          ^
13 errors generated.

stdout: 

   Expected: "0\n"
   Got:      "üì¶ Compiling 1 file(s)...\n  ‚úì test.hpp\n  ‚úì test.cpp\n\nüî® Compiling to native binary...\n"

‚ùå Map set and get
   [gc] Failed (1678ms)
   Error: Command failed: /Users/bilbo/Devel/oss/goodscript/goodscript/compiler/bin/gsc --gsTarget cpp --gsMemory gc -o /var/folders/dm/rpn_c6_13k167t8p_0dqr5gm0000gn/T/goodscript-equiv-1765410588473/test-gc /var/folders/dm/rpn_c6_13k167t8p_0dqr5gm0000gn/T/goodscript-equiv-1765410588473/test-gs.ts

‚ùå Errors:
  Binary compilation failed
    Using cached mps.o
    Compiling cppcoro...
    Compiling test.cpp...
    Command failed: zig c++ -std=c++20 -O3 -c -I dist/build -I /Users/bilbo/Devel/oss/goodscript/goodscript/compiler/vendor/mps/src -I /Users/bilbo/Devel/oss/goodscript/goodscript/compiler/vendor/cpp-httplib -I /Users/bilbo/Devel/oss/goodscript/goodscript/compiler -I /Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp -I /Users/bilbo/Devel/oss/goodscript/goodscript/compiler/vendor/cppcoro/include dist/build/test.cpp -o dist/build/test.o
Exit code: 1
stderr: In file included from dist/build/test.cpp:1:
In file included from dist/build/test.hpp:5:
In file included from /Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/gc/gs_gc_runtime.hpp:25:
/Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/gc/map.hpp:158:35: error: cannot form a reference to 'void'
  158 |     void set(const K& key, const V& value) {
      |                                   ^
dist/build/test.cpp:20:15: note: in instantiation of template class 'gs::Map<gs::String, void>' requested here
   20 |   auto map_ = gs::Map<gs::String, void>();
      |               ^
In file included from dist/build/test.cpp:1:
In file included from dist/build/test.hpp:5:
In file included from /Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/gc/gs_gc_runtime.hpp:13:
In file included from /Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/gc/allocator.hpp:6:
In file included from /opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/utility:257:
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/__utility/pair.h:72:7: error: field has incomplete type 'void'
   72 |   _T2 second;
      |       ^
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/__vector/vector.h:385:48: note: in instantiation of template class 'std::pair<gs::String, void>' requested here
  385 |     return static_cast<size_type>(this->__end_ - this->__begin_);
      |                                                ^
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/__vector/vector.h:530:28: note: in instantiation of member function 'std::vector<std::pair<gs::String, void>>::size' requested here
  530 |     size_type __old_size = size();
      |                            ^
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/__vector/vector.h:248:16: note: in instantiation of member function 'std::vector<std::pair<gs::String, void>>::clear' requested here
  248 |         __vec_.clear();
      |                ^
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/__vector/vector.h:259:67: note: in instantiation of member function 'std::vector<std::pair<gs::String, void>>::__destroy_vector::operator()' requested here
  259 |   _LIBCPP_CONSTEXPR_SINCE_CXX20 _LIBCPP_HIDE_FROM_ABI ~vector() { __destroy_vector (*this)(); }
      |                                                                   ^
/Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/gc/map.hpp:143:5: note: in instantiation of member function 'std::vector<std::pair<gs::String, void>>::~vector' requested here
  143 |     Map() = default;
      |     ^
dist/build/test.cpp:20:15: note: in defaulted default constructor for 'gs::Map<gs::String, void>' first required here
   20 |   auto map_ = gs::Map<gs::String, void>();
      |               ^
In file included from dist/build/test.cpp:1:
In file included from dist/build/test.hpp:5:
In file included from /Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/gc/gs_gc_runtime.hpp:13:
In file included from /Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/gc/allocator.hpp:6:
In file included from /opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/utility:257:
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/__utility/pair.h:141:104: error: cannot form a reference to 'void'
  141 |             __enable_if_t<_CheckArgsDep<_Dummy>::template __is_pair_constructible<_T1 const&, _T2 const&>(), int> = 0>
      |                                                                                                        ^
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/__utility/pair.h:247:95: error: cannot form a reference to 'void'
  247 |       __enable_if_t<is_assignable<first_type&, _U1 const&>::value && is_assignable<second_type&, _U2 const&>::value,
      |                                                                                               ^
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/__utility/pair.h:257:94: error: cannot form a reference to 'void'
  257 |             __enable_if_t<is_assignable<first_type&, _U1>::value && is_assignable<second_type&, _U2>::value, int> = 0>
      |                                                                                              ^
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/__utility/pair.h:358:86: error: cannot form a reference to 'void'
  358 |             __enable_if_t<is_assignable<_T1&, _U1 const&>::value && is_assignable<_T2&, _U2 const&>::value, int> = 0>
      |                                                                                      ^
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/__utility/pair.h:367:81: error: cannot form a reference to 'void'
  367 |             __enable_if_t<is_assignable<_T1&, _U1&&>::value && is_assignable<_T2&, _U2&&>::value, int> = 0>
      |                                                                                 ^
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/__utility/pair.h:398:86: error: cannot form a reference to 'void'
  398 |             __enable_if_t<is_assignable<_T1&, _Up const&>::value && is_assignable<_T2&, _Up const&>::value, int> = 0>
      |                                                                                      ^
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/__utility/pair.h:405:90: error: cannot form a reference to 'void'
  405 |   template <class _Up, __enable_if_t<is_assignable<_T1&, _Up>::value && is_assignable<_T2&, _Up>::value, int> = 0>
      |                                                                                          ^
dist/build/test.cpp:21:8: error: no member named 'set' in 'gs::Map<gs::String, void>'
   21 |   map_.set(gs::String("a"), 1);
      |   ~~~~ ^
dist/build/test.cpp:22:8: error: no member named 'set' in 'gs::Map<gs::String, void>'
   22 |   map_.set(gs::String("b"), 2);
      |   ~~~~ ^
dist/build/test.cpp:23:8: error: no member named 'set' in 'gs::Map<gs::String, void>'
   23 |   map_.set(gs::String("c"), 3);
      |   ~~~~ ^
dist/build/test.cpp:24:3: error: no matching function for call to 'log'
   24 |   gs::console::log(map_.get(gs::String("a")));
      |   ^~~~~~~~~~~~~~~~
/Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/gc/console.hpp:27:15: note: candidate function not viable: cannot convert argument of incomplete type 'void' to 'const String' for 1st argument
   27 |   static void log(const String& message) {
      |               ^   ~~~~~~~~~~~~~~~~~~~~~
/Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/gc/console.hpp:31:15: note: candidate function not viable: cannot convert argument of incomplete type 'void' to 'const char *' for 1st argument
   31 |   static void log(const char* message) {
      |               ^   ~~~~~~~~~~~~~~~~~~~
/Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/gc/console.hpp:35:15: note: candidate function not viable: cannot convert argument of incomplete type 'void' to 'int' for 1st argument
   35 |   static void log(int value) {
      |               ^   ~~~~~~~~~
/Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/gc/console.hpp:39:15: note: candidate function not viable: cannot convert argument of incomplete type 'void' to 'double' for 1st argument
   39 |   static void log(double value) {
      |               ^   ~~~~~~~~~~~~
/Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/gc/console.hpp:44:15: note: candidate function not viable: cannot convert argument of incomplete type 'void' to 'bool' for 1st argument
   44 |   static void log(bool value) {
      |               ^   ~~~~~~~~~~
/Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/gc/console.hpp:50:15: note: candidate template ignored: substitution failure [with T = void, Args = <>]: cannot form a reference to 'void'
   50 |   static void log(const T& first, const Args&... args) {
      |               ^          ~
/Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/gc/console.hpp:23:15: note: candidate function not viable: requires 0 arguments, but 1 was provided
   23 |   static void log() {
      |               ^
dist/build/test.cpp:25:3: error: no matching function for call to 'log'
   25 |   gs::console::log(map_.get(gs::String("b")));
      |   ^~~~~~~~~~~~~~~~
/Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/gc/console.hpp:27:15: note: candidate function not viable: cannot convert argument of incomplete type 'void' to 'const String' for 1st argument
   27 |   static void log(const String& message) {
      |               ^   ~~~~~~~~~~~~~~~~~~~~~
/Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/gc/console.hpp:31:15: note: candidate function not viable: cannot convert argument of incomplete type 'void' to 'const char *' for 1st argument
   31 |   static void log(const char* message) {
      |               ^   ~~~~~~~~~~~~~~~~~~~
/Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/gc/console.hpp:35:15: note: candidate function not viable: cannot convert argument of incomplete type 'void' to 'int' for 1st argument
   35 |   static void log(int value) {
      |               ^   ~~~~~~~~~
/Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/gc/console.hpp:39:15: note: candidate function not viable: cannot convert argument of incomplete type 'void' to 'double' for 1st argument
   39 |   static void log(double value) {
      |               ^   ~~~~~~~~~~~~
/Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/gc/console.hpp:44:15: note: candidate function not viable: cannot convert argument of incomplete type 'void' to 'bool' for 1st argument
   44 |   static void log(bool value) {
      |               ^   ~~~~~~~~~~
/Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/gc/console.hpp:50:15: note: candidate template ignored: substitution failure [with T = void, Args = <>]: cannot form a reference to 'void'
   50 |   static void log(const T& first, const Args&... args) {
      |               ^          ~
/Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/gc/console.hpp:23:15: note: candidate function not viable: requires 0 arguments, but 1 was provided
   23 |   static void log() {
      |               ^
dist/build/test.cpp:26:3: error: no matching function for call to 'log'
   26 |   gs::console::log(map_.get(gs::String("c")));
      |   ^~~~~~~~~~~~~~~~
/Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/gc/console.hpp:27:15: note: candidate function not viable: cannot convert argument of incomplete type 'void' to 'const String' for 1st argument
   27 |   static void log(const String& message) {
      |               ^   ~~~~~~~~~~~~~~~~~~~~~
/Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/gc/console.hpp:31:15: note: candidate function not viable: cannot convert argument of incomplete type 'void' to 'const char *' for 1st argument
   31 |   static void log(const char* message) {
      |               ^   ~~~~~~~~~~~~~~~~~~~
/Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/gc/console.hpp:35:15: note: candidate function not viable: cannot convert argument of incomplete type 'void' to 'int' for 1st argument
   35 |   static void log(int value) {
      |               ^   ~~~~~~~~~
/Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/gc/console.hpp:39:15: note: candidate function not viable: cannot convert argument of incomplete type 'void' to 'double' for 1st argument
   39 |   static void log(double value) {
      |               ^   ~~~~~~~~~~~~
/Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/gc/console.hpp:44:15: note: candidate function not viable: cannot convert argument of incomplete type 'void' to 'bool' for 1st argument
   44 |   static void log(bool value) {
      |               ^   ~~~~~~~~~~
/Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/gc/console.hpp:50:15: note: candidate template ignored: substitution failure [with T = void, Args = <>]: cannot form a reference to 'void'
   50 |   static void log(const T& first, const Args&... args) {
      |               ^          ~
/Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/gc/console.hpp:23:15: note: candidate function not viable: requires 0 arguments, but 1 was provided
   23 |   static void log() {
      |               ^
In file included from dist/build/test.cpp:1:
In file included from dist/build/test.hpp:5:
In file included from /Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/gc/gs_gc_runtime.hpp:24:
/Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/gc/array.hpp:52:29: warning: first argument in call to 'memcpy' is a pointer to non-trivially copyable type 'gs::String' [-Wnontrivial-memcall]
   52 |                 std::memcpy(new_data, data_, length_ * sizeof(T));
      |                             ^
/Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/gc/array.hpp:191:13: note: in instantiation of member function 'gs::Array<gs::String>::resize_capacity' requested here
  191 |             resize_capacity(calculate_growth(capacity_));
      |             ^
/Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/gc/array.hpp:499:20: note: in instantiation of member function 'gs::Array<gs::String>::push' requested here
  499 |             result.push(charAt(i));
      |                    ^
/Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/gc/array.hpp:52:29: note: explicitly cast the pointer to silence this warning
   52 |                 std::memcpy(new_data, data_, length_ * sizeof(T));
      |                             ^
      |                             (void*)
1 warning and 15 errors generated.

stdout: 

   Expected: "1\n2\n3\n"
   Got:      "üì¶ Compiling 1 file(s)...\n  ‚úì test.hpp\n  ‚úì test.cpp\n\nüî® Compiling to native binary...\n"
   [ownership] Failed (1601ms)
   Error: Command failed: /Users/bilbo/Devel/oss/goodscript/goodscript/compiler/bin/gsc --gsTarget cpp --gsMemory ownership -o /var/folders/dm/rpn_c6_13k167t8p_0dqr5gm0000gn/T/goodscript-equiv-1765410588473/test-ownership /var/folders/dm/rpn_c6_13k167t8p_0dqr5gm0000gn/T/goodscript-equiv-1765410588473/test-gs.ts

‚ùå Errors:
  Binary compilation failed
    Compiling cppcoro...
    Compiling test.cpp...
    Command failed: zig c++ -std=c++20 -O3 -c -I dist/build -I /Users/bilbo/Devel/oss/goodscript/goodscript/compiler/vendor/cpp-httplib -I /Users/bilbo/Devel/oss/goodscript/goodscript/compiler -I /Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp -I /Users/bilbo/Devel/oss/goodscript/goodscript/compiler/vendor/cppcoro/include dist/build/test.cpp -o dist/build/test.o
Exit code: 1
stderr: In file included from dist/build/test.cpp:1:
In file included from dist/build/test.hpp:5:
In file included from /Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/ownership/gs_runtime.hpp:42:
/Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/ownership/gs_map.hpp:180:39: error: cannot form a reference to 'void'
  180 |   Map<K, V>& set(const K& key, const V& value) {
      |                                       ^
dist/build/test.cpp:20:15: note: in instantiation of template class 'gs::Map<gs::String, void>' requested here
   20 |   auto map_ = gs::Map<gs::String, void>();
      |               ^
In file included from dist/build/test.cpp:1:
In file included from dist/build/test.hpp:5:
In file included from /Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/ownership/gs_runtime.hpp:42:
/Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/ownership/gs_map.hpp:193:33: error: cannot form a reference to 'void'
  193 |   Map<K, V>& set(const K& key, V&& value) {
      |                                 ^
/Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/ownership/gs_map.hpp:204:34: error: cannot form a reference to 'void'
  204 |   Map<K, V>& set(K&& key, const V& value) {
      |                                  ^
/Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/ownership/gs_map.hpp:216:28: error: cannot form a reference to 'void'
  216 |   Map<K, V>& set(K&& key, V&& value) {
      |                            ^
/Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/ownership/gs_map.hpp:246:41: error: cannot form a reference to 'void'
  246 |   V get_or_default(const K& key, const V& defaultValue) const {
      |                                         ^
In file included from dist/build/test.cpp:1:
In file included from dist/build/test.hpp:5:
In file included from /Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/ownership/gs_runtime.hpp:36:
In file included from /opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/functional:539:
In file included from /opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/__functional/bind.h:20:
In file included from /opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/tuple:1438:
In file included from /opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/utility:257:
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/__utility/pair.h:72:7: error: field has incomplete type 'void'
   72 |   _T2 second;
      |       ^
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/__vector/vector.h:385:48: note: in instantiation of template class 'std::pair<gs::String, void>' requested here
  385 |     return static_cast<size_type>(this->__end_ - this->__begin_);
      |                                                ^
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/__vector/vector.h:530:28: note: in instantiation of member function 'std::vector<std::pair<gs::String, void>>::size' requested here
  530 |     size_type __old_size = size();
      |                            ^
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/__vector/vector.h:248:16: note: in instantiation of member function 'std::vector<std::pair<gs::String, void>>::clear' requested here
  248 |         __vec_.clear();
      |                ^
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/__vector/vector.h:259:67: note: in instantiation of member function 'std::vector<std::pair<gs::String, void>>::__destroy_vector::operator()' requested here
  259 |   _LIBCPP_CONSTEXPR_SINCE_CXX20 _LIBCPP_HIDE_FROM_ABI ~vector() { __destroy_vector (*this)(); }
      |                                                                   ^
/Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/ownership/gs_map.hpp:137:3: note: in instantiation of member function 'std::vector<std::pair<gs::String, void>>::~vector' requested here
  137 |   Map() = default;
      |   ^
dist/build/test.cpp:20:15: note: in defaulted default constructor for 'gs::Map<gs::String, void>' first required here
   20 |   auto map_ = gs::Map<gs::String, void>();
      |               ^
In file included from dist/build/test.cpp:1:
In file included from dist/build/test.hpp:5:
In file included from /Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/ownership/gs_runtime.hpp:36:
In file included from /opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/functional:539:
In file included from /opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/__functional/bind.h:20:
In file included from /opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/tuple:1438:
In file included from /opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/utility:257:
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/__utility/pair.h:141:104: error: cannot form a reference to 'void'
  141 |             __enable_if_t<_CheckArgsDep<_Dummy>::template __is_pair_constructible<_T1 const&, _T2 const&>(), int> = 0>
      |                                                                                                        ^
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/__utility/pair.h:247:95: error: cannot form a reference to 'void'
  247 |       __enable_if_t<is_assignable<first_type&, _U1 const&>::value && is_assignable<second_type&, _U2 const&>::value,
      |                                                                                               ^
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/__utility/pair.h:257:94: error: cannot form a reference to 'void'
  257 |             __enable_if_t<is_assignable<first_type&, _U1>::value && is_assignable<second_type&, _U2>::value, int> = 0>
      |                                                                                              ^
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/__utility/pair.h:358:86: error: cannot form a reference to 'void'
  358 |             __enable_if_t<is_assignable<_T1&, _U1 const&>::value && is_assignable<_T2&, _U2 const&>::value, int> = 0>
      |                                                                                      ^
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/__utility/pair.h:367:81: error: cannot form a reference to 'void'
  367 |             __enable_if_t<is_assignable<_T1&, _U1&&>::value && is_assignable<_T2&, _U2&&>::value, int> = 0>
      |                                                                                 ^
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/__utility/pair.h:398:86: error: cannot form a reference to 'void'
  398 |             __enable_if_t<is_assignable<_T1&, _Up const&>::value && is_assignable<_T2&, _Up const&>::value, int> = 0>
      |                                                                                      ^
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/__utility/pair.h:405:90: error: cannot form a reference to 'void'
  405 |   template <class _Up, __enable_if_t<is_assignable<_T1&, _Up>::value && is_assignable<_T2&, _Up>::value, int> = 0>
      |                                                                                          ^
dist/build/test.cpp:21:8: error: no member named 'set' in 'gs::Map<gs::String, void>'
   21 |   map_.set(gs::String("a"), 1);
      |   ~~~~ ^
dist/build/test.cpp:22:8: error: no member named 'set' in 'gs::Map<gs::String, void>'
   22 |   map_.set(gs::String("b"), 2);
      |   ~~~~ ^
dist/build/test.cpp:23:8: error: no member named 'set' in 'gs::Map<gs::String, void>'
   23 |   map_.set(gs::String("c"), 3);
      |   ~~~~ ^
dist/build/test.cpp:24:21: error: indirection not permitted on operand of type 'void *'
   24 |   gs::console::log((*map_.get(gs::String("a"))));
      |                     ^~~~~~~~~~~~~~~~~~~~~~~~~~
dist/build/test.cpp:24:3: error: no matching function for call to 'log'
   24 |   gs::console::log((*map_.get(gs::String("a"))));
      |   ^~~~~~~~~~~~~~~~
/Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/ownership/gs_console.hpp:26:15: note: candidate function not viable: cannot convert argument of incomplete type 'void' to 'const String' for 1st argument
   26 |   static void log(const String& message) {
      |               ^   ~~~~~~~~~~~~~~~~~~~~~
/Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/ownership/gs_console.hpp:30:15: note: candidate function not viable: cannot convert argument of incomplete type 'void' to 'const char *' for 1st argument
   30 |   static void log(const char* message) {
      |               ^   ~~~~~~~~~~~~~~~~~~~
/Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/ownership/gs_console.hpp:34:15: note: candidate function not viable: cannot convert argument of incomplete type 'void' to 'int' for 1st argument
   34 |   static void log(int value) {
      |               ^   ~~~~~~~~~
/Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/ownership/gs_console.hpp:38:15: note: candidate function not viable: cannot convert argument of incomplete type 'void' to 'double' for 1st argument
   38 |   static void log(double value) {
      |               ^   ~~~~~~~~~~~~
/Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/ownership/gs_console.hpp:43:15: note: candidate function not viable: cannot convert argument of incomplete type 'void' to 'bool' for 1st argument
   43 |   static void log(bool value) {
      |               ^   ~~~~~~~~~~
/Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/ownership/gs_console.hpp:49:15: note: candidate function not viable: cannot convert argument of incomplete type 'void' to 'const String *' for 1st argument
   49 |   static void log(const String* message) {
      |               ^   ~~~~~~~~~~~~~~~~~~~~~
/Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/ownership/gs_console.hpp:57:15: note: candidate function not viable: cannot convert argument of incomplete type 'void' to 'const int *' for 1st argument
   57 |   static void log(const int* value) {
      |               ^   ~~~~~~~~~~~~~~~~
/Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/ownership/gs_console.hpp:65:15: note: candidate function not viable: cannot convert argument of incomplete type 'void' to 'const double *' for 1st argument
   65 |   static void log(const double* value) {
      |               ^   ~~~~~~~~~~~~~~~~~~~
/Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/ownership/gs_console.hpp:73:15: note: candidate function not viable: cannot convert argument of incomplete type 'void' to 'const bool *' for 1st argument
   73 |   static void log(const bool* value) {
      |               ^   ~~~~~~~~~~~~~~~~~
/Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/ownership/gs_console.hpp:83:15: note: candidate template ignored: substitution failure [with T = void, Args = <>]: cannot form a reference to 'void'
   83 |   static void log(const T& first, const Args&... args) {
      |               ^          ~
/Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/ownership/gs_console.hpp:22:15: note: candidate function not viable: requires 0 arguments, but 1 was provided
   22 |   static void log() {
      |               ^
dist/build/test.cpp:25:21: error: indirection not permitted on operand of type 'void *'
   25 |   gs::console::log((*map_.get(gs::String("b"))));
      |                     ^~~~~~~~~~~~~~~~~~~~~~~~~~
fatal error: too many errors emitted, stopping now [-ferror-limit=]
20 errors generated.

stdout: 

   Expected: "1\n2\n3\n"
   Got:      "üì¶ Compiling 1 file(s)...\n  ‚úì test.hpp\n  ‚úì test.cpp\n\nüî® Compiling to native binary...\n"

‚ùå Map has
   [gc] Failed (1656ms)
   Error: Command failed: /Users/bilbo/Devel/oss/goodscript/goodscript/compiler/bin/gsc --gsTarget cpp --gsMemory gc -o /var/folders/dm/rpn_c6_13k167t8p_0dqr5gm0000gn/T/goodscript-equiv-1765410591968/test-gc /var/folders/dm/rpn_c6_13k167t8p_0dqr5gm0000gn/T/goodscript-equiv-1765410591968/test-gs.ts

‚ùå Errors:
  Binary compilation failed
    Using cached mps.o
    Compiling cppcoro...
    Compiling test.cpp...
    Command failed: zig c++ -std=c++20 -O3 -c -I dist/build -I /Users/bilbo/Devel/oss/goodscript/goodscript/compiler/vendor/mps/src -I /Users/bilbo/Devel/oss/goodscript/goodscript/compiler/vendor/cpp-httplib -I /Users/bilbo/Devel/oss/goodscript/goodscript/compiler -I /Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp -I /Users/bilbo/Devel/oss/goodscript/goodscript/compiler/vendor/cppcoro/include dist/build/test.cpp -o dist/build/test.o
Exit code: 1
stderr: In file included from dist/build/test.cpp:1:
In file included from dist/build/test.hpp:5:
In file included from /Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/gc/gs_gc_runtime.hpp:25:
/Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/gc/map.hpp:158:35: error: cannot form a reference to 'void'
  158 |     void set(const K& key, const V& value) {
      |                                   ^
dist/build/test.cpp:20:15: note: in instantiation of template class 'gs::Map<gs::String, void>' requested here
   20 |   auto map_ = gs::Map<gs::String, void>();
      |               ^
In file included from dist/build/test.cpp:1:
In file included from dist/build/test.hpp:5:
In file included from /Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/gc/gs_gc_runtime.hpp:13:
In file included from /Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/gc/allocator.hpp:6:
In file included from /opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/utility:257:
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/__utility/pair.h:72:7: error: field has incomplete type 'void'
   72 |   _T2 second;
      |       ^
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/__vector/vector.h:385:48: note: in instantiation of template class 'std::pair<gs::String, void>' requested here
  385 |     return static_cast<size_type>(this->__end_ - this->__begin_);
      |                                                ^
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/__vector/vector.h:530:28: note: in instantiation of member function 'std::vector<std::pair<gs::String, void>>::size' requested here
  530 |     size_type __old_size = size();
      |                            ^
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/__vector/vector.h:248:16: note: in instantiation of member function 'std::vector<std::pair<gs::String, void>>::clear' requested here
  248 |         __vec_.clear();
      |                ^
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/__vector/vector.h:259:67: note: in instantiation of member function 'std::vector<std::pair<gs::String, void>>::__destroy_vector::operator()' requested here
  259 |   _LIBCPP_CONSTEXPR_SINCE_CXX20 _LIBCPP_HIDE_FROM_ABI ~vector() { __destroy_vector (*this)(); }
      |                                                                   ^
/Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/gc/map.hpp:143:5: note: in instantiation of member function 'std::vector<std::pair<gs::String, void>>::~vector' requested here
  143 |     Map() = default;
      |     ^
dist/build/test.cpp:20:15: note: in defaulted default constructor for 'gs::Map<gs::String, void>' first required here
   20 |   auto map_ = gs::Map<gs::String, void>();
      |               ^
In file included from dist/build/test.cpp:1:
In file included from dist/build/test.hpp:5:
In file included from /Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/gc/gs_gc_runtime.hpp:13:
In file included from /Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/gc/allocator.hpp:6:
In file included from /opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/utility:257:
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/__utility/pair.h:141:104: error: cannot form a reference to 'void'
  141 |             __enable_if_t<_CheckArgsDep<_Dummy>::template __is_pair_constructible<_T1 const&, _T2 const&>(), int> = 0>
      |                                                                                                        ^
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/__utility/pair.h:247:95: error: cannot form a reference to 'void'
  247 |       __enable_if_t<is_assignable<first_type&, _U1 const&>::value && is_assignable<second_type&, _U2 const&>::value,
      |                                                                                               ^
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/__utility/pair.h:257:94: error: cannot form a reference to 'void'
  257 |             __enable_if_t<is_assignable<first_type&, _U1>::value && is_assignable<second_type&, _U2>::value, int> = 0>
      |                                                                                              ^
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/__utility/pair.h:358:86: error: cannot form a reference to 'void'
  358 |             __enable_if_t<is_assignable<_T1&, _U1 const&>::value && is_assignable<_T2&, _U2 const&>::value, int> = 0>
      |                                                                                      ^
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/__utility/pair.h:367:81: error: cannot form a reference to 'void'
  367 |             __enable_if_t<is_assignable<_T1&, _U1&&>::value && is_assignable<_T2&, _U2&&>::value, int> = 0>
      |                                                                                 ^
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/__utility/pair.h:398:86: error: cannot form a reference to 'void'
  398 |             __enable_if_t<is_assignable<_T1&, _Up const&>::value && is_assignable<_T2&, _Up const&>::value, int> = 0>
      |                                                                                      ^
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/__utility/pair.h:405:90: error: cannot form a reference to 'void'
  405 |   template <class _Up, __enable_if_t<is_assignable<_T1&, _Up>::value && is_assignable<_T2&, _Up>::value, int> = 0>
      |                                                                                          ^
dist/build/test.cpp:21:8: error: no member named 'set' in 'gs::Map<gs::String, void>'
   21 |   map_.set(gs::String("key1"), 100);
      |   ~~~~ ^
In file included from dist/build/test.cpp:1:
In file included from dist/build/test.hpp:5:
In file included from /Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/gc/gs_gc_runtime.hpp:24:
/Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/gc/array.hpp:52:29: warning: first argument in call to 'memcpy' is a pointer to non-trivially copyable type 'gs::String' [-Wnontrivial-memcall]
   52 |                 std::memcpy(new_data, data_, length_ * sizeof(T));
      |                             ^
/Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/gc/array.hpp:191:13: note: in instantiation of member function 'gs::Array<gs::String>::resize_capacity' requested here
  191 |             resize_capacity(calculate_growth(capacity_));
      |             ^
/Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/gc/array.hpp:499:20: note: in instantiation of member function 'gs::Array<gs::String>::push' requested here
  499 |             result.push(charAt(i));
      |                    ^
/Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/gc/array.hpp:52:29: note: explicitly cast the pointer to silence this warning
   52 |                 std::memcpy(new_data, data_, length_ * sizeof(T));
      |                             ^
      |                             (void*)
1 warning and 10 errors generated.

stdout: 

   Expected: "true\nfalse\n"
   Got:      "üì¶ Compiling 1 file(s)...\n  ‚úì test.hpp\n  ‚úì test.cpp\n\nüî® Compiling to native binary...\n"
   [ownership] Failed (1744ms)
   Error: Command failed: /Users/bilbo/Devel/oss/goodscript/goodscript/compiler/bin/gsc --gsTarget cpp --gsMemory ownership -o /var/folders/dm/rpn_c6_13k167t8p_0dqr5gm0000gn/T/goodscript-equiv-1765410591968/test-ownership /var/folders/dm/rpn_c6_13k167t8p_0dqr5gm0000gn/T/goodscript-equiv-1765410591968/test-gs.ts

‚ùå Errors:
  Binary compilation failed
    Compiling cppcoro...
    Compiling test.cpp...
    Command failed: zig c++ -std=c++20 -O3 -c -I dist/build -I /Users/bilbo/Devel/oss/goodscript/goodscript/compiler/vendor/cpp-httplib -I /Users/bilbo/Devel/oss/goodscript/goodscript/compiler -I /Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp -I /Users/bilbo/Devel/oss/goodscript/goodscript/compiler/vendor/cppcoro/include dist/build/test.cpp -o dist/build/test.o
Exit code: 1
stderr: In file included from dist/build/test.cpp:1:
In file included from dist/build/test.hpp:5:
In file included from /Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/ownership/gs_runtime.hpp:42:
/Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/ownership/gs_map.hpp:180:39: error: cannot form a reference to 'void'
  180 |   Map<K, V>& set(const K& key, const V& value) {
      |                                       ^
dist/build/test.cpp:20:15: note: in instantiation of template class 'gs::Map<gs::String, void>' requested here
   20 |   auto map_ = gs::Map<gs::String, void>();
      |               ^
In file included from dist/build/test.cpp:1:
In file included from dist/build/test.hpp:5:
In file included from /Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/ownership/gs_runtime.hpp:42:
/Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/ownership/gs_map.hpp:193:33: error: cannot form a reference to 'void'
  193 |   Map<K, V>& set(const K& key, V&& value) {
      |                                 ^
/Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/ownership/gs_map.hpp:204:34: error: cannot form a reference to 'void'
  204 |   Map<K, V>& set(K&& key, const V& value) {
      |                                  ^
/Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/ownership/gs_map.hpp:216:28: error: cannot form a reference to 'void'
  216 |   Map<K, V>& set(K&& key, V&& value) {
      |                            ^
/Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/ownership/gs_map.hpp:246:41: error: cannot form a reference to 'void'
  246 |   V get_or_default(const K& key, const V& defaultValue) const {
      |                                         ^
In file included from dist/build/test.cpp:1:
In file included from dist/build/test.hpp:5:
In file included from /Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/ownership/gs_runtime.hpp:36:
In file included from /opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/functional:539:
In file included from /opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/__functional/bind.h:20:
In file included from /opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/tuple:1438:
In file included from /opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/utility:257:
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/__utility/pair.h:72:7: error: field has incomplete type 'void'
   72 |   _T2 second;
      |       ^
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/__vector/vector.h:385:48: note: in instantiation of template class 'std::pair<gs::String, void>' requested here
  385 |     return static_cast<size_type>(this->__end_ - this->__begin_);
      |                                                ^
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/__vector/vector.h:530:28: note: in instantiation of member function 'std::vector<std::pair<gs::String, void>>::size' requested here
  530 |     size_type __old_size = size();
      |                            ^
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/__vector/vector.h:248:16: note: in instantiation of member function 'std::vector<std::pair<gs::String, void>>::clear' requested here
  248 |         __vec_.clear();
      |                ^
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/__vector/vector.h:259:67: note: in instantiation of member function 'std::vector<std::pair<gs::String, void>>::__destroy_vector::operator()' requested here
  259 |   _LIBCPP_CONSTEXPR_SINCE_CXX20 _LIBCPP_HIDE_FROM_ABI ~vector() { __destroy_vector (*this)(); }
      |                                                                   ^
/Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/ownership/gs_map.hpp:137:3: note: in instantiation of member function 'std::vector<std::pair<gs::String, void>>::~vector' requested here
  137 |   Map() = default;
      |   ^
dist/build/test.cpp:20:15: note: in defaulted default constructor for 'gs::Map<gs::String, void>' first required here
   20 |   auto map_ = gs::Map<gs::String, void>();
      |               ^
In file included from dist/build/test.cpp:1:
In file included from dist/build/test.hpp:5:
In file included from /Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/ownership/gs_runtime.hpp:36:
In file included from /opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/functional:539:
In file included from /opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/__functional/bind.h:20:
In file included from /opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/tuple:1438:
In file included from /opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/utility:257:
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/__utility/pair.h:141:104: error: cannot form a reference to 'void'
  141 |             __enable_if_t<_CheckArgsDep<_Dummy>::template __is_pair_constructible<_T1 const&, _T2 const&>(), int> = 0>
      |                                                                                                        ^
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/__utility/pair.h:247:95: error: cannot form a reference to 'void'
  247 |       __enable_if_t<is_assignable<first_type&, _U1 const&>::value && is_assignable<second_type&, _U2 const&>::value,
      |                                                                                               ^
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/__utility/pair.h:257:94: error: cannot form a reference to 'void'
  257 |             __enable_if_t<is_assignable<first_type&, _U1>::value && is_assignable<second_type&, _U2>::value, int> = 0>
      |                                                                                              ^
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/__utility/pair.h:358:86: error: cannot form a reference to 'void'
  358 |             __enable_if_t<is_assignable<_T1&, _U1 const&>::value && is_assignable<_T2&, _U2 const&>::value, int> = 0>
      |                                                                                      ^
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/__utility/pair.h:367:81: error: cannot form a reference to 'void'
  367 |             __enable_if_t<is_assignable<_T1&, _U1&&>::value && is_assignable<_T2&, _U2&&>::value, int> = 0>
      |                                                                                 ^
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/__utility/pair.h:398:86: error: cannot form a reference to 'void'
  398 |             __enable_if_t<is_assignable<_T1&, _Up const&>::value && is_assignable<_T2&, _Up const&>::value, int> = 0>
      |                                                                                      ^
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/__utility/pair.h:405:90: error: cannot form a reference to 'void'
  405 |   template <class _Up, __enable_if_t<is_assignable<_T1&, _Up>::value && is_assignable<_T2&, _Up>::value, int> = 0>
      |                                                                                          ^
dist/build/test.cpp:21:8: error: no member named 'set' in 'gs::Map<gs::String, void>'
   21 |   map_.set(gs::String("key1"), 100);
      |   ~~~~ ^
14 errors generated.

stdout: 

   Expected: "true\nfalse\n"
   Got:      "üì¶ Compiling 1 file(s)...\n  ‚úì test.hpp\n  ‚úì test.cpp\n\nüî® Compiling to native binary...\n"

‚ùå Map delete
   [gc] Failed (1616ms)
   Error: Command failed: /Users/bilbo/Devel/oss/goodscript/goodscript/compiler/bin/gsc --gsTarget cpp --gsMemory gc -o /var/folders/dm/rpn_c6_13k167t8p_0dqr5gm0000gn/T/goodscript-equiv-1765410595596/test-gc /var/folders/dm/rpn_c6_13k167t8p_0dqr5gm0000gn/T/goodscript-equiv-1765410595596/test-gs.ts

‚ùå Errors:
  Binary compilation failed
    Using cached mps.o
    Compiling cppcoro...
    Compiling test.cpp...
    Command failed: zig c++ -std=c++20 -O3 -c -I dist/build -I /Users/bilbo/Devel/oss/goodscript/goodscript/compiler/vendor/mps/src -I /Users/bilbo/Devel/oss/goodscript/goodscript/compiler/vendor/cpp-httplib -I /Users/bilbo/Devel/oss/goodscript/goodscript/compiler -I /Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp -I /Users/bilbo/Devel/oss/goodscript/goodscript/compiler/vendor/cppcoro/include dist/build/test.cpp -o dist/build/test.o
Exit code: 1
stderr: In file included from dist/build/test.cpp:1:
In file included from dist/build/test.hpp:5:
In file included from /Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/gc/gs_gc_runtime.hpp:25:
/Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/gc/map.hpp:158:35: error: cannot form a reference to 'void'
  158 |     void set(const K& key, const V& value) {
      |                                   ^
dist/build/test.cpp:20:15: note: in instantiation of template class 'gs::Map<gs::String, void>' requested here
   20 |   auto map_ = gs::Map<gs::String, void>();
      |               ^
In file included from dist/build/test.cpp:1:
In file included from dist/build/test.hpp:5:
In file included from /Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/gc/gs_gc_runtime.hpp:13:
In file included from /Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/gc/allocator.hpp:6:
In file included from /opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/utility:257:
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/__utility/pair.h:72:7: error: field has incomplete type 'void'
   72 |   _T2 second;
      |       ^
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/__vector/vector.h:385:48: note: in instantiation of template class 'std::pair<gs::String, void>' requested here
  385 |     return static_cast<size_type>(this->__end_ - this->__begin_);
      |                                                ^
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/__vector/vector.h:530:28: note: in instantiation of member function 'std::vector<std::pair<gs::String, void>>::size' requested here
  530 |     size_type __old_size = size();
      |                            ^
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/__vector/vector.h:248:16: note: in instantiation of member function 'std::vector<std::pair<gs::String, void>>::clear' requested here
  248 |         __vec_.clear();
      |                ^
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/__vector/vector.h:259:67: note: in instantiation of member function 'std::vector<std::pair<gs::String, void>>::__destroy_vector::operator()' requested here
  259 |   _LIBCPP_CONSTEXPR_SINCE_CXX20 _LIBCPP_HIDE_FROM_ABI ~vector() { __destroy_vector (*this)(); }
      |                                                                   ^
/Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/gc/map.hpp:143:5: note: in instantiation of member function 'std::vector<std::pair<gs::String, void>>::~vector' requested here
  143 |     Map() = default;
      |     ^
dist/build/test.cpp:20:15: note: in defaulted default constructor for 'gs::Map<gs::String, void>' first required here
   20 |   auto map_ = gs::Map<gs::String, void>();
      |               ^
In file included from dist/build/test.cpp:1:
In file included from dist/build/test.hpp:5:
In file included from /Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/gc/gs_gc_runtime.hpp:13:
In file included from /Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/gc/allocator.hpp:6:
In file included from /opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/utility:257:
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/__utility/pair.h:141:104: error: cannot form a reference to 'void'
  141 |             __enable_if_t<_CheckArgsDep<_Dummy>::template __is_pair_constructible<_T1 const&, _T2 const&>(), int> = 0>
      |                                                                                                        ^
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/__utility/pair.h:247:95: error: cannot form a reference to 'void'
  247 |       __enable_if_t<is_assignable<first_type&, _U1 const&>::value && is_assignable<second_type&, _U2 const&>::value,
      |                                                                                               ^
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/__utility/pair.h:257:94: error: cannot form a reference to 'void'
  257 |             __enable_if_t<is_assignable<first_type&, _U1>::value && is_assignable<second_type&, _U2>::value, int> = 0>
      |                                                                                              ^
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/__utility/pair.h:358:86: error: cannot form a reference to 'void'
  358 |             __enable_if_t<is_assignable<_T1&, _U1 const&>::value && is_assignable<_T2&, _U2 const&>::value, int> = 0>
      |                                                                                      ^
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/__utility/pair.h:367:81: error: cannot form a reference to 'void'
  367 |             __enable_if_t<is_assignable<_T1&, _U1&&>::value && is_assignable<_T2&, _U2&&>::value, int> = 0>
      |                                                                                 ^
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/__utility/pair.h:398:86: error: cannot form a reference to 'void'
  398 |             __enable_if_t<is_assignable<_T1&, _Up const&>::value && is_assignable<_T2&, _Up const&>::value, int> = 0>
      |                                                                                      ^
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/__utility/pair.h:405:90: error: cannot form a reference to 'void'
  405 |   template <class _Up, __enable_if_t<is_assignable<_T1&, _Up>::value && is_assignable<_T2&, _Up>::value, int> = 0>
      |                                                                                          ^
dist/build/test.cpp:21:8: error: no member named 'set' in 'gs::Map<gs::String, void>'
   21 |   map_.set(gs::String("a"), 1);
      |   ~~~~ ^
dist/build/test.cpp:22:8: error: no member named 'set' in 'gs::Map<gs::String, void>'
   22 |   map_.set(gs::String("b"), 2);
      |   ~~~~ ^
In file included from dist/build/test.cpp:1:
In file included from dist/build/test.hpp:5:
In file included from /Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/gc/gs_gc_runtime.hpp:24:
/Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/gc/array.hpp:52:29: warning: first argument in call to 'memcpy' is a pointer to non-trivially copyable type 'gs::String' [-Wnontrivial-memcall]
   52 |                 std::memcpy(new_data, data_, length_ * sizeof(T));
      |                             ^
/Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/gc/array.hpp:191:13: note: in instantiation of member function 'gs::Array<gs::String>::resize_capacity' requested here
  191 |             resize_capacity(calculate_growth(capacity_));
      |             ^
/Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/gc/array.hpp:499:20: note: in instantiation of member function 'gs::Array<gs::String>::push' requested here
  499 |             result.push(charAt(i));
      |                    ^
/Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/gc/array.hpp:52:29: note: explicitly cast the pointer to silence this warning
   52 |                 std::memcpy(new_data, data_, length_ * sizeof(T));
      |                             ^
      |                             (void*)
In file included from dist/build/test.cpp:1:
In file included from dist/build/test.hpp:5:
In file included from /Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/gc/gs_gc_runtime.hpp:25:
/Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/gc/map.hpp:182:27: error: call to deleted constructor of '__conditional_t<is_move_assignable<first_type>::value && is_move_assignable<second_type>::value, pair<String, void>, __nat> &&' (aka 'std::__nat &&')
  182 |             items_[idx] = {};
      |                           ^~
dist/build/test.cpp:24:8: note: in instantiation of member function 'gs::Map<gs::String, void>::delete_' requested here
   24 |   map_.delete_(gs::String("a"));
      |        ^
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/__type_traits/nat.h:22:3: note: '__nat' has been explicitly marked deleted here
   22 |   __nat()                        = delete;
      |   ^
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/__utility/pair.h:237:11: note: passing argument to parameter '__p' here
  237 |           __p) noexcept(is_nothrow_move_assignable<first_type>::value &&
      |           ^
1 warning and 12 errors generated.

stdout: 

   Expected: "2\n1\nfalse\ntrue\n"
   Got:      "üì¶ Compiling 1 file(s)...\n  ‚úì test.hpp\n  ‚úì test.cpp\n\nüî® Compiling to native binary...\n"
   [ownership] Failed (1680ms)
   Error: Command failed: /Users/bilbo/Devel/oss/goodscript/goodscript/compiler/bin/gsc --gsTarget cpp --gsMemory ownership -o /var/folders/dm/rpn_c6_13k167t8p_0dqr5gm0000gn/T/goodscript-equiv-1765410595596/test-ownership /var/folders/dm/rpn_c6_13k167t8p_0dqr5gm0000gn/T/goodscript-equiv-1765410595596/test-gs.ts

‚ùå Errors:
  Binary compilation failed
    Compiling cppcoro...
    Compiling test.cpp...
    Command failed: zig c++ -std=c++20 -O3 -c -I dist/build -I /Users/bilbo/Devel/oss/goodscript/goodscript/compiler/vendor/cpp-httplib -I /Users/bilbo/Devel/oss/goodscript/goodscript/compiler -I /Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp -I /Users/bilbo/Devel/oss/goodscript/goodscript/compiler/vendor/cppcoro/include dist/build/test.cpp -o dist/build/test.o
Exit code: 1
stderr: In file included from dist/build/test.cpp:1:
In file included from dist/build/test.hpp:5:
In file included from /Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/ownership/gs_runtime.hpp:42:
/Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/ownership/gs_map.hpp:180:39: error: cannot form a reference to 'void'
  180 |   Map<K, V>& set(const K& key, const V& value) {
      |                                       ^
dist/build/test.cpp:20:15: note: in instantiation of template class 'gs::Map<gs::String, void>' requested here
   20 |   auto map_ = gs::Map<gs::String, void>();
      |               ^
In file included from dist/build/test.cpp:1:
In file included from dist/build/test.hpp:5:
In file included from /Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/ownership/gs_runtime.hpp:42:
/Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/ownership/gs_map.hpp:193:33: error: cannot form a reference to 'void'
  193 |   Map<K, V>& set(const K& key, V&& value) {
      |                                 ^
/Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/ownership/gs_map.hpp:204:34: error: cannot form a reference to 'void'
  204 |   Map<K, V>& set(K&& key, const V& value) {
      |                                  ^
/Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/ownership/gs_map.hpp:216:28: error: cannot form a reference to 'void'
  216 |   Map<K, V>& set(K&& key, V&& value) {
      |                            ^
/Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/ownership/gs_map.hpp:246:41: error: cannot form a reference to 'void'
  246 |   V get_or_default(const K& key, const V& defaultValue) const {
      |                                         ^
In file included from dist/build/test.cpp:1:
In file included from dist/build/test.hpp:5:
In file included from /Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/ownership/gs_runtime.hpp:36:
In file included from /opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/functional:539:
In file included from /opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/__functional/bind.h:20:
In file included from /opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/tuple:1438:
In file included from /opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/utility:257:
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/__utility/pair.h:72:7: error: field has incomplete type 'void'
   72 |   _T2 second;
      |       ^
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/__vector/vector.h:385:48: note: in instantiation of template class 'std::pair<gs::String, void>' requested here
  385 |     return static_cast<size_type>(this->__end_ - this->__begin_);
      |                                                ^
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/__vector/vector.h:530:28: note: in instantiation of member function 'std::vector<std::pair<gs::String, void>>::size' requested here
  530 |     size_type __old_size = size();
      |                            ^
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/__vector/vector.h:248:16: note: in instantiation of member function 'std::vector<std::pair<gs::String, void>>::clear' requested here
  248 |         __vec_.clear();
      |                ^
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/__vector/vector.h:259:67: note: in instantiation of member function 'std::vector<std::pair<gs::String, void>>::__destroy_vector::operator()' requested here
  259 |   _LIBCPP_CONSTEXPR_SINCE_CXX20 _LIBCPP_HIDE_FROM_ABI ~vector() { __destroy_vector (*this)(); }
      |                                                                   ^
/Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/ownership/gs_map.hpp:137:3: note: in instantiation of member function 'std::vector<std::pair<gs::String, void>>::~vector' requested here
  137 |   Map() = default;
      |   ^
dist/build/test.cpp:20:15: note: in defaulted default constructor for 'gs::Map<gs::String, void>' first required here
   20 |   auto map_ = gs::Map<gs::String, void>();
      |               ^
In file included from dist/build/test.cpp:1:
In file included from dist/build/test.hpp:5:
In file included from /Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/ownership/gs_runtime.hpp:36:
In file included from /opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/functional:539:
In file included from /opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/__functional/bind.h:20:
In file included from /opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/tuple:1438:
In file included from /opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/utility:257:
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/__utility/pair.h:141:104: error: cannot form a reference to 'void'
  141 |             __enable_if_t<_CheckArgsDep<_Dummy>::template __is_pair_constructible<_T1 const&, _T2 const&>(), int> = 0>
      |                                                                                                        ^
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/__utility/pair.h:247:95: error: cannot form a reference to 'void'
  247 |       __enable_if_t<is_assignable<first_type&, _U1 const&>::value && is_assignable<second_type&, _U2 const&>::value,
      |                                                                                               ^
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/__utility/pair.h:257:94: error: cannot form a reference to 'void'
  257 |             __enable_if_t<is_assignable<first_type&, _U1>::value && is_assignable<second_type&, _U2>::value, int> = 0>
      |                                                                                              ^
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/__utility/pair.h:358:86: error: cannot form a reference to 'void'
  358 |             __enable_if_t<is_assignable<_T1&, _U1 const&>::value && is_assignable<_T2&, _U2 const&>::value, int> = 0>
      |                                                                                      ^
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/__utility/pair.h:367:81: error: cannot form a reference to 'void'
  367 |             __enable_if_t<is_assignable<_T1&, _U1&&>::value && is_assignable<_T2&, _U2&&>::value, int> = 0>
      |                                                                                 ^
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/__utility/pair.h:398:86: error: cannot form a reference to 'void'
  398 |             __enable_if_t<is_assignable<_T1&, _Up const&>::value && is_assignable<_T2&, _Up const&>::value, int> = 0>
      |                                                                                      ^
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/__utility/pair.h:405:90: error: cannot form a reference to 'void'
  405 |   template <class _Up, __enable_if_t<is_assignable<_T1&, _Up>::value && is_assignable<_T2&, _Up>::value, int> = 0>
      |                                                                                          ^
dist/build/test.cpp:21:8: error: no member named 'set' in 'gs::Map<gs::String, void>'
   21 |   map_.set(gs::String("a"), 1);
      |   ~~~~ ^
dist/build/test.cpp:22:8: error: no member named 'set' in 'gs::Map<gs::String, void>'
   22 |   map_.set(gs::String("b"), 2);
      |   ~~~~ ^
In file included from dist/build/test.cpp:1:
In file included from dist/build/test.hpp:5:
In file included from /Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/ownership/gs_runtime.hpp:42:
/Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/ownership/gs_map.hpp:303:21: error: call to deleted constructor of '__conditional_t<is_move_assignable<first_type>::value && is_move_assignable<second_type>::value, pair<String, void>, __nat> &&' (aka 'std::__nat &&')
  303 |       items_[idx] = {};
      |                     ^~
dist/build/test.cpp:24:8: note: in instantiation of member function 'gs::Map<gs::String, void>::delete_' requested here
   24 |   map_.delete_(gs::String("a"));
      |        ^
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/__type_traits/nat.h:22:3: note: '__nat' has been explicitly marked deleted here
   22 |   __nat()                        = delete;
      |   ^
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/__utility/pair.h:237:11: note: passing argument to parameter '__p' here
  237 |           __p) noexcept(is_nothrow_move_assignable<first_type>::value &&
      |           ^
16 errors generated.

stdout: 

   Expected: "2\n1\nfalse\ntrue\n"
   Got:      "üì¶ Compiling 1 file(s)...\n  ‚úì test.hpp\n  ‚úì test.cpp\n\nüî® Compiling to native binary...\n"

‚ùå Map clear
   [gc] Failed (1693ms)
   Error: Command failed: /Users/bilbo/Devel/oss/goodscript/goodscript/compiler/bin/gsc --gsTarget cpp --gsMemory gc -o /var/folders/dm/rpn_c6_13k167t8p_0dqr5gm0000gn/T/goodscript-equiv-1765410599122/test-gc /var/folders/dm/rpn_c6_13k167t8p_0dqr5gm0000gn/T/goodscript-equiv-1765410599122/test-gs.ts

‚ùå Errors:
  Binary compilation failed
    Using cached mps.o
    Compiling cppcoro...
    Compiling test.cpp...
    Command failed: zig c++ -std=c++20 -O3 -c -I dist/build -I /Users/bilbo/Devel/oss/goodscript/goodscript/compiler/vendor/mps/src -I /Users/bilbo/Devel/oss/goodscript/goodscript/compiler/vendor/cpp-httplib -I /Users/bilbo/Devel/oss/goodscript/goodscript/compiler -I /Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp -I /Users/bilbo/Devel/oss/goodscript/goodscript/compiler/vendor/cppcoro/include dist/build/test.cpp -o dist/build/test.o
Exit code: 1
stderr: In file included from dist/build/test.cpp:1:
In file included from dist/build/test.hpp:5:
In file included from /Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/gc/gs_gc_runtime.hpp:25:
/Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/gc/map.hpp:158:35: error: cannot form a reference to 'void'
  158 |     void set(const K& key, const V& value) {
      |                                   ^
dist/build/test.cpp:20:15: note: in instantiation of template class 'gs::Map<gs::String, void>' requested here
   20 |   auto map_ = gs::Map<gs::String, void>();
      |               ^
In file included from dist/build/test.cpp:1:
In file included from dist/build/test.hpp:5:
In file included from /Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/gc/gs_gc_runtime.hpp:13:
In file included from /Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/gc/allocator.hpp:6:
In file included from /opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/utility:257:
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/__utility/pair.h:72:7: error: field has incomplete type 'void'
   72 |   _T2 second;
      |       ^
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/__vector/vector.h:385:48: note: in instantiation of template class 'std::pair<gs::String, void>' requested here
  385 |     return static_cast<size_type>(this->__end_ - this->__begin_);
      |                                                ^
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/__vector/vector.h:530:28: note: in instantiation of member function 'std::vector<std::pair<gs::String, void>>::size' requested here
  530 |     size_type __old_size = size();
      |                            ^
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/__vector/vector.h:248:16: note: in instantiation of member function 'std::vector<std::pair<gs::String, void>>::clear' requested here
  248 |         __vec_.clear();
      |                ^
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/__vector/vector.h:259:67: note: in instantiation of member function 'std::vector<std::pair<gs::String, void>>::__destroy_vector::operator()' requested here
  259 |   _LIBCPP_CONSTEXPR_SINCE_CXX20 _LIBCPP_HIDE_FROM_ABI ~vector() { __destroy_vector (*this)(); }
      |                                                                   ^
/Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/gc/map.hpp:143:5: note: in instantiation of member function 'std::vector<std::pair<gs::String, void>>::~vector' requested here
  143 |     Map() = default;
      |     ^
dist/build/test.cpp:20:15: note: in defaulted default constructor for 'gs::Map<gs::String, void>' first required here
   20 |   auto map_ = gs::Map<gs::String, void>();
      |               ^
In file included from dist/build/test.cpp:1:
In file included from dist/build/test.hpp:5:
In file included from /Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/gc/gs_gc_runtime.hpp:13:
In file included from /Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/gc/allocator.hpp:6:
In file included from /opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/utility:257:
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/__utility/pair.h:141:104: error: cannot form a reference to 'void'
  141 |             __enable_if_t<_CheckArgsDep<_Dummy>::template __is_pair_constructible<_T1 const&, _T2 const&>(), int> = 0>
      |                                                                                                        ^
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/__utility/pair.h:247:95: error: cannot form a reference to 'void'
  247 |       __enable_if_t<is_assignable<first_type&, _U1 const&>::value && is_assignable<second_type&, _U2 const&>::value,
      |                                                                                               ^
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/__utility/pair.h:257:94: error: cannot form a reference to 'void'
  257 |             __enable_if_t<is_assignable<first_type&, _U1>::value && is_assignable<second_type&, _U2>::value, int> = 0>
      |                                                                                              ^
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/__utility/pair.h:358:86: error: cannot form a reference to 'void'
  358 |             __enable_if_t<is_assignable<_T1&, _U1 const&>::value && is_assignable<_T2&, _U2 const&>::value, int> = 0>
      |                                                                                      ^
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/__utility/pair.h:367:81: error: cannot form a reference to 'void'
  367 |             __enable_if_t<is_assignable<_T1&, _U1&&>::value && is_assignable<_T2&, _U2&&>::value, int> = 0>
      |                                                                                 ^
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/__utility/pair.h:398:86: error: cannot form a reference to 'void'
  398 |             __enable_if_t<is_assignable<_T1&, _Up const&>::value && is_assignable<_T2&, _Up const&>::value, int> = 0>
      |                                                                                      ^
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/__utility/pair.h:405:90: error: cannot form a reference to 'void'
  405 |   template <class _Up, __enable_if_t<is_assignable<_T1&, _Up>::value && is_assignable<_T2&, _Up>::value, int> = 0>
      |                                                                                          ^
dist/build/test.cpp:21:8: error: no member named 'set' in 'gs::Map<gs::String, void>'
   21 |   map_.set(gs::String("a"), 1);
      |   ~~~~ ^
dist/build/test.cpp:22:8: error: no member named 'set' in 'gs::Map<gs::String, void>'
   22 |   map_.set(gs::String("b"), 2);
      |   ~~~~ ^
dist/build/test.cpp:23:8: error: no member named 'set' in 'gs::Map<gs::String, void>'
   23 |   map_.set(gs::String("c"), 3);
      |   ~~~~ ^
In file included from dist/build/test.cpp:1:
In file included from dist/build/test.hpp:5:
In file included from /Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/gc/gs_gc_runtime.hpp:24:
/Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/gc/array.hpp:52:29: warning: first argument in call to 'memcpy' is a pointer to non-trivially copyable type 'gs::String' [-Wnontrivial-memcall]
   52 |                 std::memcpy(new_data, data_, length_ * sizeof(T));
      |                             ^
/Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/gc/array.hpp:191:13: note: in instantiation of member function 'gs::Array<gs::String>::resize_capacity' requested here
  191 |             resize_capacity(calculate_growth(capacity_));
      |             ^
/Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/gc/array.hpp:499:20: note: in instantiation of member function 'gs::Array<gs::String>::push' requested here
  499 |             result.push(charAt(i));
      |                    ^
/Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/gc/array.hpp:52:29: note: explicitly cast the pointer to silence this warning
   52 |                 std::memcpy(new_data, data_, length_ * sizeof(T));
      |                             ^
      |                             (void*)
1 warning and 12 errors generated.

stdout: 

   Expected: "3\n0\n"
   Got:      "üì¶ Compiling 1 file(s)...\n  ‚úì test.hpp\n  ‚úì test.cpp\n\nüî® Compiling to native binary...\n"
   [ownership] Failed (1775ms)
   Error: Command failed: /Users/bilbo/Devel/oss/goodscript/goodscript/compiler/bin/gsc --gsTarget cpp --gsMemory ownership -o /var/folders/dm/rpn_c6_13k167t8p_0dqr5gm0000gn/T/goodscript-equiv-1765410599122/test-ownership /var/folders/dm/rpn_c6_13k167t8p_0dqr5gm0000gn/T/goodscript-equiv-1765410599122/test-gs.ts

‚ùå Errors:
  Binary compilation failed
    Compiling cppcoro...
    Compiling test.cpp...
    Command failed: zig c++ -std=c++20 -O3 -c -I dist/build -I /Users/bilbo/Devel/oss/goodscript/goodscript/compiler/vendor/cpp-httplib -I /Users/bilbo/Devel/oss/goodscript/goodscript/compiler -I /Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp -I /Users/bilbo/Devel/oss/goodscript/goodscript/compiler/vendor/cppcoro/include dist/build/test.cpp -o dist/build/test.o
Exit code: 1
stderr: In file included from dist/build/test.cpp:1:
In file included from dist/build/test.hpp:5:
In file included from /Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/ownership/gs_runtime.hpp:42:
/Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/ownership/gs_map.hpp:180:39: error: cannot form a reference to 'void'
  180 |   Map<K, V>& set(const K& key, const V& value) {
      |                                       ^
dist/build/test.cpp:20:15: note: in instantiation of template class 'gs::Map<gs::String, void>' requested here
   20 |   auto map_ = gs::Map<gs::String, void>();
      |               ^
In file included from dist/build/test.cpp:1:
In file included from dist/build/test.hpp:5:
In file included from /Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/ownership/gs_runtime.hpp:42:
/Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/ownership/gs_map.hpp:193:33: error: cannot form a reference to 'void'
  193 |   Map<K, V>& set(const K& key, V&& value) {
      |                                 ^
/Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/ownership/gs_map.hpp:204:34: error: cannot form a reference to 'void'
  204 |   Map<K, V>& set(K&& key, const V& value) {
      |                                  ^
/Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/ownership/gs_map.hpp:216:28: error: cannot form a reference to 'void'
  216 |   Map<K, V>& set(K&& key, V&& value) {
      |                            ^
/Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/ownership/gs_map.hpp:246:41: error: cannot form a reference to 'void'
  246 |   V get_or_default(const K& key, const V& defaultValue) const {
      |                                         ^
In file included from dist/build/test.cpp:1:
In file included from dist/build/test.hpp:5:
In file included from /Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/ownership/gs_runtime.hpp:36:
In file included from /opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/functional:539:
In file included from /opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/__functional/bind.h:20:
In file included from /opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/tuple:1438:
In file included from /opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/utility:257:
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/__utility/pair.h:72:7: error: field has incomplete type 'void'
   72 |   _T2 second;
      |       ^
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/__vector/vector.h:385:48: note: in instantiation of template class 'std::pair<gs::String, void>' requested here
  385 |     return static_cast<size_type>(this->__end_ - this->__begin_);
      |                                                ^
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/__vector/vector.h:530:28: note: in instantiation of member function 'std::vector<std::pair<gs::String, void>>::size' requested here
  530 |     size_type __old_size = size();
      |                            ^
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/__vector/vector.h:248:16: note: in instantiation of member function 'std::vector<std::pair<gs::String, void>>::clear' requested here
  248 |         __vec_.clear();
      |                ^
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/__vector/vector.h:259:67: note: in instantiation of member function 'std::vector<std::pair<gs::String, void>>::__destroy_vector::operator()' requested here
  259 |   _LIBCPP_CONSTEXPR_SINCE_CXX20 _LIBCPP_HIDE_FROM_ABI ~vector() { __destroy_vector (*this)(); }
      |                                                                   ^
/Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/ownership/gs_map.hpp:137:3: note: in instantiation of member function 'std::vector<std::pair<gs::String, void>>::~vector' requested here
  137 |   Map() = default;
      |   ^
dist/build/test.cpp:20:15: note: in defaulted default constructor for 'gs::Map<gs::String, void>' first required here
   20 |   auto map_ = gs::Map<gs::String, void>();
      |               ^
In file included from dist/build/test.cpp:1:
In file included from dist/build/test.hpp:5:
In file included from /Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/ownership/gs_runtime.hpp:36:
In file included from /opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/functional:539:
In file included from /opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/__functional/bind.h:20:
In file included from /opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/tuple:1438:
In file included from /opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/utility:257:
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/__utility/pair.h:141:104: error: cannot form a reference to 'void'
  141 |             __enable_if_t<_CheckArgsDep<_Dummy>::template __is_pair_constructible<_T1 const&, _T2 const&>(), int> = 0>
      |                                                                                                        ^
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/__utility/pair.h:247:95: error: cannot form a reference to 'void'
  247 |       __enable_if_t<is_assignable<first_type&, _U1 const&>::value && is_assignable<second_type&, _U2 const&>::value,
      |                                                                                               ^
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/__utility/pair.h:257:94: error: cannot form a reference to 'void'
  257 |             __enable_if_t<is_assignable<first_type&, _U1>::value && is_assignable<second_type&, _U2>::value, int> = 0>
      |                                                                                              ^
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/__utility/pair.h:358:86: error: cannot form a reference to 'void'
  358 |             __enable_if_t<is_assignable<_T1&, _U1 const&>::value && is_assignable<_T2&, _U2 const&>::value, int> = 0>
      |                                                                                      ^
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/__utility/pair.h:367:81: error: cannot form a reference to 'void'
  367 |             __enable_if_t<is_assignable<_T1&, _U1&&>::value && is_assignable<_T2&, _U2&&>::value, int> = 0>
      |                                                                                 ^
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/__utility/pair.h:398:86: error: cannot form a reference to 'void'
  398 |             __enable_if_t<is_assignable<_T1&, _Up const&>::value && is_assignable<_T2&, _Up const&>::value, int> = 0>
      |                                                                                      ^
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/__utility/pair.h:405:90: error: cannot form a reference to 'void'
  405 |   template <class _Up, __enable_if_t<is_assignable<_T1&, _Up>::value && is_assignable<_T2&, _Up>::value, int> = 0>
      |                                                                                          ^
dist/build/test.cpp:21:8: error: no member named 'set' in 'gs::Map<gs::String, void>'
   21 |   map_.set(gs::String("a"), 1);
      |   ~~~~ ^
dist/build/test.cpp:22:8: error: no member named 'set' in 'gs::Map<gs::String, void>'
   22 |   map_.set(gs::String("b"), 2);
      |   ~~~~ ^
dist/build/test.cpp:23:8: error: no member named 'set' in 'gs::Map<gs::String, void>'
   23 |   map_.set(gs::String("c"), 3);
      |   ~~~~ ^
16 errors generated.

stdout: 

   Expected: "3\n0\n"
   Got:      "üì¶ Compiling 1 file(s)...\n  ‚úì test.hpp\n  ‚úì test.cpp\n\nüî® Compiling to native binary...\n"

‚ùå Map forEach
   [gc] Failed (1707ms)
   Error: Command failed: /Users/bilbo/Devel/oss/goodscript/goodscript/compiler/bin/gsc --gsTarget cpp --gsMemory gc -o /var/folders/dm/rpn_c6_13k167t8p_0dqr5gm0000gn/T/goodscript-equiv-1765410602816/test-gc /var/folders/dm/rpn_c6_13k167t8p_0dqr5gm0000gn/T/goodscript-equiv-1765410602816/test-gs.ts

‚ùå Errors:
  Binary compilation failed
    Using cached mps.o
    Compiling cppcoro...
    Compiling test.cpp...
    Command failed: zig c++ -std=c++20 -O3 -c -I dist/build -I /Users/bilbo/Devel/oss/goodscript/goodscript/compiler/vendor/mps/src -I /Users/bilbo/Devel/oss/goodscript/goodscript/compiler/vendor/cpp-httplib -I /Users/bilbo/Devel/oss/goodscript/goodscript/compiler -I /Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp -I /Users/bilbo/Devel/oss/goodscript/goodscript/compiler/vendor/cppcoro/include dist/build/test.cpp -o dist/build/test.o
Exit code: 1
stderr: In file included from dist/build/test.cpp:1:
In file included from dist/build/test.hpp:5:
In file included from /Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/gc/gs_gc_runtime.hpp:25:
/Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/gc/map.hpp:158:35: error: cannot form a reference to 'void'
  158 |     void set(const K& key, const V& value) {
      |                                   ^
dist/build/test.cpp:20:15: note: in instantiation of template class 'gs::Map<gs::String, void>' requested here
   20 |   auto map_ = gs::Map<gs::String, void>();
      |               ^
In file included from dist/build/test.cpp:1:
In file included from dist/build/test.hpp:5:
In file included from /Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/gc/gs_gc_runtime.hpp:13:
In file included from /Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/gc/allocator.hpp:6:
In file included from /opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/utility:257:
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/__utility/pair.h:72:7: error: field has incomplete type 'void'
   72 |   _T2 second;
      |       ^
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/__vector/vector.h:385:48: note: in instantiation of template class 'std::pair<gs::String, void>' requested here
  385 |     return static_cast<size_type>(this->__end_ - this->__begin_);
      |                                                ^
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/__vector/vector.h:530:28: note: in instantiation of member function 'std::vector<std::pair<gs::String, void>>::size' requested here
  530 |     size_type __old_size = size();
      |                            ^
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/__vector/vector.h:248:16: note: in instantiation of member function 'std::vector<std::pair<gs::String, void>>::clear' requested here
  248 |         __vec_.clear();
      |                ^
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/__vector/vector.h:259:67: note: in instantiation of member function 'std::vector<std::pair<gs::String, void>>::__destroy_vector::operator()' requested here
  259 |   _LIBCPP_CONSTEXPR_SINCE_CXX20 _LIBCPP_HIDE_FROM_ABI ~vector() { __destroy_vector (*this)(); }
      |                                                                   ^
/Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/gc/map.hpp:143:5: note: in instantiation of member function 'std::vector<std::pair<gs::String, void>>::~vector' requested here
  143 |     Map() = default;
      |     ^
dist/build/test.cpp:20:15: note: in defaulted default constructor for 'gs::Map<gs::String, void>' first required here
   20 |   auto map_ = gs::Map<gs::String, void>();
      |               ^
In file included from dist/build/test.cpp:1:
In file included from dist/build/test.hpp:5:
In file included from /Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/gc/gs_gc_runtime.hpp:13:
In file included from /Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/gc/allocator.hpp:6:
In file included from /opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/utility:257:
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/__utility/pair.h:141:104: error: cannot form a reference to 'void'
  141 |             __enable_if_t<_CheckArgsDep<_Dummy>::template __is_pair_constructible<_T1 const&, _T2 const&>(), int> = 0>
      |                                                                                                        ^
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/__utility/pair.h:247:95: error: cannot form a reference to 'void'
  247 |       __enable_if_t<is_assignable<first_type&, _U1 const&>::value && is_assignable<second_type&, _U2 const&>::value,
      |                                                                                               ^
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/__utility/pair.h:257:94: error: cannot form a reference to 'void'
  257 |             __enable_if_t<is_assignable<first_type&, _U1>::value && is_assignable<second_type&, _U2>::value, int> = 0>
      |                                                                                              ^
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/__utility/pair.h:358:86: error: cannot form a reference to 'void'
  358 |             __enable_if_t<is_assignable<_T1&, _U1 const&>::value && is_assignable<_T2&, _U2 const&>::value, int> = 0>
      |                                                                                      ^
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/__utility/pair.h:367:81: error: cannot form a reference to 'void'
  367 |             __enable_if_t<is_assignable<_T1&, _U1&&>::value && is_assignable<_T2&, _U2&&>::value, int> = 0>
      |                                                                                 ^
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/__utility/pair.h:398:86: error: cannot form a reference to 'void'
  398 |             __enable_if_t<is_assignable<_T1&, _Up const&>::value && is_assignable<_T2&, _Up const&>::value, int> = 0>
      |                                                                                      ^
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/__utility/pair.h:405:90: error: cannot form a reference to 'void'
  405 |   template <class _Up, __enable_if_t<is_assignable<_T1&, _Up>::value && is_assignable<_T2&, _Up>::value, int> = 0>
      |                                                                                          ^
dist/build/test.cpp:21:8: error: no member named 'set' in 'gs::Map<gs::String, void>'
   21 |   map_.set(gs::String("one"), 1);
      |   ~~~~ ^
dist/build/test.cpp:22:8: error: no member named 'set' in 'gs::Map<gs::String, void>'
   22 |   map_.set(gs::String("two"), 2);
      |   ~~~~ ^
dist/build/test.cpp:23:8: error: no member named 'set' in 'gs::Map<gs::String, void>'
   23 |   map_.set(gs::String("three"), 3);
      |   ~~~~ ^
In file included from dist/build/test.cpp:1:
In file included from dist/build/test.hpp:5:
In file included from /Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/gc/gs_gc_runtime.hpp:24:
/Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/gc/array.hpp:52:29: warning: first argument in call to 'memcpy' is a pointer to non-trivially copyable type 'gs::String' [-Wnontrivial-memcall]
   52 |                 std::memcpy(new_data, data_, length_ * sizeof(T));
      |                             ^
/Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/gc/array.hpp:191:13: note: in instantiation of member function 'gs::Array<gs::String>::resize_capacity' requested here
  191 |             resize_capacity(calculate_growth(capacity_));
      |             ^
/Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/gc/array.hpp:499:20: note: in instantiation of member function 'gs::Array<gs::String>::push' requested here
  499 |             result.push(charAt(i));
      |                    ^
/Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/gc/array.hpp:52:29: note: explicitly cast the pointer to silence this warning
   52 |                 std::memcpy(new_data, data_, length_ * sizeof(T));
      |                             ^
      |                             (void*)
1 warning and 12 errors generated.

stdout: 

   Expected: "one:1\ntwo:2\nthree:3\n"
   Got:      "üì¶ Compiling 1 file(s)...\n  ‚úì test.hpp\n  ‚úì test.cpp\n\nüî® Compiling to native binary...\n"
   [ownership] Failed (1756ms)
   Error: Command failed: /Users/bilbo/Devel/oss/goodscript/goodscript/compiler/bin/gsc --gsTarget cpp --gsMemory ownership -o /var/folders/dm/rpn_c6_13k167t8p_0dqr5gm0000gn/T/goodscript-equiv-1765410602816/test-ownership /var/folders/dm/rpn_c6_13k167t8p_0dqr5gm0000gn/T/goodscript-equiv-1765410602816/test-gs.ts

‚ùå Errors:
  Binary compilation failed
    Compiling cppcoro...
    Compiling test.cpp...
    Command failed: zig c++ -std=c++20 -O3 -c -I dist/build -I /Users/bilbo/Devel/oss/goodscript/goodscript/compiler/vendor/cpp-httplib -I /Users/bilbo/Devel/oss/goodscript/goodscript/compiler -I /Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp -I /Users/bilbo/Devel/oss/goodscript/goodscript/compiler/vendor/cppcoro/include dist/build/test.cpp -o dist/build/test.o
Exit code: 1
stderr: In file included from dist/build/test.cpp:1:
In file included from dist/build/test.hpp:5:
In file included from /Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/ownership/gs_runtime.hpp:42:
/Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/ownership/gs_map.hpp:180:39: error: cannot form a reference to 'void'
  180 |   Map<K, V>& set(const K& key, const V& value) {
      |                                       ^
dist/build/test.cpp:20:15: note: in instantiation of template class 'gs::Map<gs::String, void>' requested here
   20 |   auto map_ = gs::Map<gs::String, void>();
      |               ^
In file included from dist/build/test.cpp:1:
In file included from dist/build/test.hpp:5:
In file included from /Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/ownership/gs_runtime.hpp:42:
/Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/ownership/gs_map.hpp:193:33: error: cannot form a reference to 'void'
  193 |   Map<K, V>& set(const K& key, V&& value) {
      |                                 ^
/Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/ownership/gs_map.hpp:204:34: error: cannot form a reference to 'void'
  204 |   Map<K, V>& set(K&& key, const V& value) {
      |                                  ^
/Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/ownership/gs_map.hpp:216:28: error: cannot form a reference to 'void'
  216 |   Map<K, V>& set(K&& key, V&& value) {
      |                            ^
/Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/ownership/gs_map.hpp:246:41: error: cannot form a reference to 'void'
  246 |   V get_or_default(const K& key, const V& defaultValue) const {
      |                                         ^
In file included from dist/build/test.cpp:1:
In file included from dist/build/test.hpp:5:
In file included from /Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/ownership/gs_runtime.hpp:36:
In file included from /opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/functional:539:
In file included from /opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/__functional/bind.h:20:
In file included from /opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/tuple:1438:
In file included from /opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/utility:257:
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/__utility/pair.h:72:7: error: field has incomplete type 'void'
   72 |   _T2 second;
      |       ^
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/__vector/vector.h:385:48: note: in instantiation of template class 'std::pair<gs::String, void>' requested here
  385 |     return static_cast<size_type>(this->__end_ - this->__begin_);
      |                                                ^
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/__vector/vector.h:530:28: note: in instantiation of member function 'std::vector<std::pair<gs::String, void>>::size' requested here
  530 |     size_type __old_size = size();
      |                            ^
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/__vector/vector.h:248:16: note: in instantiation of member function 'std::vector<std::pair<gs::String, void>>::clear' requested here
  248 |         __vec_.clear();
      |                ^
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/__vector/vector.h:259:67: note: in instantiation of member function 'std::vector<std::pair<gs::String, void>>::__destroy_vector::operator()' requested here
  259 |   _LIBCPP_CONSTEXPR_SINCE_CXX20 _LIBCPP_HIDE_FROM_ABI ~vector() { __destroy_vector (*this)(); }
      |                                                                   ^
/Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/ownership/gs_map.hpp:137:3: note: in instantiation of member function 'std::vector<std::pair<gs::String, void>>::~vector' requested here
  137 |   Map() = default;
      |   ^
dist/build/test.cpp:20:15: note: in defaulted default constructor for 'gs::Map<gs::String, void>' first required here
   20 |   auto map_ = gs::Map<gs::String, void>();
      |               ^
In file included from dist/build/test.cpp:1:
In file included from dist/build/test.hpp:5:
In file included from /Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/ownership/gs_runtime.hpp:36:
In file included from /opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/functional:539:
In file included from /opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/__functional/bind.h:20:
In file included from /opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/tuple:1438:
In file included from /opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/utility:257:
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/__utility/pair.h:141:104: error: cannot form a reference to 'void'
  141 |             __enable_if_t<_CheckArgsDep<_Dummy>::template __is_pair_constructible<_T1 const&, _T2 const&>(), int> = 0>
      |                                                                                                        ^
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/__utility/pair.h:247:95: error: cannot form a reference to 'void'
  247 |       __enable_if_t<is_assignable<first_type&, _U1 const&>::value && is_assignable<second_type&, _U2 const&>::value,
      |                                                                                               ^
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/__utility/pair.h:257:94: error: cannot form a reference to 'void'
  257 |             __enable_if_t<is_assignable<first_type&, _U1>::value && is_assignable<second_type&, _U2>::value, int> = 0>
      |                                                                                              ^
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/__utility/pair.h:358:86: error: cannot form a reference to 'void'
  358 |             __enable_if_t<is_assignable<_T1&, _U1 const&>::value && is_assignable<_T2&, _U2 const&>::value, int> = 0>
      |                                                                                      ^
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/__utility/pair.h:367:81: error: cannot form a reference to 'void'
  367 |             __enable_if_t<is_assignable<_T1&, _U1&&>::value && is_assignable<_T2&, _U2&&>::value, int> = 0>
      |                                                                                 ^
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/__utility/pair.h:398:86: error: cannot form a reference to 'void'
  398 |             __enable_if_t<is_assignable<_T1&, _Up const&>::value && is_assignable<_T2&, _Up const&>::value, int> = 0>
      |                                                                                      ^
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/__utility/pair.h:405:90: error: cannot form a reference to 'void'
  405 |   template <class _Up, __enable_if_t<is_assignable<_T1&, _Up>::value && is_assignable<_T2&, _Up>::value, int> = 0>
      |                                                                                          ^
dist/build/test.cpp:21:8: error: no member named 'set' in 'gs::Map<gs::String, void>'
   21 |   map_.set(gs::String("one"), 1);
      |   ~~~~ ^
dist/build/test.cpp:22:8: error: no member named 'set' in 'gs::Map<gs::String, void>'
   22 |   map_.set(gs::String("two"), 2);
      |   ~~~~ ^
dist/build/test.cpp:23:8: error: no member named 'set' in 'gs::Map<gs::String, void>'
   23 |   map_.set(gs::String("three"), 3);
      |   ~~~~ ^
In file included from dist/build/test.cpp:1:
In file included from dist/build/test.hpp:5:
In file included from /Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/ownership/gs_runtime.hpp:42:
/Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/ownership/gs_map.hpp:357:22: error: no matching function for call to 'get'
  357 |     for (auto& [key, value] : *this) {
      |                      ^~~~~
/Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/ownership/gs_map.hpp:357:22: note: in implicit initialization of binding declaration 'value'
dist/build/test.cpp:24:8: note: in instantiation of function template specialization 'gs::Map<gs::String, void>::forEach<(lambda at dist/build/test.cpp:24:16)>' requested here
   24 |   map_.forEach([](int32_t value, gs::String key) {
      |        ^
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/tuple:1072:1: note: candidate template ignored: could not match 'tuple' against 'std::pair'
 1072 | get(tuple<_Tp...>& __t) _NOEXCEPT {
      | ^
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/tuple:1079:1: note: candidate template ignored: could not match 'tuple' against 'std::pair'
 1079 | get(const tuple<_Tp...>& __t) _NOEXCEPT {
      | ^
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/tuple:1086:1: note: candidate template ignored: could not match 'tuple' against 'std::pair'
 1086 | get(tuple<_Tp...>&& __t) _NOEXCEPT {
      | ^
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/tuple:1093:1: note: candidate template ignored: could not match 'tuple' against 'std::pair'
 1093 | get(const tuple<_Tp...>&& __t) _NOEXCEPT {
      | ^
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/__utility/pair.h:609:1: note: candidate template ignored: substitution failure [with _Ip = 1, _T1 = gs::String, _T2 = void]: cannot form a reference to 'void'
  608 | inline _LIBCPP_HIDE_FROM_ABI _LIBCPP_CONSTEXPR_SINCE_CXX14 typename tuple_element<_Ip, pair<_T1, _T2> >::type&
      |                                                                                                              ~
  609 | get(pair<_T1, _T2>& __p) _NOEXCEPT {
      | ^
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/__utility/pair.h:615:1: note: candidate template ignored: substitution failure [with _Ip = 1, _T1 = gs::String, _T2 = void]: cannot form a reference to 'void'
  614 | inline _LIBCPP_HIDE_FROM_ABI _LIBCPP_CONSTEXPR_SINCE_CXX14 const typename tuple_element<_Ip, pair<_T1, _T2> >::type&
      |                                                                                                                    ~
  615 | get(const pair<_T1, _T2>& __p) _NOEXCEPT {
      | ^
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/__utility/pair.h:621:1: note: candidate template ignored: substitution failure [with _Ip = 1, _T1 = gs::String, _T2 = void]: cannot form a reference to 'void'
  620 | inline _LIBCPP_HIDE_FROM_ABI _LIBCPP_CONSTEXPR_SINCE_CXX14 typename tuple_element<_Ip, pair<_T1, _T2> >::type&&
      |                                                                                                              ~~
  621 | get(pair<_T1, _T2>&& __p) _NOEXCEPT {
      | ^
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/__utility/pair.h:627:1: note: candidate template ignored: substitution failure [with _Ip = 1, _T1 = gs::String, _T2 = void]: cannot form a reference to 'void'
  626 | inline _LIBCPP_HIDE_FROM_ABI _LIBCPP_CONSTEXPR_SINCE_CXX14 const typename tuple_element<_Ip, pair<_T1, _T2> >::type&&
      |                                                                                                                    ~~
  627 | get(const pair<_T1, _T2>&& __p) _NOEXCEPT {
      | ^
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/__ranges/subrange.h:216:38: note: candidate template ignored: could not match 'subrange' against 'std::pair'
  216 | _LIBCPP_HIDE_FROM_ABI constexpr auto get(const subrange<_Iter, _Sent, _Kind>& __subrange) {
      |                                      ^
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/__ranges/subrange.h:225:38: note: candidate template ignored: could not match 'subrange' against 'std::pair'
  225 | _LIBCPP_HIDE_FROM_ABI constexpr auto get(subrange<_Iter, _Sent, _Kind>&& __subrange) {
      |                                      ^
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/array:504:65: note: candidate template ignored: could not match 'array' against 'std::pair'
  504 | inline _LIBCPP_HIDE_FROM_ABI _LIBCPP_CONSTEXPR_SINCE_CXX14 _Tp& get(array<_Tp, _Size>& __a) _NOEXCEPT {
      |                                                                 ^
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/array:510:71: note: candidate template ignored: could not match 'array' against 'std::pair'
  510 | inline _LIBCPP_HIDE_FROM_ABI _LIBCPP_CONSTEXPR_SINCE_CXX14 const _Tp& get(const array<_Tp, _Size>& __a) _NOEXCEPT {
      |                                                                       ^
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/array:516:66: note: candidate template ignored: could not match 'array' against 'std::pair'
  516 | inline _LIBCPP_HIDE_FROM_ABI _LIBCPP_CONSTEXPR_SINCE_CXX14 _Tp&& get(array<_Tp, _Size>&& __a) _NOEXCEPT {
      |                                                                  ^
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/array:522:72: note: candidate template ignored: could not match 'array' against 'std::pair'
  522 | inline _LIBCPP_HIDE_FROM_ABI _LIBCPP_CONSTEXPR_SINCE_CXX14 const _Tp&& get(const array<_Tp, _Size>&& __a) _NOEXCEPT {
      |                                                                        ^
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/variant:1352:1: note: candidate template ignored: could not match 'variant' against 'std::pair'
 1352 | get(variant<_Types...>& __v) {
      | ^
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/variant:1361:1: note: candidate template ignored: could not match 'variant' against 'std::pair'
 1361 | get(variant<_Types...>&& __v) {
      | ^
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/variant:1370:1: note: candidate template ignored: could not match 'variant' against 'std::pair'
 1370 | get(const variant<_Types...>& __v) {
      | ^
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/variant:1379:1: note: candidate template ignored: could not match 'variant' against 'std::pair'
 1379 | get(const variant<_Types...>&& __v) {
      | ^
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/tuple:1101:45: note: candidate template ignored: invalid explicitly-specified argument for template parameter '_T1'
 1101 | inline _LIBCPP_HIDE_FROM_ABI constexpr _T1& get(tuple<_Args...>& __tup) noexcept {
      |                                             ^
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/tuple:1106:51: note: candidate template ignored: invalid explicitly-specified argument for template parameter '_T1'
 1106 | inline _LIBCPP_HIDE_FROM_ABI constexpr _T1 const& get(tuple<_Args...> const& __tup) noexcept {
      |                                                   ^
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/tuple:1111:46: note: candidate template ignored: invalid explicitly-specified argument for template parameter '_T1'
 1111 | inline _LIBCPP_HIDE_FROM_ABI constexpr _T1&& get(tuple<_Args...>&& __tup) noexcept {
      |                                              ^
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/tuple:1116:52: note: candidate template ignored: invalid explicitly-specified argument for template parameter '_T1'
 1116 | inline _LIBCPP_HIDE_FROM_ABI constexpr _T1 const&& get(tuple<_Args...> const&& __tup) noexcept {
      |                                                    ^
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/__utility/pair.h:633:45: note: candidate template ignored: invalid explicitly-specified argument for template parameter '_T1'
  633 | inline _LIBCPP_HIDE_FROM_ABI constexpr _T1& get(pair<_T1, _T2>& __p) _NOEXCEPT {
      |                                             ^
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/__utility/pair.h:638:51: note: candidate template ignored: invalid explicitly-specified argument for template parameter '_T1'
  638 | inline _LIBCPP_HIDE_FROM_ABI constexpr _T1 const& get(pair<_T1, _T2> const& __p) _NOEXCEPT {
      |                                                   ^
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/__utility/pair.h:643:46: note: candidate template ignored: invalid explicitly-specified argument for template parameter '_T1'
  643 | inline _LIBCPP_HIDE_FROM_ABI constexpr _T1&& get(pair<_T1, _T2>&& __p) _NOEXCEPT {
      |                                              ^
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/__utility/pair.h:648:52: note: candidate template ignored: invalid explicitly-specified argument for template parameter '_T1'
  648 | inline _LIBCPP_HIDE_FROM_ABI constexpr _T1 const&& get(pair<_T1, _T2> const&& __p) _NOEXCEPT {
      |                                                    ^
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/__utility/pair.h:653:45: note: candidate template ignored: invalid explicitly-specified argument for template parameter '_T1'
  653 | inline _LIBCPP_HIDE_FROM_ABI constexpr _T1& get(pair<_T2, _T1>& __p) _NOEXCEPT {
      |                                             ^
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/__utility/pair.h:658:51: note: candidate template ignored: invalid explicitly-specified argument for template parameter '_T1'
  658 | inline _LIBCPP_HIDE_FROM_ABI constexpr _T1 const& get(pair<_T2, _T1> const& __p) _NOEXCEPT {
      |                                                   ^
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/__utility/pair.h:663:46: note: candidate template ignored: invalid explicitly-specified argument for template parameter '_T1'
  663 | inline _LIBCPP_HIDE_FROM_ABI constexpr _T1&& get(pair<_T2, _T1>&& __p) _NOEXCEPT {
      |                                              ^
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/__utility/pair.h:668:52: note: candidate template ignored: invalid explicitly-specified argument for template parameter '_T1'
  668 | inline _LIBCPP_HIDE_FROM_ABI constexpr _T1 const&& get(pair<_T2, _T1> const&& __p) _NOEXCEPT {
      |                                                    ^
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/variant:1386:84: note: candidate template ignored: invalid explicitly-specified argument for template parameter '_Tp'
 1386 | _LIBCPP_HIDE_FROM_ABI _LIBCPP_AVAILABILITY_THROW_BAD_VARIANT_ACCESS constexpr _Tp& get(variant<_Types...>& __v) {
      |                                                                                    ^
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/variant:1392:85: note: candidate template ignored: invalid explicitly-specified argument for template parameter '_Tp'
 1392 | _LIBCPP_HIDE_FROM_ABI _LIBCPP_AVAILABILITY_THROW_BAD_VARIANT_ACCESS constexpr _Tp&& get(variant<_Types...>&& __v) {
      |                                                                                     ^
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/variant:1399:1: note: candidate template ignored: invalid explicitly-specified argument for template parameter '_Tp'
 1399 | get(const variant<_Types...>& __v) {
      | ^
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/variant:1406:1: note: candidate template ignored: invalid explicitly-specified argument for template parameter '_Tp'
 1406 | get(const variant<_Types...>&& __v) {
      | ^
In file included from dist/build/test.cpp:1:
In file included from dist/build/test.hpp:5:
In file included from /Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/ownership/gs_runtime.hpp:42:
/Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/ownership/gs_map.hpp:357:22: error: cannot form a reference to 'void'
  357 |     for (auto& [key, value] : *this) {
      |                      ^
/Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/ownership/gs_map.hpp:410:12: note: selected 'begin' function with iterator type 'iterator'
  410 |   iterator begin() { return iterator(items_.begin(), items_.end(), &index_); }
      |            ^
18 errors generated.

stdout: 

   Expected: "one:1\ntwo:2\nthree:3\n"
   Got:      "üì¶ Compiling 1 file(s)...\n  ‚úì test.hpp\n  ‚úì test.cpp\n\nüî® Compiling to native binary...\n"

‚ùå Map keys iteration
   [gc] Failed (1666ms)
   Error: Command failed: /Users/bilbo/Devel/oss/goodscript/goodscript/compiler/bin/gsc --gsTarget cpp --gsMemory gc -o /var/folders/dm/rpn_c6_13k167t8p_0dqr5gm0000gn/T/goodscript-equiv-1765410606521/test-gc /var/folders/dm/rpn_c6_13k167t8p_0dqr5gm0000gn/T/goodscript-equiv-1765410606521/test-gs.ts

‚ùå Errors:
  Binary compilation failed
    Using cached mps.o
    Compiling cppcoro...
    Compiling test.cpp...
    Command failed: zig c++ -std=c++20 -O3 -c -I dist/build -I /Users/bilbo/Devel/oss/goodscript/goodscript/compiler/vendor/mps/src -I /Users/bilbo/Devel/oss/goodscript/goodscript/compiler/vendor/cpp-httplib -I /Users/bilbo/Devel/oss/goodscript/goodscript/compiler -I /Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp -I /Users/bilbo/Devel/oss/goodscript/goodscript/compiler/vendor/cppcoro/include dist/build/test.cpp -o dist/build/test.o
Exit code: 1
stderr: In file included from dist/build/test.cpp:1:
In file included from dist/build/test.hpp:5:
In file included from /Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/gc/gs_gc_runtime.hpp:25:
/Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/gc/map.hpp:158:35: error: cannot form a reference to 'void'
  158 |     void set(const K& key, const V& value) {
      |                                   ^
dist/build/test.cpp:20:15: note: in instantiation of template class 'gs::Map<gs::String, void>' requested here
   20 |   auto map_ = gs::Map<gs::String, void>();
      |               ^
In file included from dist/build/test.cpp:1:
In file included from dist/build/test.hpp:5:
In file included from /Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/gc/gs_gc_runtime.hpp:13:
In file included from /Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/gc/allocator.hpp:6:
In file included from /opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/utility:257:
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/__utility/pair.h:72:7: error: field has incomplete type 'void'
   72 |   _T2 second;
      |       ^
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/__vector/vector.h:385:48: note: in instantiation of template class 'std::pair<gs::String, void>' requested here
  385 |     return static_cast<size_type>(this->__end_ - this->__begin_);
      |                                                ^
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/__vector/vector.h:530:28: note: in instantiation of member function 'std::vector<std::pair<gs::String, void>>::size' requested here
  530 |     size_type __old_size = size();
      |                            ^
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/__vector/vector.h:248:16: note: in instantiation of member function 'std::vector<std::pair<gs::String, void>>::clear' requested here
  248 |         __vec_.clear();
      |                ^
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/__vector/vector.h:259:67: note: in instantiation of member function 'std::vector<std::pair<gs::String, void>>::__destroy_vector::operator()' requested here
  259 |   _LIBCPP_CONSTEXPR_SINCE_CXX20 _LIBCPP_HIDE_FROM_ABI ~vector() { __destroy_vector (*this)(); }
      |                                                                   ^
/Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/gc/map.hpp:143:5: note: in instantiation of member function 'std::vector<std::pair<gs::String, void>>::~vector' requested here
  143 |     Map() = default;
      |     ^
dist/build/test.cpp:20:15: note: in defaulted default constructor for 'gs::Map<gs::String, void>' first required here
   20 |   auto map_ = gs::Map<gs::String, void>();
      |               ^
In file included from dist/build/test.cpp:1:
In file included from dist/build/test.hpp:5:
In file included from /Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/gc/gs_gc_runtime.hpp:13:
In file included from /Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/gc/allocator.hpp:6:
In file included from /opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/utility:257:
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/__utility/pair.h:141:104: error: cannot form a reference to 'void'
  141 |             __enable_if_t<_CheckArgsDep<_Dummy>::template __is_pair_constructible<_T1 const&, _T2 const&>(), int> = 0>
      |                                                                                                        ^
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/__utility/pair.h:247:95: error: cannot form a reference to 'void'
  247 |       __enable_if_t<is_assignable<first_type&, _U1 const&>::value && is_assignable<second_type&, _U2 const&>::value,
      |                                                                                               ^
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/__utility/pair.h:257:94: error: cannot form a reference to 'void'
  257 |             __enable_if_t<is_assignable<first_type&, _U1>::value && is_assignable<second_type&, _U2>::value, int> = 0>
      |                                                                                              ^
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/__utility/pair.h:358:86: error: cannot form a reference to 'void'
  358 |             __enable_if_t<is_assignable<_T1&, _U1 const&>::value && is_assignable<_T2&, _U2 const&>::value, int> = 0>
      |                                                                                      ^
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/__utility/pair.h:367:81: error: cannot form a reference to 'void'
  367 |             __enable_if_t<is_assignable<_T1&, _U1&&>::value && is_assignable<_T2&, _U2&&>::value, int> = 0>
      |                                                                                 ^
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/__utility/pair.h:398:86: error: cannot form a reference to 'void'
  398 |             __enable_if_t<is_assignable<_T1&, _Up const&>::value && is_assignable<_T2&, _Up const&>::value, int> = 0>
      |                                                                                      ^
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/__utility/pair.h:405:90: error: cannot form a reference to 'void'
  405 |   template <class _Up, __enable_if_t<is_assignable<_T1&, _Up>::value && is_assignable<_T2&, _Up>::value, int> = 0>
      |                                                                                          ^
dist/build/test.cpp:21:8: error: no member named 'set' in 'gs::Map<gs::String, void>'
   21 |   map_.set(gs::String("alpha"), 1);
      |   ~~~~ ^
dist/build/test.cpp:22:8: error: no member named 'set' in 'gs::Map<gs::String, void>'
   22 |   map_.set(gs::String("beta"), 2);
      |   ~~~~ ^
dist/build/test.cpp:23:8: error: no member named 'set' in 'gs::Map<gs::String, void>'
   23 |   map_.set(gs::String("gamma"), 3);
      |   ~~~~ ^
In file included from dist/build/test.cpp:1:
In file included from dist/build/test.hpp:5:
In file included from /Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/gc/gs_gc_runtime.hpp:24:
/Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/gc/array.hpp:52:29: warning: first argument in call to 'memcpy' is a pointer to non-trivially copyable type 'gs::String' [-Wnontrivial-memcall]
   52 |                 std::memcpy(new_data, data_, length_ * sizeof(T));
      |                             ^
/Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/gc/array.hpp:191:13: note: in instantiation of member function 'gs::Array<gs::String>::resize_capacity' requested here
  191 |             resize_capacity(calculate_growth(capacity_));
      |             ^
/Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/gc/array.hpp:499:20: note: in instantiation of member function 'gs::Array<gs::String>::push' requested here
  499 |             result.push(charAt(i));
      |                    ^
/Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/gc/array.hpp:52:29: note: explicitly cast the pointer to silence this warning
   52 |                 std::memcpy(new_data, data_, length_ * sizeof(T));
      |                             ^
      |                             (void*)
In file included from dist/build/test.cpp:1:
In file included from dist/build/test.hpp:5:
In file included from /Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/gc/gs_gc_runtime.hpp:25:
/Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/gc/map.hpp:247:28: error: no matching function for call to 'get'
  247 |     for (const auto& [key, value] : *this) {
      |                            ^~~~~
/Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/gc/map.hpp:247:28: note: in implicit initialization of binding declaration 'value'
dist/build/test.cpp:24:24: note: in instantiation of member function 'gs::Map<gs::String, void>::keys' requested here
   24 |   for (auto key : map_.keys()) {
      |                        ^
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/__utility/pair.h:609:1: note: candidate template ignored: substitution failure [with _Ip = 1, _T1 = gs::String, _T2 = void]: cannot form a reference to 'void'
  608 | inline _LIBCPP_HIDE_FROM_ABI _LIBCPP_CONSTEXPR_SINCE_CXX14 typename tuple_element<_Ip, pair<_T1, _T2> >::type&
      |                                                                                                              ~
  609 | get(pair<_T1, _T2>& __p) _NOEXCEPT {
      | ^
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/__utility/pair.h:615:1: note: candidate template ignored: substitution failure [with _Ip = 1, _T1 = gs::String, _T2 = void]: cannot form a reference to 'void'
  614 | inline _LIBCPP_HIDE_FROM_ABI _LIBCPP_CONSTEXPR_SINCE_CXX14 const typename tuple_element<_Ip, pair<_T1, _T2> >::type&
      |                                                                                                                    ~
  615 | get(const pair<_T1, _T2>& __p) _NOEXCEPT {
      | ^
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/__utility/pair.h:621:1: note: candidate template ignored: substitution failure [with _Ip = 1, _T1 = gs::String, _T2 = void]: cannot form a reference to 'void'
  620 | inline _LIBCPP_HIDE_FROM_ABI _LIBCPP_CONSTEXPR_SINCE_CXX14 typename tuple_element<_Ip, pair<_T1, _T2> >::type&&
      |                                                                                                              ~~
  621 | get(pair<_T1, _T2>&& __p) _NOEXCEPT {
      | ^
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/__utility/pair.h:627:1: note: candidate template ignored: substitution failure [with _Ip = 1, _T1 = gs::String, _T2 = void]: cannot form a reference to 'void'
  626 | inline _LIBCPP_HIDE_FROM_ABI _LIBCPP_CONSTEXPR_SINCE_CXX14 const typename tuple_element<_Ip, pair<_T1, _T2> >::type&&
      |                                                                                                                    ~~
  627 | get(const pair<_T1, _T2>&& __p) _NOEXCEPT {
      | ^
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/__ranges/subrange.h:216:38: note: candidate template ignored: could not match 'subrange' against 'std::pair'
  216 | _LIBCPP_HIDE_FROM_ABI constexpr auto get(const subrange<_Iter, _Sent, _Kind>& __subrange) {
      |                                      ^
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/__ranges/subrange.h:225:38: note: candidate template ignored: could not match 'subrange' against 'std::pair'
  225 | _LIBCPP_HIDE_FROM_ABI constexpr auto get(subrange<_Iter, _Sent, _Kind>&& __subrange) {
      |                                      ^
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/variant:1352:1: note: candidate template ignored: could not match 'variant' against 'std::pair'
 1352 | get(variant<_Types...>& __v) {
      | ^
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/variant:1361:1: note: candidate template ignored: could not match 'variant' against 'std::pair'
 1361 | get(variant<_Types...>&& __v) {
      | ^
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/variant:1370:1: note: candidate template ignored: could not match 'variant' against 'std::pair'
 1370 | get(const variant<_Types...>& __v) {
      | ^
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/variant:1379:1: note: candidate template ignored: could not match 'variant' against 'std::pair'
 1379 | get(const variant<_Types...>&& __v) {
      | ^
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/tuple:1072:1: note: candidate template ignored: could not match 'tuple' against 'std::pair'
 1072 | get(tuple<_Tp...>& __t) _NOEXCEPT {
      | ^
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/tuple:1079:1: note: candidate template ignored: could not match 'tuple' against 'std::pair'
 1079 | get(const tuple<_Tp...>& __t) _NOEXCEPT {
      | ^
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/tuple:1086:1: note: candidate template ignored: could not match 'tuple' against 'std::pair'
 1086 | get(tuple<_Tp...>&& __t) _NOEXCEPT {
      | ^
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/tuple:1093:1: note: candidate template ignored: could not match 'tuple' against 'std::pair'
 1093 | get(const tuple<_Tp...>&& __t) _NOEXCEPT {
      | ^
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/array:504:65: note: candidate template ignored: could not match 'array' against 'std::pair'
  504 | inline _LIBCPP_HIDE_FROM_ABI _LIBCPP_CONSTEXPR_SINCE_CXX14 _Tp& get(array<_Tp, _Size>& __a) _NOEXCEPT {
      |                                                                 ^
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/array:510:71: note: candidate template ignored: could not match 'array' against 'std::pair'
  510 | inline _LIBCPP_HIDE_FROM_ABI _LIBCPP_CONSTEXPR_SINCE_CXX14 const _Tp& get(const array<_Tp, _Size>& __a) _NOEXCEPT {
      |                                                                       ^
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/array:516:66: note: candidate template ignored: could not match 'array' against 'std::pair'
  516 | inline _LIBCPP_HIDE_FROM_ABI _LIBCPP_CONSTEXPR_SINCE_CXX14 _Tp&& get(array<_Tp, _Size>&& __a) _NOEXCEPT {
      |                                                                  ^
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/array:522:72: note: candidate template ignored: could not match 'array' against 'std::pair'
  522 | inline _LIBCPP_HIDE_FROM_ABI _LIBCPP_CONSTEXPR_SINCE_CXX14 const _Tp&& get(const array<_Tp, _Size>&& __a) _NOEXCEPT {
      |                                                                        ^
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/__utility/pair.h:633:45: note: candidate template ignored: invalid explicitly-specified argument for template parameter '_T1'
  633 | inline _LIBCPP_HIDE_FROM_ABI constexpr _T1& get(pair<_T1, _T2>& __p) _NOEXCEPT {
      |                                             ^
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/__utility/pair.h:638:51: note: candidate template ignored: invalid explicitly-specified argument for template parameter '_T1'
  638 | inline _LIBCPP_HIDE_FROM_ABI constexpr _T1 const& get(pair<_T1, _T2> const& __p) _NOEXCEPT {
      |                                                   ^
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/__utility/pair.h:643:46: note: candidate template ignored: invalid explicitly-specified argument for template parameter '_T1'
  643 | inline _LIBCPP_HIDE_FROM_ABI constexpr _T1&& get(pair<_T1, _T2>&& __p) _NOEXCEPT {
      |                                              ^
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/__utility/pair.h:648:52: note: candidate template ignored: invalid explicitly-specified argument for template parameter '_T1'
  648 | inline _LIBCPP_HIDE_FROM_ABI constexpr _T1 const&& get(pair<_T1, _T2> const&& __p) _NOEXCEPT {
      |                                                    ^
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/__utility/pair.h:653:45: note: candidate template ignored: invalid explicitly-specified argument for template parameter '_T1'
  653 | inline _LIBCPP_HIDE_FROM_ABI constexpr _T1& get(pair<_T2, _T1>& __p) _NOEXCEPT {
      |                                             ^
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/__utility/pair.h:658:51: note: candidate template ignored: invalid explicitly-specified argument for template parameter '_T1'
  658 | inline _LIBCPP_HIDE_FROM_ABI constexpr _T1 const& get(pair<_T2, _T1> const& __p) _NOEXCEPT {
      |                                                   ^
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/__utility/pair.h:663:46: note: candidate template ignored: invalid explicitly-specified argument for template parameter '_T1'
  663 | inline _LIBCPP_HIDE_FROM_ABI constexpr _T1&& get(pair<_T2, _T1>&& __p) _NOEXCEPT {
      |                                              ^
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/__utility/pair.h:668:52: note: candidate template ignored: invalid explicitly-specified argument for template parameter '_T1'
  668 | inline _LIBCPP_HIDE_FROM_ABI constexpr _T1 const&& get(pair<_T2, _T1> const&& __p) _NOEXCEPT {
      |                                                    ^
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/variant:1386:84: note: candidate template ignored: invalid explicitly-specified argument for template parameter '_Tp'
 1386 | _LIBCPP_HIDE_FROM_ABI _LIBCPP_AVAILABILITY_THROW_BAD_VARIANT_ACCESS constexpr _Tp& get(variant<_Types...>& __v) {
      |                                                                                    ^
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/variant:1392:85: note: candidate template ignored: invalid explicitly-specified argument for template parameter '_Tp'
 1392 | _LIBCPP_HIDE_FROM_ABI _LIBCPP_AVAILABILITY_THROW_BAD_VARIANT_ACCESS constexpr _Tp&& get(variant<_Types...>&& __v) {
      |                                                                                     ^
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/variant:1399:1: note: candidate template ignored: invalid explicitly-specified argument for template parameter '_Tp'
 1399 | get(const variant<_Types...>& __v) {
      | ^
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/variant:1406:1: note: candidate template ignored: invalid explicitly-specified argument for template parameter '_Tp'
 1406 | get(const variant<_Types...>&& __v) {
      | ^
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/tuple:1101:45: note: candidate template ignored: invalid explicitly-specified argument for template parameter '_T1'
 1101 | inline _LIBCPP_HIDE_FROM_ABI constexpr _T1& get(tuple<_Args...>& __tup) noexcept {
      |                                             ^
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/tuple:1106:51: note: candidate template ignored: invalid explicitly-specified argument for template parameter '_T1'
 1106 | inline _LIBCPP_HIDE_FROM_ABI constexpr _T1 const& get(tuple<_Args...> const& __tup) noexcept {
      |                                                   ^
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/tuple:1111:46: note: candidate template ignored: invalid explicitly-specified argument for template parameter '_T1'
 1111 | inline _LIBCPP_HIDE_FROM_ABI constexpr _T1&& get(tuple<_Args...>&& __tup) noexcept {
      |                                              ^
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/tuple:1116:52: note: candidate template ignored: invalid explicitly-specified argument for template parameter '_T1'
 1116 | inline _LIBCPP_HIDE_FROM_ABI constexpr _T1 const&& get(tuple<_Args...> const&& __tup) noexcept {
      |                                                    ^
In file included from dist/build/test.cpp:1:
In file included from dist/build/test.hpp:5:
In file included from /Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/gc/gs_gc_runtime.hpp:25:
/Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/gc/map.hpp:247:28: error: cannot form a reference to 'void'
  247 |     for (const auto& [key, value] : *this) {
      |                            ^
/Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/gc/map.hpp:227:20: note: selected 'begin' function with iterator type 'const_iterator'
  227 |     const_iterator begin() const { return const_iterator(items_.begin(), items_.end(), &index_); }
      |                    ^
1 warning and 14 errors generated.

stdout: 

   Expected: "alpha\nbeta\ngamma\n"
   Got:      "üì¶ Compiling 1 file(s)...\n  ‚úì test.hpp\n  ‚úì test.cpp\n\nüî® Compiling to native binary...\n"
   [ownership] Failed (1731ms)
   Error: Command failed: /Users/bilbo/Devel/oss/goodscript/goodscript/compiler/bin/gsc --gsTarget cpp --gsMemory ownership -o /var/folders/dm/rpn_c6_13k167t8p_0dqr5gm0000gn/T/goodscript-equiv-1765410606521/test-ownership /var/folders/dm/rpn_c6_13k167t8p_0dqr5gm0000gn/T/goodscript-equiv-1765410606521/test-gs.ts

‚ùå Errors:
  Binary compilation failed
    Compiling cppcoro...
    Compiling test.cpp...
    Command failed: zig c++ -std=c++20 -O3 -c -I dist/build -I /Users/bilbo/Devel/oss/goodscript/goodscript/compiler/vendor/cpp-httplib -I /Users/bilbo/Devel/oss/goodscript/goodscript/compiler -I /Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp -I /Users/bilbo/Devel/oss/goodscript/goodscript/compiler/vendor/cppcoro/include dist/build/test.cpp -o dist/build/test.o
Exit code: 1
stderr: In file included from dist/build/test.cpp:1:
In file included from dist/build/test.hpp:5:
In file included from /Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/ownership/gs_runtime.hpp:42:
/Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/ownership/gs_map.hpp:180:39: error: cannot form a reference to 'void'
  180 |   Map<K, V>& set(const K& key, const V& value) {
      |                                       ^
dist/build/test.cpp:20:15: note: in instantiation of template class 'gs::Map<gs::String, void>' requested here
   20 |   auto map_ = gs::Map<gs::String, void>();
      |               ^
In file included from dist/build/test.cpp:1:
In file included from dist/build/test.hpp:5:
In file included from /Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/ownership/gs_runtime.hpp:42:
/Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/ownership/gs_map.hpp:193:33: error: cannot form a reference to 'void'
  193 |   Map<K, V>& set(const K& key, V&& value) {
      |                                 ^
/Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/ownership/gs_map.hpp:204:34: error: cannot form a reference to 'void'
  204 |   Map<K, V>& set(K&& key, const V& value) {
      |                                  ^
/Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/ownership/gs_map.hpp:216:28: error: cannot form a reference to 'void'
  216 |   Map<K, V>& set(K&& key, V&& value) {
      |                            ^
/Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/ownership/gs_map.hpp:246:41: error: cannot form a reference to 'void'
  246 |   V get_or_default(const K& key, const V& defaultValue) const {
      |                                         ^
In file included from dist/build/test.cpp:1:
In file included from dist/build/test.hpp:5:
In file included from /Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/ownership/gs_runtime.hpp:36:
In file included from /opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/functional:539:
In file included from /opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/__functional/bind.h:20:
In file included from /opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/tuple:1438:
In file included from /opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/utility:257:
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/__utility/pair.h:72:7: error: field has incomplete type 'void'
   72 |   _T2 second;
      |       ^
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/__vector/vector.h:385:48: note: in instantiation of template class 'std::pair<gs::String, void>' requested here
  385 |     return static_cast<size_type>(this->__end_ - this->__begin_);
      |                                                ^
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/__vector/vector.h:530:28: note: in instantiation of member function 'std::vector<std::pair<gs::String, void>>::size' requested here
  530 |     size_type __old_size = size();
      |                            ^
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/__vector/vector.h:248:16: note: in instantiation of member function 'std::vector<std::pair<gs::String, void>>::clear' requested here
  248 |         __vec_.clear();
      |                ^
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/__vector/vector.h:259:67: note: in instantiation of member function 'std::vector<std::pair<gs::String, void>>::__destroy_vector::operator()' requested here
  259 |   _LIBCPP_CONSTEXPR_SINCE_CXX20 _LIBCPP_HIDE_FROM_ABI ~vector() { __destroy_vector (*this)(); }
      |                                                                   ^
/Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/ownership/gs_map.hpp:137:3: note: in instantiation of member function 'std::vector<std::pair<gs::String, void>>::~vector' requested here
  137 |   Map() = default;
      |   ^
dist/build/test.cpp:20:15: note: in defaulted default constructor for 'gs::Map<gs::String, void>' first required here
   20 |   auto map_ = gs::Map<gs::String, void>();
      |               ^
In file included from dist/build/test.cpp:1:
In file included from dist/build/test.hpp:5:
In file included from /Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/ownership/gs_runtime.hpp:36:
In file included from /opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/functional:539:
In file included from /opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/__functional/bind.h:20:
In file included from /opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/tuple:1438:
In file included from /opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/utility:257:
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/__utility/pair.h:141:104: error: cannot form a reference to 'void'
  141 |             __enable_if_t<_CheckArgsDep<_Dummy>::template __is_pair_constructible<_T1 const&, _T2 const&>(), int> = 0>
      |                                                                                                        ^
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/__utility/pair.h:247:95: error: cannot form a reference to 'void'
  247 |       __enable_if_t<is_assignable<first_type&, _U1 const&>::value && is_assignable<second_type&, _U2 const&>::value,
      |                                                                                               ^
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/__utility/pair.h:257:94: error: cannot form a reference to 'void'
  257 |             __enable_if_t<is_assignable<first_type&, _U1>::value && is_assignable<second_type&, _U2>::value, int> = 0>
      |                                                                                              ^
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/__utility/pair.h:358:86: error: cannot form a reference to 'void'
  358 |             __enable_if_t<is_assignable<_T1&, _U1 const&>::value && is_assignable<_T2&, _U2 const&>::value, int> = 0>
      |                                                                                      ^
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/__utility/pair.h:367:81: error: cannot form a reference to 'void'
  367 |             __enable_if_t<is_assignable<_T1&, _U1&&>::value && is_assignable<_T2&, _U2&&>::value, int> = 0>
      |                                                                                 ^
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/__utility/pair.h:398:86: error: cannot form a reference to 'void'
  398 |             __enable_if_t<is_assignable<_T1&, _Up const&>::value && is_assignable<_T2&, _Up const&>::value, int> = 0>
      |                                                                                      ^
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/__utility/pair.h:405:90: error: cannot form a reference to 'void'
  405 |   template <class _Up, __enable_if_t<is_assignable<_T1&, _Up>::value && is_assignable<_T2&, _Up>::value, int> = 0>
      |                                                                                          ^
dist/build/test.cpp:21:8: error: no member named 'set' in 'gs::Map<gs::String, void>'
   21 |   map_.set(gs::String("alpha"), 1);
      |   ~~~~ ^
dist/build/test.cpp:22:8: error: no member named 'set' in 'gs::Map<gs::String, void>'
   22 |   map_.set(gs::String("beta"), 2);
      |   ~~~~ ^
dist/build/test.cpp:23:8: error: no member named 'set' in 'gs::Map<gs::String, void>'
   23 |   map_.set(gs::String("gamma"), 3);
      |   ~~~~ ^
In file included from dist/build/test.cpp:1:
In file included from dist/build/test.hpp:5:
In file included from /Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/ownership/gs_runtime.hpp:42:
/Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/ownership/gs_map.hpp:376:28: error: no matching function for call to 'get'
  376 |     for (const auto& [key, value] : *this) {
      |                            ^~~~~
/Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/ownership/gs_map.hpp:376:28: note: in implicit initialization of binding declaration 'value'
dist/build/test.cpp:24:24: note: in instantiation of member function 'gs::Map<gs::String, void>::keys' requested here
   24 |   for (auto key : map_.keys()) {
      |                        ^
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/tuple:1072:1: note: candidate template ignored: could not match 'tuple' against 'std::pair'
 1072 | get(tuple<_Tp...>& __t) _NOEXCEPT {
      | ^
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/tuple:1079:1: note: candidate template ignored: could not match 'tuple' against 'std::pair'
 1079 | get(const tuple<_Tp...>& __t) _NOEXCEPT {
      | ^
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/tuple:1086:1: note: candidate template ignored: could not match 'tuple' against 'std::pair'
 1086 | get(tuple<_Tp...>&& __t) _NOEXCEPT {
      | ^
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/tuple:1093:1: note: candidate template ignored: could not match 'tuple' against 'std::pair'
 1093 | get(const tuple<_Tp...>&& __t) _NOEXCEPT {
      | ^
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/__utility/pair.h:609:1: note: candidate template ignored: substitution failure [with _Ip = 1, _T1 = gs::String, _T2 = void]: cannot form a reference to 'void'
  608 | inline _LIBCPP_HIDE_FROM_ABI _LIBCPP_CONSTEXPR_SINCE_CXX14 typename tuple_element<_Ip, pair<_T1, _T2> >::type&
      |                                                                                                              ~
  609 | get(pair<_T1, _T2>& __p) _NOEXCEPT {
      | ^
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/__utility/pair.h:615:1: note: candidate template ignored: substitution failure [with _Ip = 1, _T1 = gs::String, _T2 = void]: cannot form a reference to 'void'
  614 | inline _LIBCPP_HIDE_FROM_ABI _LIBCPP_CONSTEXPR_SINCE_CXX14 const typename tuple_element<_Ip, pair<_T1, _T2> >::type&
      |                                                                                                                    ~
  615 | get(const pair<_T1, _T2>& __p) _NOEXCEPT {
      | ^
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/__utility/pair.h:621:1: note: candidate template ignored: substitution failure [with _Ip = 1, _T1 = gs::String, _T2 = void]: cannot form a reference to 'void'
  620 | inline _LIBCPP_HIDE_FROM_ABI _LIBCPP_CONSTEXPR_SINCE_CXX14 typename tuple_element<_Ip, pair<_T1, _T2> >::type&&
      |                                                                                                              ~~
  621 | get(pair<_T1, _T2>&& __p) _NOEXCEPT {
      | ^
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/__utility/pair.h:627:1: note: candidate template ignored: substitution failure [with _Ip = 1, _T1 = gs::String, _T2 = void]: cannot form a reference to 'void'
  626 | inline _LIBCPP_HIDE_FROM_ABI _LIBCPP_CONSTEXPR_SINCE_CXX14 const typename tuple_element<_Ip, pair<_T1, _T2> >::type&&
      |                                                                                                                    ~~
  627 | get(const pair<_T1, _T2>&& __p) _NOEXCEPT {
      | ^
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/__ranges/subrange.h:216:38: note: candidate template ignored: could not match 'subrange' against 'std::pair'
  216 | _LIBCPP_HIDE_FROM_ABI constexpr auto get(const subrange<_Iter, _Sent, _Kind>& __subrange) {
      |                                      ^
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/__ranges/subrange.h:225:38: note: candidate template ignored: could not match 'subrange' against 'std::pair'
  225 | _LIBCPP_HIDE_FROM_ABI constexpr auto get(subrange<_Iter, _Sent, _Kind>&& __subrange) {
      |                                      ^
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/array:504:65: note: candidate template ignored: could not match 'array' against 'std::pair'
  504 | inline _LIBCPP_HIDE_FROM_ABI _LIBCPP_CONSTEXPR_SINCE_CXX14 _Tp& get(array<_Tp, _Size>& __a) _NOEXCEPT {
      |                                                                 ^
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/array:510:71: note: candidate template ignored: could not match 'array' against 'std::pair'
  510 | inline _LIBCPP_HIDE_FROM_ABI _LIBCPP_CONSTEXPR_SINCE_CXX14 const _Tp& get(const array<_Tp, _Size>& __a) _NOEXCEPT {
      |                                                                       ^
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/array:516:66: note: candidate template ignored: could not match 'array' against 'std::pair'
  516 | inline _LIBCPP_HIDE_FROM_ABI _LIBCPP_CONSTEXPR_SINCE_CXX14 _Tp&& get(array<_Tp, _Size>&& __a) _NOEXCEPT {
      |                                                                  ^
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/array:522:72: note: candidate template ignored: could not match 'array' against 'std::pair'
  522 | inline _LIBCPP_HIDE_FROM_ABI _LIBCPP_CONSTEXPR_SINCE_CXX14 const _Tp&& get(const array<_Tp, _Size>&& __a) _NOEXCEPT {
      |                                                                        ^
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/variant:1352:1: note: candidate template ignored: could not match 'variant' against 'std::pair'
 1352 | get(variant<_Types...>& __v) {
      | ^
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/variant:1361:1: note: candidate template ignored: could not match 'variant' against 'std::pair'
 1361 | get(variant<_Types...>&& __v) {
      | ^
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/variant:1370:1: note: candidate template ignored: could not match 'variant' against 'std::pair'
 1370 | get(const variant<_Types...>& __v) {
      | ^
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/variant:1379:1: note: candidate template ignored: could not match 'variant' against 'std::pair'
 1379 | get(const variant<_Types...>&& __v) {
      | ^
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/tuple:1101:45: note: candidate template ignored: invalid explicitly-specified argument for template parameter '_T1'
 1101 | inline _LIBCPP_HIDE_FROM_ABI constexpr _T1& get(tuple<_Args...>& __tup) noexcept {
      |                                             ^
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/tuple:1106:51: note: candidate template ignored: invalid explicitly-specified argument for template parameter '_T1'
 1106 | inline _LIBCPP_HIDE_FROM_ABI constexpr _T1 const& get(tuple<_Args...> const& __tup) noexcept {
      |                                                   ^
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/tuple:1111:46: note: candidate template ignored: invalid explicitly-specified argument for template parameter '_T1'
 1111 | inline _LIBCPP_HIDE_FROM_ABI constexpr _T1&& get(tuple<_Args...>&& __tup) noexcept {
      |                                              ^
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/tuple:1116:52: note: candidate template ignored: invalid explicitly-specified argument for template parameter '_T1'
 1116 | inline _LIBCPP_HIDE_FROM_ABI constexpr _T1 const&& get(tuple<_Args...> const&& __tup) noexcept {
      |                                                    ^
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/__utility/pair.h:633:45: note: candidate template ignored: invalid explicitly-specified argument for template parameter '_T1'
  633 | inline _LIBCPP_HIDE_FROM_ABI constexpr _T1& get(pair<_T1, _T2>& __p) _NOEXCEPT {
      |                                             ^
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/__utility/pair.h:638:51: note: candidate template ignored: invalid explicitly-specified argument for template parameter '_T1'
  638 | inline _LIBCPP_HIDE_FROM_ABI constexpr _T1 const& get(pair<_T1, _T2> const& __p) _NOEXCEPT {
      |                                                   ^
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/__utility/pair.h:643:46: note: candidate template ignored: invalid explicitly-specified argument for template parameter '_T1'
  643 | inline _LIBCPP_HIDE_FROM_ABI constexpr _T1&& get(pair<_T1, _T2>&& __p) _NOEXCEPT {
      |                                              ^
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/__utility/pair.h:648:52: note: candidate template ignored: invalid explicitly-specified argument for template parameter '_T1'
  648 | inline _LIBCPP_HIDE_FROM_ABI constexpr _T1 const&& get(pair<_T1, _T2> const&& __p) _NOEXCEPT {
      |                                                    ^
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/__utility/pair.h:653:45: note: candidate template ignored: invalid explicitly-specified argument for template parameter '_T1'
  653 | inline _LIBCPP_HIDE_FROM_ABI constexpr _T1& get(pair<_T2, _T1>& __p) _NOEXCEPT {
      |                                             ^
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/__utility/pair.h:658:51: note: candidate template ignored: invalid explicitly-specified argument for template parameter '_T1'
  658 | inline _LIBCPP_HIDE_FROM_ABI constexpr _T1 const& get(pair<_T2, _T1> const& __p) _NOEXCEPT {
      |                                                   ^
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/__utility/pair.h:663:46: note: candidate template ignored: invalid explicitly-specified argument for template parameter '_T1'
  663 | inline _LIBCPP_HIDE_FROM_ABI constexpr _T1&& get(pair<_T2, _T1>&& __p) _NOEXCEPT {
      |                                              ^
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/__utility/pair.h:668:52: note: candidate template ignored: invalid explicitly-specified argument for template parameter '_T1'
  668 | inline _LIBCPP_HIDE_FROM_ABI constexpr _T1 const&& get(pair<_T2, _T1> const&& __p) _NOEXCEPT {
      |                                                    ^
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/variant:1386:84: note: candidate template ignored: invalid explicitly-specified argument for template parameter '_Tp'
 1386 | _LIBCPP_HIDE_FROM_ABI _LIBCPP_AVAILABILITY_THROW_BAD_VARIANT_ACCESS constexpr _Tp& get(variant<_Types...>& __v) {
      |                                                                                    ^
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/variant:1392:85: note: candidate template ignored: invalid explicitly-specified argument for template parameter '_Tp'
 1392 | _LIBCPP_HIDE_FROM_ABI _LIBCPP_AVAILABILITY_THROW_BAD_VARIANT_ACCESS constexpr _Tp&& get(variant<_Types...>&& __v) {
      |                                                                                     ^
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/variant:1399:1: note: candidate template ignored: invalid explicitly-specified argument for template parameter '_Tp'
 1399 | get(const variant<_Types...>& __v) {
      | ^
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/variant:1406:1: note: candidate template ignored: invalid explicitly-specified argument for template parameter '_Tp'
 1406 | get(const variant<_Types...>&& __v) {
      | ^
In file included from dist/build/test.cpp:1:
In file included from dist/build/test.hpp:5:
In file included from /Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/ownership/gs_runtime.hpp:42:
/Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/ownership/gs_map.hpp:376:28: error: cannot form a reference to 'void'
  376 |     for (const auto& [key, value] : *this) {
      |                            ^
/Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/ownership/gs_map.hpp:412:18: note: selected 'begin' function with iterator type 'const_iterator'
  412 |   const_iterator begin() const { return const_iterator(items_.begin(), items_.end(), &index_); }
      |                  ^
18 errors generated.

stdout: 

   Expected: "alpha\nbeta\ngamma\n"
   Got:      "üì¶ Compiling 1 file(s)...\n  ‚úì test.hpp\n  ‚úì test.cpp\n\nüî® Compiling to native binary...\n"

‚ùå Map values iteration
   [gc] Failed (1602ms)
   Error: Command failed: /Users/bilbo/Devel/oss/goodscript/goodscript/compiler/bin/gsc --gsTarget cpp --gsMemory gc -o /var/folders/dm/rpn_c6_13k167t8p_0dqr5gm0000gn/T/goodscript-equiv-1765410610149/test-gc /var/folders/dm/rpn_c6_13k167t8p_0dqr5gm0000gn/T/goodscript-equiv-1765410610149/test-gs.ts

‚ùå Errors:
  Binary compilation failed
    Using cached mps.o
    Compiling cppcoro...
    Compiling test.cpp...
    Command failed: zig c++ -std=c++20 -O3 -c -I dist/build -I /Users/bilbo/Devel/oss/goodscript/goodscript/compiler/vendor/mps/src -I /Users/bilbo/Devel/oss/goodscript/goodscript/compiler/vendor/cpp-httplib -I /Users/bilbo/Devel/oss/goodscript/goodscript/compiler -I /Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp -I /Users/bilbo/Devel/oss/goodscript/goodscript/compiler/vendor/cppcoro/include dist/build/test.cpp -o dist/build/test.o
Exit code: 1
stderr: In file included from dist/build/test.cpp:1:
In file included from dist/build/test.hpp:5:
In file included from /Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/gc/gs_gc_runtime.hpp:25:
/Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/gc/map.hpp:158:35: error: cannot form a reference to 'void'
  158 |     void set(const K& key, const V& value) {
      |                                   ^
dist/build/test.cpp:20:15: note: in instantiation of template class 'gs::Map<gs::String, void>' requested here
   20 |   auto map_ = gs::Map<gs::String, void>();
      |               ^
In file included from dist/build/test.cpp:1:
In file included from dist/build/test.hpp:5:
In file included from /Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/gc/gs_gc_runtime.hpp:13:
In file included from /Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/gc/allocator.hpp:6:
In file included from /opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/utility:257:
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/__utility/pair.h:72:7: error: field has incomplete type 'void'
   72 |   _T2 second;
      |       ^
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/__vector/vector.h:385:48: note: in instantiation of template class 'std::pair<gs::String, void>' requested here
  385 |     return static_cast<size_type>(this->__end_ - this->__begin_);
      |                                                ^
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/__vector/vector.h:530:28: note: in instantiation of member function 'std::vector<std::pair<gs::String, void>>::size' requested here
  530 |     size_type __old_size = size();
      |                            ^
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/__vector/vector.h:248:16: note: in instantiation of member function 'std::vector<std::pair<gs::String, void>>::clear' requested here
  248 |         __vec_.clear();
      |                ^
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/__vector/vector.h:259:67: note: in instantiation of member function 'std::vector<std::pair<gs::String, void>>::__destroy_vector::operator()' requested here
  259 |   _LIBCPP_CONSTEXPR_SINCE_CXX20 _LIBCPP_HIDE_FROM_ABI ~vector() { __destroy_vector (*this)(); }
      |                                                                   ^
/Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/gc/map.hpp:143:5: note: in instantiation of member function 'std::vector<std::pair<gs::String, void>>::~vector' requested here
  143 |     Map() = default;
      |     ^
dist/build/test.cpp:20:15: note: in defaulted default constructor for 'gs::Map<gs::String, void>' first required here
   20 |   auto map_ = gs::Map<gs::String, void>();
      |               ^
In file included from dist/build/test.cpp:1:
In file included from dist/build/test.hpp:5:
In file included from /Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/gc/gs_gc_runtime.hpp:13:
In file included from /Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/gc/allocator.hpp:6:
In file included from /opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/utility:257:
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/__utility/pair.h:141:104: error: cannot form a reference to 'void'
  141 |             __enable_if_t<_CheckArgsDep<_Dummy>::template __is_pair_constructible<_T1 const&, _T2 const&>(), int> = 0>
      |                                                                                                        ^
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/__utility/pair.h:247:95: error: cannot form a reference to 'void'
  247 |       __enable_if_t<is_assignable<first_type&, _U1 const&>::value && is_assignable<second_type&, _U2 const&>::value,
      |                                                                                               ^
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/__utility/pair.h:257:94: error: cannot form a reference to 'void'
  257 |             __enable_if_t<is_assignable<first_type&, _U1>::value && is_assignable<second_type&, _U2>::value, int> = 0>
      |                                                                                              ^
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/__utility/pair.h:358:86: error: cannot form a reference to 'void'
  358 |             __enable_if_t<is_assignable<_T1&, _U1 const&>::value && is_assignable<_T2&, _U2 const&>::value, int> = 0>
      |                                                                                      ^
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/__utility/pair.h:367:81: error: cannot form a reference to 'void'
  367 |             __enable_if_t<is_assignable<_T1&, _U1&&>::value && is_assignable<_T2&, _U2&&>::value, int> = 0>
      |                                                                                 ^
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/__utility/pair.h:398:86: error: cannot form a reference to 'void'
  398 |             __enable_if_t<is_assignable<_T1&, _Up const&>::value && is_assignable<_T2&, _Up const&>::value, int> = 0>
      |                                                                                      ^
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/__utility/pair.h:405:90: error: cannot form a reference to 'void'
  405 |   template <class _Up, __enable_if_t<is_assignable<_T1&, _Up>::value && is_assignable<_T2&, _Up>::value, int> = 0>
      |                                                                                          ^
dist/build/test.cpp:21:8: error: no member named 'set' in 'gs::Map<gs::String, void>'
   21 |   map_.set(gs::String("a"), 10);
      |   ~~~~ ^
dist/build/test.cpp:22:8: error: no member named 'set' in 'gs::Map<gs::String, void>'
   22 |   map_.set(gs::String("b"), 20);
      |   ~~~~ ^
dist/build/test.cpp:23:8: error: no member named 'set' in 'gs::Map<gs::String, void>'
   23 |   map_.set(gs::String("c"), 30);
      |   ~~~~ ^
In file included from dist/build/test.cpp:1:
In file included from dist/build/test.hpp:5:
In file included from /Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/gc/gs_gc_runtime.hpp:24:
/Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/gc/array.hpp:125:6: error: cannot form a reference to 'void'
  125 |     T& operator[](size_t index) {
      |      ^
dist/build/test.cpp:24:26: note: in instantiation of template class 'gs::Array<void>' requested here
   24 |   for (auto value : map_.values()) {
      |                          ^
In file included from dist/build/test.cpp:1:
In file included from dist/build/test.hpp:5:
In file included from /Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/gc/gs_gc_runtime.hpp:24:
/Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/gc/array.hpp:137:12: error: cannot form a reference to 'void'
  137 |     const T& operator[](size_t index) const {
      |            ^
/Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/gc/array.hpp:189:22: error: cannot form a reference to 'void'
  189 |     void push(const T& value) {
      |                      ^
/Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/gc/array.hpp:196:27: error: cannot form a reference to 'void'
  196 |     void push_back(const T& value) {
      |                           ^
/Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/gc/array.hpp:207:25: error: cannot form a reference to 'void'
  207 |     void unshift(const T& value) {
      |                         ^
/Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/gc/array.hpp:260:28: error: cannot form a reference to 'void'
  260 |     int64_t indexOf(const T& value) const {
      |                            ^
/Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/gc/array.hpp:306:51: error: subscript of pointer to incomplete type 'void'
  306 |     auto map(F func) const -> Array<decltype(func(data_[0]))> {
      |                                                   ^~~~~
fatal error: too many errors emitted, stopping now [-ferror-limit=]
20 errors generated.

stdout: 

   Expected: "10\n20\n30\n"
   Got:      "üì¶ Compiling 1 file(s)...\n  ‚úì test.hpp\n  ‚úì test.cpp\n\nüî® Compiling to native binary...\n"
   [ownership] Failed (1690ms)
   Error: Command failed: /Users/bilbo/Devel/oss/goodscript/goodscript/compiler/bin/gsc --gsTarget cpp --gsMemory ownership -o /var/folders/dm/rpn_c6_13k167t8p_0dqr5gm0000gn/T/goodscript-equiv-1765410610149/test-ownership /var/folders/dm/rpn_c6_13k167t8p_0dqr5gm0000gn/T/goodscript-equiv-1765410610149/test-gs.ts

‚ùå Errors:
  Binary compilation failed
    Compiling cppcoro...
    Compiling test.cpp...
    Command failed: zig c++ -std=c++20 -O3 -c -I dist/build -I /Users/bilbo/Devel/oss/goodscript/goodscript/compiler/vendor/cpp-httplib -I /Users/bilbo/Devel/oss/goodscript/goodscript/compiler -I /Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp -I /Users/bilbo/Devel/oss/goodscript/goodscript/compiler/vendor/cppcoro/include dist/build/test.cpp -o dist/build/test.o
Exit code: 1
stderr: In file included from dist/build/test.cpp:1:
In file included from dist/build/test.hpp:5:
In file included from /Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/ownership/gs_runtime.hpp:42:
/Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/ownership/gs_map.hpp:180:39: error: cannot form a reference to 'void'
  180 |   Map<K, V>& set(const K& key, const V& value) {
      |                                       ^
dist/build/test.cpp:20:15: note: in instantiation of template class 'gs::Map<gs::String, void>' requested here
   20 |   auto map_ = gs::Map<gs::String, void>();
      |               ^
In file included from dist/build/test.cpp:1:
In file included from dist/build/test.hpp:5:
In file included from /Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/ownership/gs_runtime.hpp:42:
/Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/ownership/gs_map.hpp:193:33: error: cannot form a reference to 'void'
  193 |   Map<K, V>& set(const K& key, V&& value) {
      |                                 ^
/Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/ownership/gs_map.hpp:204:34: error: cannot form a reference to 'void'
  204 |   Map<K, V>& set(K&& key, const V& value) {
      |                                  ^
/Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/ownership/gs_map.hpp:216:28: error: cannot form a reference to 'void'
  216 |   Map<K, V>& set(K&& key, V&& value) {
      |                            ^
/Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/ownership/gs_map.hpp:246:41: error: cannot form a reference to 'void'
  246 |   V get_or_default(const K& key, const V& defaultValue) const {
      |                                         ^
In file included from dist/build/test.cpp:1:
In file included from dist/build/test.hpp:5:
In file included from /Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/ownership/gs_runtime.hpp:36:
In file included from /opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/functional:539:
In file included from /opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/__functional/bind.h:20:
In file included from /opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/tuple:1438:
In file included from /opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/utility:257:
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/__utility/pair.h:72:7: error: field has incomplete type 'void'
   72 |   _T2 second;
      |       ^
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/__vector/vector.h:385:48: note: in instantiation of template class 'std::pair<gs::String, void>' requested here
  385 |     return static_cast<size_type>(this->__end_ - this->__begin_);
      |                                                ^
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/__vector/vector.h:530:28: note: in instantiation of member function 'std::vector<std::pair<gs::String, void>>::size' requested here
  530 |     size_type __old_size = size();
      |                            ^
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/__vector/vector.h:248:16: note: in instantiation of member function 'std::vector<std::pair<gs::String, void>>::clear' requested here
  248 |         __vec_.clear();
      |                ^
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/__vector/vector.h:259:67: note: in instantiation of member function 'std::vector<std::pair<gs::String, void>>::__destroy_vector::operator()' requested here
  259 |   _LIBCPP_CONSTEXPR_SINCE_CXX20 _LIBCPP_HIDE_FROM_ABI ~vector() { __destroy_vector (*this)(); }
      |                                                                   ^
/Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/ownership/gs_map.hpp:137:3: note: in instantiation of member function 'std::vector<std::pair<gs::String, void>>::~vector' requested here
  137 |   Map() = default;
      |   ^
dist/build/test.cpp:20:15: note: in defaulted default constructor for 'gs::Map<gs::String, void>' first required here
   20 |   auto map_ = gs::Map<gs::String, void>();
      |               ^
In file included from dist/build/test.cpp:1:
In file included from dist/build/test.hpp:5:
In file included from /Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/ownership/gs_runtime.hpp:36:
In file included from /opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/functional:539:
In file included from /opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/__functional/bind.h:20:
In file included from /opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/tuple:1438:
In file included from /opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/utility:257:
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/__utility/pair.h:141:104: error: cannot form a reference to 'void'
  141 |             __enable_if_t<_CheckArgsDep<_Dummy>::template __is_pair_constructible<_T1 const&, _T2 const&>(), int> = 0>
      |                                                                                                        ^
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/__utility/pair.h:247:95: error: cannot form a reference to 'void'
  247 |       __enable_if_t<is_assignable<first_type&, _U1 const&>::value && is_assignable<second_type&, _U2 const&>::value,
      |                                                                                               ^
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/__utility/pair.h:257:94: error: cannot form a reference to 'void'
  257 |             __enable_if_t<is_assignable<first_type&, _U1>::value && is_assignable<second_type&, _U2>::value, int> = 0>
      |                                                                                              ^
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/__utility/pair.h:358:86: error: cannot form a reference to 'void'
  358 |             __enable_if_t<is_assignable<_T1&, _U1 const&>::value && is_assignable<_T2&, _U2 const&>::value, int> = 0>
      |                                                                                      ^
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/__utility/pair.h:367:81: error: cannot form a reference to 'void'
  367 |             __enable_if_t<is_assignable<_T1&, _U1&&>::value && is_assignable<_T2&, _U2&&>::value, int> = 0>
      |                                                                                 ^
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/__utility/pair.h:398:86: error: cannot form a reference to 'void'
  398 |             __enable_if_t<is_assignable<_T1&, _Up const&>::value && is_assignable<_T2&, _Up const&>::value, int> = 0>
      |                                                                                      ^
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/__utility/pair.h:405:90: error: cannot form a reference to 'void'
  405 |   template <class _Up, __enable_if_t<is_assignable<_T1&, _Up>::value && is_assignable<_T2&, _Up>::value, int> = 0>
      |                                                                                          ^
dist/build/test.cpp:21:8: error: no member named 'set' in 'gs::Map<gs::String, void>'
   21 |   map_.set(gs::String("a"), 10);
      |   ~~~~ ^
dist/build/test.cpp:22:8: error: no member named 'set' in 'gs::Map<gs::String, void>'
   22 |   map_.set(gs::String("b"), 20);
      |   ~~~~ ^
dist/build/test.cpp:23:8: error: no member named 'set' in 'gs::Map<gs::String, void>'
   23 |   map_.set(gs::String("c"), 30);
      |   ~~~~ ^
In file included from dist/build/test.cpp:1:
In file included from dist/build/test.hpp:5:
In file included from /Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/ownership/gs_runtime.hpp:36:
In file included from /opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/functional:557:
In file included from /opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/__functional/boyer_moore_searcher.h:25:
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/__vector/vector.h:98:21: error: cannot form a reference to 'void'
   98 |   typedef value_type& reference;
      |                     ^
/Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/ownership/gs_array.hpp:29:18: note: in instantiation of template class 'std::vector<void>' requested here
   29 |   std::vector<T> impl_;
      |                  ^
dist/build/test.cpp:24:26: note: in instantiation of template class 'gs::Array<void>' requested here
   24 |   for (auto value : map_.values()) {
      |                          ^
In file included from dist/build/test.cpp:1:
In file included from dist/build/test.hpp:5:
In file included from /Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/ownership/gs_runtime.hpp:36:
In file included from /opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/functional:557:
In file included from /opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/__functional/boyer_moore_searcher.h:25:
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/__vector/vector.h:99:27: error: cannot form a reference to 'void'
   99 |   typedef const value_type& const_reference;
      |                           ^
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/__vector/vector.h:165:93: error: cannot form a reference to 'void'
  165 |   _LIBCPP_CONSTEXPR_SINCE_CXX20 _LIBCPP_HIDE_FROM_ABI vector(size_type __n, const value_type& __x) {
      |                                                                                             ^
fatal error: too many errors emitted, stopping now [-ferror-limit=]
20 errors generated.

stdout: 

   Expected: "10\n20\n30\n"
   Got:      "üì¶ Compiling 1 file(s)...\n  ‚úì test.hpp\n  ‚úì test.cpp\n\nüî® Compiling to native binary...\n"
‚úÖ Map string-to-string

‚ùå Map integer keys
   [gc] Failed (1582ms)
   Error: Command failed: /Users/bilbo/Devel/oss/goodscript/goodscript/compiler/bin/gsc --gsTarget cpp --gsMemory gc -o /var/folders/dm/rpn_c6_13k167t8p_0dqr5gm0000gn/T/goodscript-equiv-1765410618908/test-gc /var/folders/dm/rpn_c6_13k167t8p_0dqr5gm0000gn/T/goodscript-equiv-1765410618908/test-gs.ts

‚ùå Errors:
  Binary compilation failed
    Using cached mps.o
    Compiling cppcoro...
    Compiling test.cpp...
    Command failed: zig c++ -std=c++20 -O3 -c -I dist/build -I /Users/bilbo/Devel/oss/goodscript/goodscript/compiler/vendor/mps/src -I /Users/bilbo/Devel/oss/goodscript/goodscript/compiler/vendor/cpp-httplib -I /Users/bilbo/Devel/oss/goodscript/goodscript/compiler -I /Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp -I /Users/bilbo/Devel/oss/goodscript/goodscript/compiler/vendor/cppcoro/include dist/build/test.cpp -o dist/build/test.o
Exit code: 1
stderr: In file included from dist/build/test.cpp:1:
In file included from dist/build/test.hpp:5:
In file included from /Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/gc/gs_gc_runtime.hpp:24:
In file included from /Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/gc/array.hpp:6:
In file included from /opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/iostream:46:
In file included from /opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/istream:1383:
In file included from /opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/ostream:201:
In file included from /opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/format:251:
In file included from /opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/queue:276:
In file included from /opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/deque:2647:
In file included from /opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/functional:557:
In file included from /opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/__functional/boyer_moore_searcher.h:28:
In file included from /opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/unordered_map:595:
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/__hash_table:192:46: error: cannot form a reference to 'void'
  192 |   _LIBCPP_HIDE_FROM_ABI static key_type const& __get_key(__container_value_type const& __v) { return __v.first; }
      |                                              ^
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/__hash_table:225:14: note: in instantiation of template class 'std::__hash_key_value_types<std::__hash_value_type<void, unsigned long>>' requested here
  225 |     : public __hash_key_value_types<_Tp>,
      |              ^
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/__hash_table:680:20: note: in instantiation of template class 'std::__hash_node_types<std::__hash_node<std::__hash_value_type<void, unsigned long>, void *> *>' requested here
  680 |   typedef typename _NodeTypes::__node_value_type __node_value_type;
      |                    ^
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/unordered_map:1062:11: note: in instantiation of template class 'std::__hash_table<std::__hash_value_type<void, unsigned long>, std::__unordered_map_hasher<void, std::__hash_value_type<void, unsigned long>, std::hash<void>, std::equal_to<void>>, std::__unordered_map_equal<void, std::__hash_value_type<void, unsigned long>, std::equal_to<void>, std::hash<void>>, std::allocator<std::__hash_value_type<void, unsigned long>>>' requested here
 1062 |   __table __table_;
      |           ^
/Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/gc/map.hpp:20:35: note: in instantiation of template class 'std::unordered_map<void, unsigned long>' requested here
   20 |     std::unordered_map<K, size_t> index_; // Key -> index in items_ for O(1) lookup
      |                                   ^
dist/build/test.cpp:20:15: note: in instantiation of template class 'gs::Map<void, gs::String>' requested here
   20 |   auto map_ = gs::Map<void, gs::String>();
      |               ^
In file included from dist/build/test.cpp:1:
In file included from dist/build/test.hpp:5:
In file included from /Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/gc/gs_gc_runtime.hpp:24:
In file included from /Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/gc/array.hpp:6:
In file included from /opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/iostream:46:
In file included from /opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/istream:1383:
In file included from /opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/ostream:201:
In file included from /opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/format:251:
In file included from /opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/queue:276:
In file included from /opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/deque:2647:
In file included from /opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/functional:557:
In file included from /opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/__functional/boyer_moore_searcher.h:28:
In file included from /opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/unordered_map:595:
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/__hash_table:207:45: error: cannot form a reference to 'void'
  207 |   _LIBCPP_HIDE_FROM_ABI static pair<key_type&&, mapped_type&&> __move(__node_value_type& __v) { return __v.__move(); }
      |                                             ^
In file included from dist/build/test.cpp:1:
In file included from dist/build/test.hpp:5:
In file included from /Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/gc/gs_gc_runtime.hpp:24:
In file included from /Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/gc/array.hpp:6:
In file included from /opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/iostream:46:
In file included from /opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/istream:1383:
In file included from /opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/ostream:201:
In file included from /opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/format:251:
In file included from /opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/queue:276:
In file included from /opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/deque:2647:
In file included from /opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/functional:557:
In file included from /opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/__functional/boyer_moore_searcher.h:28:
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/unordered_map:660:53: error: cannot form a reference to 'void'
  660 |   _LIBCPP_HIDE_FROM_ABI size_t operator()(const _Key& __x) const { return static_cast<const _Hash&>(*this)(__x); }
      |                                                     ^
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/__memory/compressed_pair.h:61:51: note: in instantiation of template class 'std::__unordered_map_hasher<void, std::__hash_value_type<void, unsigned long>, std::hash<void>, std::equal_to<void>>' requested here
   61 | inline const size_t __compressed_pair_alignment = _LIBCPP_ALIGNOF(_Tp);
      |                                                   ^
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/__config:296:34: note: expanded from macro '_LIBCPP_ALIGNOF'
  296 | #    define _LIBCPP_ALIGNOF(_Tp) alignof(_Tp)
      |                                  ^
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/__hash_table:728:3: note: in instantiation of variable template specialization 'std::__compressed_pair_alignment<std::__unordered_map_hasher<void, std::__hash_value_type<void, unsigned long>, std::hash<void>, std::equal_to<void>>>' requested here
  728 |   _LIBCPP_COMPRESSED_PAIR(size_type, __size_, hasher, __hasher_);
      |   ^
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/__memory/compressed_pair.h:77:65: note: expanded from macro '_LIBCPP_COMPRESSED_PAIR'
   77 |     _LIBCPP_NO_UNIQUE_ADDRESS __attribute__((__aligned__(::std::__compressed_pair_alignment<T2>))) T1 Initializer1;    \
      |                                                                 ^
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/unordered_map:1062:11: note: in instantiation of template class 'std::__hash_table<std::__hash_value_type<void, unsigned long>, std::__unordered_map_hasher<void, std::__hash_value_type<void, unsigned long>, std::hash<void>, std::equal_to<void>>, std::__unordered_map_equal<void, std::__hash_value_type<void, unsigned long>, std::equal_to<void>, std::hash<void>>, std::allocator<std::__hash_value_type<void, unsigned long>>>' requested here
 1062 |   __table __table_;
      |           ^
/Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/gc/map.hpp:20:35: note: in instantiation of template class 'std::unordered_map<void, unsigned long>' requested here
   20 |     std::unordered_map<K, size_t> index_; // Key -> index in items_ for O(1) lookup
      |                                   ^
dist/build/test.cpp:20:15: note: in instantiation of template class 'gs::Map<void, gs::String>' requested here
   20 |   auto map_ = gs::Map<void, gs::String>();
      |               ^
In file included from dist/build/test.cpp:1:
In file included from dist/build/test.hpp:5:
In file included from /Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/gc/gs_gc_runtime.hpp:24:
In file included from /Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/gc/array.hpp:6:
In file included from /opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/iostream:46:
In file included from /opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/istream:1383:
In file included from /opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/ostream:201:
In file included from /opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/format:251:
In file included from /opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/queue:276:
In file included from /opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/deque:2647:
In file included from /opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/functional:557:
In file included from /opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/__functional/boyer_moore_searcher.h:28:
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/unordered_map:718:67: error: cannot form a reference to 'void'
  718 |   _LIBCPP_HIDE_FROM_ABI bool operator()(const _Cp& __x, const _Key& __y) const {
      |                                                                   ^
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/__memory/compressed_pair.h:61:51: note: in instantiation of template class 'std::__unordered_map_equal<void, std::__hash_value_type<void, unsigned long>, std::equal_to<void>, std::hash<void>>' requested here
   61 | inline const size_t __compressed_pair_alignment = _LIBCPP_ALIGNOF(_Tp);
      |                                                   ^
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/__config:296:34: note: expanded from macro '_LIBCPP_ALIGNOF'
  296 | #    define _LIBCPP_ALIGNOF(_Tp) alignof(_Tp)
      |                                  ^
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/__hash_table:729:3: note: in instantiation of variable template specialization 'std::__compressed_pair_alignment<std::__unordered_map_equal<void, std::__hash_value_type<void, unsigned long>, std::equal_to<void>, std::hash<void>>>' requested here
  729 |   _LIBCPP_COMPRESSED_PAIR(float, __max_load_factor_, key_equal, __key_eq_);
      |   ^
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/__memory/compressed_pair.h:77:65: note: expanded from macro '_LIBCPP_COMPRESSED_PAIR'
   77 |     _LIBCPP_NO_UNIQUE_ADDRESS __attribute__((__aligned__(::std::__compressed_pair_alignment<T2>))) T1 Initializer1;    \
      |                                                                 ^
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/unordered_map:1062:11: note: in instantiation of template class 'std::__hash_table<std::__hash_value_type<void, unsigned long>, std::__unordered_map_hasher<void, std::__hash_value_type<void, unsigned long>, std::hash<void>, std::equal_to<void>>, std::__unordered_map_equal<void, std::__hash_value_type<void, unsigned long>, std::equal_to<void>, std::hash<void>>, std::allocator<std::__hash_value_type<void, unsigned long>>>' requested here
 1062 |   __table __table_;
      |           ^
/Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/gc/map.hpp:20:35: note: in instantiation of template class 'std::unordered_map<void, unsigned long>' requested here
   20 |     std::unordered_map<K, size_t> index_; // Key -> index in items_ for O(1) lookup
      |                                   ^
dist/build/test.cpp:20:15: note: in instantiation of template class 'gs::Map<void, gs::String>' requested here
   20 |   auto map_ = gs::Map<void, gs::String>();
      |               ^
In file included from dist/build/test.cpp:1:
In file included from dist/build/test.hpp:5:
In file included from /Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/gc/gs_gc_runtime.hpp:24:
In file included from /Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/gc/array.hpp:6:
In file included from /opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/iostream:46:
In file included from /opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/istream:1383:
In file included from /opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/ostream:201:
In file included from /opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/format:251:
In file included from /opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/queue:276:
In file included from /opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/deque:2647:
In file included from /opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/functional:557:
In file included from /opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/__functional/boyer_moore_searcher.h:28:
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/unordered_map:721:51: error: cannot form a reference to 'void'
  721 |   _LIBCPP_HIDE_FROM_ABI bool operator()(const _Key& __x, const _Cp& __y) const {
      |                                                   ^
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/unordered_map:734:51: error: cannot form a reference to 'void'
  734 |   _LIBCPP_HIDE_FROM_ABI bool operator()(const _Key& __x, const _K2& __y) const {
      |                                                   ^
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/unordered_map:738:67: error: cannot form a reference to 'void'
  738 |   _LIBCPP_HIDE_FROM_ABI bool operator()(const _K2& __x, const _Key& __y) const {
      |                                                                   ^
In file included from dist/build/test.cpp:1:
In file included from dist/build/test.hpp:5:
In file included from /Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/gc/gs_gc_runtime.hpp:24:
In file included from /Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/gc/array.hpp:6:
In file included from /opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/iostream:46:
In file included from /opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/istream:1383:
In file included from /opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/ostream:201:
In file included from /opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/format:251:
In file included from /opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/queue:276:
In file included from /opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/deque:2647:
In file included from /opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/functional:557:
In file included from /opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/__functional/boyer_moore_searcher.h:28:
In file included from /opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/unordered_map:595:
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/__hash_table:877:73: error: cannot form a reference to 'void'
  877 |   _LIBCPP_HIDE_FROM_ABI _NodeHandle __node_handle_extract(key_type const& __key);
      |                                                                         ^
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/unordered_map:1062:11: note: in instantiation of template class 'std::__hash_table<std::__hash_value_type<void, unsigned long>, std::__unordered_map_hasher<void, std::__hash_value_type<void, unsigned long>, std::hash<void>, std::equal_to<void>>, std::__unordered_map_equal<void, std::__hash_value_type<void, unsigned long>, std::equal_to<void>, std::hash<void>>, std::allocator<std::__hash_value_type<void, unsigned long>>>' requested here
 1062 |   __table __table_;
      |           ^
/Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/gc/map.hpp:20:35: note: in instantiation of template class 'std::unordered_map<void, unsigned long>' requested here
   20 |     std::unordered_map<K, size_t> index_; // Key -> index in items_ for O(1) lookup
      |                                   ^
dist/build/test.cpp:20:15: note: in instantiation of template class 'gs::Map<void, gs::String>' requested here
   20 |   auto map_ = gs::Map<void, gs::String>();
      |               ^
In file included from dist/build/test.cpp:1:
In file included from dist/build/test.hpp:5:
In file included from /Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/gc/gs_gc_runtime.hpp:24:
In file included from /Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/gc/array.hpp:6:
In file included from /opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/iostream:46:
In file included from /opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/istream:1383:
In file included from /opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/ostream:201:
In file included from /opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/format:251:
In file included from /opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/queue:276:
In file included from /opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/deque:2647:
In file included from /opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/functional:557:
In file included from /opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/__functional/boyer_moore_searcher.h:28:
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/unordered_map:1281:72: error: cannot form a reference to 'void'
 1281 |   _LIBCPP_HIDE_FROM_ABI pair<iterator, bool> try_emplace(const key_type& __k, _Args&&... __args) {
      |                                                                        ^
/Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/gc/map.hpp:20:35: note: in instantiation of template class 'std::unordered_map<void, unsigned long>' requested here
   20 |     std::unordered_map<K, size_t> index_; // Key -> index in items_ for O(1) lookup
      |                                   ^
dist/build/test.cpp:20:15: note: in instantiation of template class 'gs::Map<void, gs::String>' requested here
   20 |   auto map_ = gs::Map<void, gs::String>();
      |               ^
In file included from dist/build/test.cpp:1:
In file included from dist/build/test.hpp:5:
In file included from /Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/gc/gs_gc_runtime.hpp:24:
In file included from /Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/gc/array.hpp:6:
In file included from /opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/iostream:46:
In file included from /opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/istream:1383:
In file included from /opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/ostream:201:
In file included from /opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/format:251:
In file included from /opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/queue:276:
In file included from /opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/deque:2647:
In file included from /opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/functional:557:
In file included from /opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/__functional/boyer_moore_searcher.h:28:
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/unordered_map:1287:66: error: cannot form a reference to 'void'
 1287 |   _LIBCPP_HIDE_FROM_ABI pair<iterator, bool> try_emplace(key_type&& __k, _Args&&... __args) {
      |                                                                  ^
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/unordered_map:1296:76: error: cannot form a reference to 'void'
 1296 |   _LIBCPP_HIDE_FROM_ABI iterator try_emplace(const_iterator, const key_type& __k, _Args&&... __args) {
      |                                                                            ^
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/unordered_map:1301:70: error: cannot form a reference to 'void'
 1301 |   _LIBCPP_HIDE_FROM_ABI iterator try_emplace(const_iterator, key_type&& __k, _Args&&... __args) {
      |                                                                      ^
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/unordered_map:1306:77: error: cannot form a reference to 'void'
 1306 |   _LIBCPP_HIDE_FROM_ABI pair<iterator, bool> insert_or_assign(const key_type& __k, _Vp&& __v) {
      |                                                                             ^
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/unordered_map:1315:71: error: cannot form a reference to 'void'
 1315 |   _LIBCPP_HIDE_FROM_ABI pair<iterator, bool> insert_or_assign(key_type&& __k, _Vp&& __v) {
      |                                                                       ^
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/unordered_map:1324:81: error: cannot form a reference to 'void'
 1324 |   _LIBCPP_HIDE_FROM_ABI iterator insert_or_assign(const_iterator, const key_type& __k, _Vp&& __v) {
      |                                                                                 ^
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/unordered_map:1329:75: error: cannot form a reference to 'void'
 1329 |   _LIBCPP_HIDE_FROM_ABI iterator insert_or_assign(const_iterator, key_type&& __k, _Vp&& __v) {
      |                                                                           ^
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/unordered_map:1336:55: error: cannot form a reference to 'void'
 1336 |   _LIBCPP_HIDE_FROM_ABI size_type erase(const key_type& __k) { return __table_.__erase_unique(__k); }
      |                                                       ^
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/unordered_map:1353:57: error: cannot form a reference to 'void'
 1353 |   _LIBCPP_HIDE_FROM_ABI node_type extract(key_type const& __key) {
      |                                                         ^
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/unordered_map:1393:53: error: cannot form a reference to 'void'
 1393 |   _LIBCPP_HIDE_FROM_ABI iterator find(const key_type& __k) { return __table_.find(__k); }
      |                                                     ^
fatal error: too many errors emitted, stopping now [-ferror-limit=]
20 errors generated.

stdout: 

   Expected: "one\ntwo\nthree\n"
   Got:      "üì¶ Compiling 1 file(s)...\n  ‚úì test.hpp\n  ‚úì test.cpp\n\nüî® Compiling to native binary...\n"
   [ownership] Failed (1674ms)
   Error: Command failed: /Users/bilbo/Devel/oss/goodscript/goodscript/compiler/bin/gsc --gsTarget cpp --gsMemory ownership -o /var/folders/dm/rpn_c6_13k167t8p_0dqr5gm0000gn/T/goodscript-equiv-1765410618908/test-ownership /var/folders/dm/rpn_c6_13k167t8p_0dqr5gm0000gn/T/goodscript-equiv-1765410618908/test-gs.ts

‚ùå Errors:
  Binary compilation failed
    Compiling cppcoro...
    Compiling test.cpp...
    Command failed: zig c++ -std=c++20 -O3 -c -I dist/build -I /Users/bilbo/Devel/oss/goodscript/goodscript/compiler/vendor/cpp-httplib -I /Users/bilbo/Devel/oss/goodscript/goodscript/compiler -I /Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp -I /Users/bilbo/Devel/oss/goodscript/goodscript/compiler/vendor/cppcoro/include dist/build/test.cpp -o dist/build/test.o
Exit code: 1
stderr: In file included from dist/build/test.cpp:1:
In file included from dist/build/test.hpp:5:
In file included from /Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/ownership/gs_runtime.hpp:36:
In file included from /opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/functional:557:
In file included from /opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/__functional/boyer_moore_searcher.h:28:
In file included from /opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/unordered_map:595:
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/__hash_table:192:46: error: cannot form a reference to 'void'
  192 |   _LIBCPP_HIDE_FROM_ABI static key_type const& __get_key(__container_value_type const& __v) { return __v.first; }
      |                                              ^
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/__hash_table:225:14: note: in instantiation of template class 'std::__hash_key_value_types<std::__hash_value_type<void, unsigned long>>' requested here
  225 |     : public __hash_key_value_types<_Tp>,
      |              ^
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/__hash_table:680:20: note: in instantiation of template class 'std::__hash_node_types<std::__hash_node<std::__hash_value_type<void, unsigned long>, void *> *>' requested here
  680 |   typedef typename _NodeTypes::__node_value_type __node_value_type;
      |                    ^
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/unordered_map:1062:11: note: in instantiation of template class 'std::__hash_table<std::__hash_value_type<void, unsigned long>, std::__unordered_map_hasher<void, std::__hash_value_type<void, unsigned long>, std::hash<void>, std::equal_to<void>>, std::__unordered_map_equal<void, std::__hash_value_type<void, unsigned long>, std::equal_to<void>, std::hash<void>>, std::allocator<std::__hash_value_type<void, unsigned long>>>' requested here
 1062 |   __table __table_;
      |           ^
/Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/ownership/gs_map.hpp:23:33: note: in instantiation of template class 'std::unordered_map<void, unsigned long>' requested here
   23 |   std::unordered_map<K, size_t> index_; // Key -> index in items_ for O(1) lookup
      |                                 ^
dist/build/test.cpp:20:15: note: in instantiation of template class 'gs::Map<void, gs::String>' requested here
   20 |   auto map_ = gs::Map<void, gs::String>();
      |               ^
In file included from dist/build/test.cpp:1:
In file included from dist/build/test.hpp:5:
In file included from /Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/ownership/gs_runtime.hpp:36:
In file included from /opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/functional:557:
In file included from /opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/__functional/boyer_moore_searcher.h:28:
In file included from /opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/unordered_map:595:
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/__hash_table:207:45: error: cannot form a reference to 'void'
  207 |   _LIBCPP_HIDE_FROM_ABI static pair<key_type&&, mapped_type&&> __move(__node_value_type& __v) { return __v.__move(); }
      |                                             ^
In file included from dist/build/test.cpp:1:
In file included from dist/build/test.hpp:5:
In file included from /Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/ownership/gs_runtime.hpp:36:
In file included from /opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/functional:557:
In file included from /opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/__functional/boyer_moore_searcher.h:28:
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/unordered_map:660:53: error: cannot form a reference to 'void'
  660 |   _LIBCPP_HIDE_FROM_ABI size_t operator()(const _Key& __x) const { return static_cast<const _Hash&>(*this)(__x); }
      |                                                     ^
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/__memory/compressed_pair.h:61:51: note: in instantiation of template class 'std::__unordered_map_hasher<void, std::__hash_value_type<void, unsigned long>, std::hash<void>, std::equal_to<void>>' requested here
   61 | inline const size_t __compressed_pair_alignment = _LIBCPP_ALIGNOF(_Tp);
      |                                                   ^
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/__config:296:34: note: expanded from macro '_LIBCPP_ALIGNOF'
  296 | #    define _LIBCPP_ALIGNOF(_Tp) alignof(_Tp)
      |                                  ^
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/__hash_table:728:3: note: in instantiation of variable template specialization 'std::__compressed_pair_alignment<std::__unordered_map_hasher<void, std::__hash_value_type<void, unsigned long>, std::hash<void>, std::equal_to<void>>>' requested here
  728 |   _LIBCPP_COMPRESSED_PAIR(size_type, __size_, hasher, __hasher_);
      |   ^
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/__memory/compressed_pair.h:77:65: note: expanded from macro '_LIBCPP_COMPRESSED_PAIR'
   77 |     _LIBCPP_NO_UNIQUE_ADDRESS __attribute__((__aligned__(::std::__compressed_pair_alignment<T2>))) T1 Initializer1;    \
      |                                                                 ^
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/unordered_map:1062:11: note: in instantiation of template class 'std::__hash_table<std::__hash_value_type<void, unsigned long>, std::__unordered_map_hasher<void, std::__hash_value_type<void, unsigned long>, std::hash<void>, std::equal_to<void>>, std::__unordered_map_equal<void, std::__hash_value_type<void, unsigned long>, std::equal_to<void>, std::hash<void>>, std::allocator<std::__hash_value_type<void, unsigned long>>>' requested here
 1062 |   __table __table_;
      |           ^
/Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/ownership/gs_map.hpp:23:33: note: in instantiation of template class 'std::unordered_map<void, unsigned long>' requested here
   23 |   std::unordered_map<K, size_t> index_; // Key -> index in items_ for O(1) lookup
      |                                 ^
dist/build/test.cpp:20:15: note: in instantiation of template class 'gs::Map<void, gs::String>' requested here
   20 |   auto map_ = gs::Map<void, gs::String>();
      |               ^
In file included from dist/build/test.cpp:1:
In file included from dist/build/test.hpp:5:
In file included from /Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/ownership/gs_runtime.hpp:36:
In file included from /opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/functional:557:
In file included from /opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/__functional/boyer_moore_searcher.h:28:
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/unordered_map:718:67: error: cannot form a reference to 'void'
  718 |   _LIBCPP_HIDE_FROM_ABI bool operator()(const _Cp& __x, const _Key& __y) const {
      |                                                                   ^
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/__memory/compressed_pair.h:61:51: note: in instantiation of template class 'std::__unordered_map_equal<void, std::__hash_value_type<void, unsigned long>, std::equal_to<void>, std::hash<void>>' requested here
   61 | inline const size_t __compressed_pair_alignment = _LIBCPP_ALIGNOF(_Tp);
      |                                                   ^
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/__config:296:34: note: expanded from macro '_LIBCPP_ALIGNOF'
  296 | #    define _LIBCPP_ALIGNOF(_Tp) alignof(_Tp)
      |                                  ^
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/__hash_table:729:3: note: in instantiation of variable template specialization 'std::__compressed_pair_alignment<std::__unordered_map_equal<void, std::__hash_value_type<void, unsigned long>, std::equal_to<void>, std::hash<void>>>' requested here
  729 |   _LIBCPP_COMPRESSED_PAIR(float, __max_load_factor_, key_equal, __key_eq_);
      |   ^
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/__memory/compressed_pair.h:77:65: note: expanded from macro '_LIBCPP_COMPRESSED_PAIR'
   77 |     _LIBCPP_NO_UNIQUE_ADDRESS __attribute__((__aligned__(::std::__compressed_pair_alignment<T2>))) T1 Initializer1;    \
      |                                                                 ^
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/unordered_map:1062:11: note: in instantiation of template class 'std::__hash_table<std::__hash_value_type<void, unsigned long>, std::__unordered_map_hasher<void, std::__hash_value_type<void, unsigned long>, std::hash<void>, std::equal_to<void>>, std::__unordered_map_equal<void, std::__hash_value_type<void, unsigned long>, std::equal_to<void>, std::hash<void>>, std::allocator<std::__hash_value_type<void, unsigned long>>>' requested here
 1062 |   __table __table_;
      |           ^
/Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/ownership/gs_map.hpp:23:33: note: in instantiation of template class 'std::unordered_map<void, unsigned long>' requested here
   23 |   std::unordered_map<K, size_t> index_; // Key -> index in items_ for O(1) lookup
      |                                 ^
dist/build/test.cpp:20:15: note: in instantiation of template class 'gs::Map<void, gs::String>' requested here
   20 |   auto map_ = gs::Map<void, gs::String>();
      |               ^
In file included from dist/build/test.cpp:1:
In file included from dist/build/test.hpp:5:
In file included from /Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/ownership/gs_runtime.hpp:36:
In file included from /opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/functional:557:
In file included from /opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/__functional/boyer_moore_searcher.h:28:
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/unordered_map:721:51: error: cannot form a reference to 'void'
  721 |   _LIBCPP_HIDE_FROM_ABI bool operator()(const _Key& __x, const _Cp& __y) const {
      |                                                   ^
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/unordered_map:734:51: error: cannot form a reference to 'void'
  734 |   _LIBCPP_HIDE_FROM_ABI bool operator()(const _Key& __x, const _K2& __y) const {
      |                                                   ^
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/unordered_map:738:67: error: cannot form a reference to 'void'
  738 |   _LIBCPP_HIDE_FROM_ABI bool operator()(const _K2& __x, const _Key& __y) const {
      |                                                                   ^
In file included from dist/build/test.cpp:1:
In file included from dist/build/test.hpp:5:
In file included from /Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/ownership/gs_runtime.hpp:36:
In file included from /opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/functional:557:
In file included from /opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/__functional/boyer_moore_searcher.h:28:
In file included from /opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/unordered_map:595:
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/__hash_table:877:73: error: cannot form a reference to 'void'
  877 |   _LIBCPP_HIDE_FROM_ABI _NodeHandle __node_handle_extract(key_type const& __key);
      |                                                                         ^
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/unordered_map:1062:11: note: in instantiation of template class 'std::__hash_table<std::__hash_value_type<void, unsigned long>, std::__unordered_map_hasher<void, std::__hash_value_type<void, unsigned long>, std::hash<void>, std::equal_to<void>>, std::__unordered_map_equal<void, std::__hash_value_type<void, unsigned long>, std::equal_to<void>, std::hash<void>>, std::allocator<std::__hash_value_type<void, unsigned long>>>' requested here
 1062 |   __table __table_;
      |           ^
/Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/ownership/gs_map.hpp:23:33: note: in instantiation of template class 'std::unordered_map<void, unsigned long>' requested here
   23 |   std::unordered_map<K, size_t> index_; // Key -> index in items_ for O(1) lookup
      |                                 ^
dist/build/test.cpp:20:15: note: in instantiation of template class 'gs::Map<void, gs::String>' requested here
   20 |   auto map_ = gs::Map<void, gs::String>();
      |               ^
In file included from dist/build/test.cpp:1:
In file included from dist/build/test.hpp:5:
In file included from /Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/ownership/gs_runtime.hpp:36:
In file included from /opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/functional:557:
In file included from /opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/__functional/boyer_moore_searcher.h:28:
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/unordered_map:1281:72: error: cannot form a reference to 'void'
 1281 |   _LIBCPP_HIDE_FROM_ABI pair<iterator, bool> try_emplace(const key_type& __k, _Args&&... __args) {
      |                                                                        ^
/Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/ownership/gs_map.hpp:23:33: note: in instantiation of template class 'std::unordered_map<void, unsigned long>' requested here
   23 |   std::unordered_map<K, size_t> index_; // Key -> index in items_ for O(1) lookup
      |                                 ^
dist/build/test.cpp:20:15: note: in instantiation of template class 'gs::Map<void, gs::String>' requested here
   20 |   auto map_ = gs::Map<void, gs::String>();
      |               ^
In file included from dist/build/test.cpp:1:
In file included from dist/build/test.hpp:5:
In file included from /Users/bilbo/Devel/oss/goodscript/goodscript/compiler/runtime/cpp/ownership/gs_runtime.hpp:36:
In file included from /opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/functional:557:
In file included from /opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/__functional/boyer_moore_searcher.h:28:
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/unordered_map:1287:66: error: cannot form a reference to 'void'
 1287 |   _LIBCPP_HIDE_FROM_ABI pair<iterator, bool> try_emplace(key_type&& __k, _Args&&... __args) {
      |                                                                  ^
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/unordered_map:1296:76: error: cannot form a reference to 'void'
 1296 |   _LIBCPP_HIDE_FROM_ABI iterator try_emplace(const_iterator, const key_type& __k, _Args&&... __args) {
      |                                                                            ^
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/unordered_map:1301:70: error: cannot form a reference to 'void'
 1301 |   _LIBCPP_HIDE_FROM_ABI iterator try_emplace(const_iterator, key_type&& __k, _Args&&... __args) {
      |                                                                      ^
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/unordered_map:1306:77: error: cannot form a reference to 'void'
 1306 |   _LIBCPP_HIDE_FROM_ABI pair<iterator, bool> insert_or_assign(const key_type& __k, _Vp&& __v) {
      |                                                                             ^
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/unordered_map:1315:71: error: cannot form a reference to 'void'
 1315 |   _LIBCPP_HIDE_FROM_ABI pair<iterator, bool> insert_or_assign(key_type&& __k, _Vp&& __v) {
      |                                                                       ^
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/unordered_map:1324:81: error: cannot form a reference to 'void'
 1324 |   _LIBCPP_HIDE_FROM_ABI iterator insert_or_assign(const_iterator, const key_type& __k, _Vp&& __v) {
      |                                                                                 ^
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/unordered_map:1329:75: error: cannot form a reference to 'void'
 1329 |   _LIBCPP_HIDE_FROM_ABI iterator insert_or_assign(const_iterator, key_type&& __k, _Vp&& __v) {
      |                                                                           ^
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/unordered_map:1336:55: error: cannot form a reference to 'void'
 1336 |   _LIBCPP_HIDE_FROM_ABI size_type erase(const key_type& __k) { return __table_.__erase_unique(__k); }
      |                                                       ^
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/unordered_map:1353:57: error: cannot form a reference to 'void'
 1353 |   _LIBCPP_HIDE_FROM_ABI node_type extract(key_type const& __key) {
      |                                                         ^
/opt/homebrew/Cellar/zig/0.15.2/lib/zig/libcxx/include/unordered_map:1393:53: error: cannot form a reference to 'void'
 1393 |   _LIBCPP_HIDE_FROM_ABI iterator find(const key_type& __k) { return __table_.find(__k); }
      |                                                     ^
fatal error: too many errors emitted, stopping now [-ferror-limit=]
20 errors generated.

stdout: 

   Expected: "one\ntwo\nthree\n"
   Got:      "üì¶ Compiling 1 file(s)...\n  ‚úì test.hpp\n  ‚úì test.cpp\n\nüî® Compiling to native binary...\n"
‚úÖ Math.abs
‚úÖ Math.min
‚úÖ Math.max
‚úÖ Math.floor
‚úÖ Math.ceil

‚ùå Math.round
   [gc] Failed (2098ms)
   Expected: "3\n4\n4\n-3\n"
   Got:      "3\n4\n4\n-4\n"
   [ownership] Failed (2226ms)
   Expected: "3\n4\n4\n-3\n"
   Got:      "3\n4\n4\n-4\n"
‚úÖ Math.sqrt
‚úÖ Math.pow
‚úÖ Math.PI
‚úÖ Math.E
‚úÖ Math operations in expression

============================================================
Total: 161 tests
Passed: 134 ‚úÖ
Failed: 27 ‚ùå
============================================================
